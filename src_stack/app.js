/*! For license information please see app.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(t,e,i){i("bUC5"),t.exports=i("pyCd")},"0/xZ":function(t,e,i){"use strict";i.d(e,"a",(function(){return b})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return x})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return s})),i.d(e,"f",(function(){return o})),i.d(e,"g",(function(){return r})),i.d(e,"h",(function(){return w})),i.d(e,"i",(function(){return a})),i.d(e,"j",(function(){return _})),i.d(e,"k",(function(){return S})),i.d(e,"l",(function(){return n})),i.d(e,"m",(function(){return y})),i.d(e,"n",(function(){return v}));var n,r=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),s=function(){function t(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),this._x=i,this._y=n,this.cb=t,this.scope=e}return t.prototype.clone=function(e,i){return void 0===e&&(e=this.cb),void 0===i&&(i=this.scope),new t(e,i,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),t}(),o=2*Math.PI,a=180/Math.PI,h=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(n||(n={}));var u=function(){function t(t,e,i,n,r,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=s}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,n,r,s){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=s,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new r;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new r;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,s=t.y;return e.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,r=this.c,s=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty,this},t.prototype.setTransform=function(t,e,i,n,r,s,o,a,h){return this.a=Math.cos(o+h)*r,this.b=Math.sin(o+h)*r,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(i*this.a+n*this.c),this.ty=e-(i*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=-Math.atan2(-n,r),a=Math.atan2(i,e),h=Math.abs(s+a);return h<1e-5||Math.abs(o-h)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=a),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.tx,s=t*n-e*i;return this.a=n/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-n*r)/s,this.ty=-(t*this.ty-e*r)/s,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!0,configurable:!0}),t}(),l=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],c=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],d=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],p=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],f=[],g=[],m=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];f.push(e);for(var i=0;i<16;i++)for(var n=m(l[t]*l[i]+d[t]*c[i]),r=m(c[t]*l[i]+p[t]*c[i]),s=m(l[t]*d[i]+d[t]*p[i]),o=m(c[t]*d[i]+p[t]*p[i]),a=0;a<16;a++)if(l[a]===n&&c[a]===r&&d[a]===s&&p[a]===o){e.push(a);break}}for(t=0;t<16;t++){var h=new u;h.set(l[t],c[t],d[t],p[t],0,0),g.push(h)}}();var v={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return l[t]},uY:function(t){return c[t]},vX:function(t){return d[t]},vY:function(t){return p[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return f[t][e]},sub:function(t,e){return f[t][v.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?v.S:v.N:2*Math.abs(e)<=Math.abs(t)?t>0?v.E:v.W:e>0?t>0?v.SE:v.SW:t>0?v.NE:v.NW},matrixAppendRotationInv:function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r=g[v.inv(e)];r.tx=i,r.ty=n,t.append(r)}},y=function(){function t(){this.worldTransform=new u,this.localTransform=new u,this.position=new s(this.onChange,this,0,0),this.scale=new s(this.onChange,this,1,1),this.pivot=new s(this.onChange,this,0,0),this.skew=new s(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,n=this.worldTransform;n.a=e.a*i.a+e.b*i.c,n.b=e.a*i.b+e.b*i.d,n.c=e.c*i.a+e.d*i.c,n.d=e.c*i.b+e.d*i.d,n.tx=e.tx*i.a+e.ty*i.c+i.tx,n.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),t.IDENTITY=new t,t}(),_=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=n.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),r=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=n,this.height=Math.max(r-n,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=n-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=n,this.height=r-n,this},t}(),b=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=n.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,n=this.x-t,r=this.y-e;return(n*=n)+(r*=r)<=i},t.prototype.getBounds=function(){return new _(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),x=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=n.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,n=(e-this.y)/this.height;return(i*=i)+(n*=n)<=1},t.prototype.getBounds=function(){return new _(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),w=function(){function t(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(Array.isArray(e[0])&&(e=e[0]),e[0]instanceof r){for(var s=[],o=0,a=(e=e).length;o<a;o++)s.push(e[o].x,e[o].y);e=s}this.points=e,this.type=n.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var i=!1,n=this.points.length/2,r=0,s=n-1;r<n;s=r++){var o=this.points[2*r],a=this.points[2*r+1],h=this.points[2*s],u=this.points[2*s+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-o)+o&&(i=!i)}return i},t}(),S=function(){function t(t,e,i,r,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=s,this.type=n.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),n=e-(this.y+this.radius),r=this.radius*this.radius;if(i*i+n*n<=r)return!0;if((i=t-(this.x+this.width-this.radius))*i+n*n<=r)return!0;if(i*i+(n=e-(this.y+this.height-this.radius))*n<=r)return!0;if((i=t-(this.x+this.radius))*i+n*n<=r)return!0}return!1},t}()},"0ZgC":function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".is-spinner[data-v-12041f52] {\n  z-index: 9999;\n  position: absolute;\n  width: calc(33vmin - 3em);\n  height: calc(33vmin - 3em);\n  border: none;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n#crafting-modal[data-v-12041f52] {\n  position: absolute;\n  width: 50vmin;\n  max-width: 50vmin;\n  left: 50vw;\n  top: 0;\n  background-color: black;\n}\n#crafting-modal[data-v-12041f52] {\n  height: 100vmin;\n  min-height: 100vmin;\n}\n#crafting-head[data-v-12041f52] {\n  position: relative;\n  height: 33vmin;\n  max-height: 33vmin;\n  max-width: 50vmin;\n}\n#crafting-body[data-v-12041f52] {\n  position: relative;\n  height: 66vmin;\n  max-height: 66vmin;\n  overflow-y: auto;\n  max-width: 50vmin;\n}\n.crafting-options-wrapper[data-v-12041f52] {\n  display: inline-flex;\n  flex-wrap: wrap;\n  width: 50vmin;\n}\n.crafting-option[data-v-12041f52] {\n  width: 16.6vmin;\n  height: 16.6vmin;\n  opacity: 0.5;\n  background-size: contain;\n  background-repeat: no-repeat;\n  position: relative;\n}\n.crafting-option.is-opaque[data-v-12041f52] {\n  opacity: 1;\n  margin-left: 16.6vmin;\n}\n.crafting-option.is-small[data-v-12041f52] {\n  width: 8vmin;\n  height: 8vmin;\n}\n.crafting-option.active-menu-item[data-v-12041f52] {\n  opacity: 1;\n  -webkit-filter: none;\n          filter: none;\n}\n.crafting-option.has-crafting-background[data-v-12041f52] {\n  background-image: url(/img/game/crafting/slot_craft_fixed.png);\n}\n.crafting-option.has-refining-background[data-v-12041f52] {\n  background-image: url(/img/game/crafting/slot_refine_fixed.png);\n}\n.crafting-option.has-blue-background[data-v-12041f52] {\n  background-image: url(/img/game/crafting/blue.png);\n}\n.crafting-option.has-red-background[data-v-12041f52] {\n  background-image: url(/img/game/crafting/red.png);\n}\n.crafting-option.has-yellow-background[data-v-12041f52] {\n  background-image: url(/img/game/crafting/yellow.png);\n}\n.crafting-option.has-green-background[data-v-12041f52] {\n  background-image: url(/img/game/crafting/green.png);\n}\n.is-amount-counter[data-v-12041f52] {\n  position: absolute;\n  bottom: 2.5vmin;\n  right: 0;\n  border: 3px #000000 solid;\n  font-weight: bold;\n  padding-left: 0.35rem;\n  padding-right: 0.35rem;\n  z-index: 999999;\n}\n.is-player-sprite[data-v-12041f52] {\n  height: 16.6vmin;\n  width: 16.6vmin;\n  min-width: 16.6vmin;\n  min-height: 16.6vmin;\n  background-color: transparent;\n}\n.inner-image[data-v-12041f52] {\n  width: 100%;\n}\n.is-tab-option[data-v-12041f52] {\n  width: 12.4vmin;\n  height: 12.4vmin;\n  -webkit-filter: grayscale(100%);\n          filter: grayscale(100%);\n}\n.is-reverse-ordered[data-v-12041f52] {\n  flex-direction: row-reverse;\n}",""])},"1eSL":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,i,n){void 0===i&&(i=!1),r(this,t),this._fn=e,this._once=i,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){r(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,e.default=a,t.exports=e.default},"1faS":function(t,e,i){"use strict";var n=i("msCR"),r=i("0/xZ");n.c.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new r.g),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},"2/SP":function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".add-selected[data-v-5caacdef] {\n  -webkit-filter: none;\n          filter: none;\n}",""])},"2HMg":function(t,e,i){"use strict";var n=i("VCo/");i.n(n).a},"2SVd":function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"2bxg":function(t,e,i){var n=i("Z6CL");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},"4+n8":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n}));var n,r=i("sKAn");r.b.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(n||(n={}));var s=function(){function t(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=0),void 0===n&&(n=!1),this.fn=t,this.context=e,this.priority=i,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),o=function(){function t(){var t=this;this._head=new s(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/r.b.TARGET_FPMS,this.elapsedMS=1/r.b.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,i){return void 0===i&&(i=n.NORMAL),this._addListener(new s(t,e,i))},t.prototype.addOnce=function(t,e,i){return void 0===i&&(i=n.NORMAL),this._addListener(new s(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*r.b.TARGET_FPMS;for(var n=this._head,s=n.next;s;)s=s.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,r.b.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!0,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!0,configurable:!0}),t}(),a=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,n.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?o.shared:new o,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}()},"49sm":function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},"4JlD":function(t,e,i){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,i,a){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?s(o(t),(function(o){var a=encodeURIComponent(n(o))+i;return r(t[o])?s(t[o],(function(t){return a+encodeURIComponent(n(t))})).join(e):a+encodeURIComponent(n(t[o]))})).join(e):a?encodeURIComponent(n(a))+i+encodeURIComponent(n(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var o=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},"5+U3":function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return a}));var n=i("wp0G"),r=i("sKAn");var s={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},o=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var a=function(t){function e(e,i,n,a,h){var u=function(t,e){var i,n=Math.ceil(t/2),r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",s="";i=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var a=i.replace("%index%",o);s+=a=a.replace("%sampleIndex%",o-(n-1)+".0"),s+="\n"}return r=(r=r.replace("%blur%",s)).replace("%size%",t)}(h=h||5,e),l=function(t){for(var e,i=s[t],n=i.length,r=o,a="",h=0;h<t;h++){var u="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",h);e=h,h>=n&&(e=t-h-1),a+=u=u.replace("%value%",i[e]),a+="\n"}return r=(r=r.replace("%blur%",a)).replace("%size%",t)}(h);t.call(this,u,l),this.horizontal=e,this.resolution=a||r.b.RESOLUTION,this._quality=0,this.quality=n||4,this.blur=i||8}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,n);else{var r=t.getFilterTexture(),s=t.renderer,o=e,a=r;this.state.blend=!1,t.applyFilter(this,o,a,!0);for(var h=1;h<this.passes-1;h++){s.renderTexture.bind(o,o.filterFrame),this.uniforms.uSampler=a;var u=a;a=o,o=u,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,n),t.returnFilterTexture(r)}},i.blur.get=function(){return this.strength},i.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},i.quality.get=function(){return this._quality},i.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,i),e}(n.n),h=function(t){function e(e,i,n,s){t.call(this),this.blurXFilter=new a(!0,e,i,n,s),this.blurYFilter=new a(!1,e,i,n,s),this.resolution=n||r.b.RESOLUTION,this.quality=i||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){var r=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(r&&s){var o=t.getFilterTexture();this.blurXFilter.apply(t,e,o,!0),this.blurYFilter.apply(t,o,i,n),t.returnFilterTexture(o)}else s?this.blurYFilter.apply(t,e,i,n):this.blurXFilter.apply(t,e,i,n)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},i.blur.get=function(){return this.blurXFilter.blur},i.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},i.quality.get=function(){return this.blurXFilter.quality},i.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},i.blurX.get=function(){return this.blurXFilter.blur},i.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},i.blurY.get=function(){return this.blurYFilter.blur},i.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},i.blendMode.get=function(){return this.blurYFilter.blendMode},i.blendMode.set=function(t){this.blurYFilter.blendMode=t},i.repeatEdgePixels.get=function(){return this._repeatEdgePixels},i.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,i),e}(n.n)},"5OK5":function(t,e,i){var n=i("TEUs");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},"5k4z":function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".spritesheet-preview[data-v-d25fa8d6] {\n  position: absolute;\n  width: 8vmin;\n  height: 8vmin;\n}",""])},"5oMp":function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"64LW":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("wp0G"),r=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random()),t.call(this,n.L,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={noise:{configurable:!0},seed:{configurable:!0}};return i.noise.get=function(){return this.uniforms.uNoise},i.noise.set=function(t){this.uniforms.uNoise=t},i.seed.get=function(){return this.uniforms.uSeed},i.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,i),e}(n.n)},"6wog":function(t,e,i){"use strict";(function(t){var e=i("OQdp"),n=i("MgzW"),r=i.n(n);window.Promise||(window.Promise=e.Polyfill),Object.assign||(Object.assign=r.a);var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!s.performance||!s.performance.now){var o=Date.now();s.performance||(s.performance={}),s.performance.now=function(){return Date.now()-o}}for(var a=Date.now(),h=["ms","moz","webkit","o"],u=0;u<h.length&&!s.requestAnimationFrame;++u){var l=h[u];s.requestAnimationFrame=s[l+"RequestAnimationFrame"],s.cancelAnimationFrame=s[l+"CancelAnimationFrame"]||s[l+"CancelRequestAnimationFrame"]}s.requestAnimationFrame||(s.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+a-e;return i<0&&(i=0),a=e,setTimeout((function(){a=Date.now(),t(performance.now())}),i)}),s.cancelAnimationFrame||(s.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)}).call(this,i("yLpj"))},"7Kek":function(t,e,i){"use strict";var n=i("QY6m");i.n(n).a},"8MvT":function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},"8UI6":function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function s(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,i,n,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new o(i,n||t,s),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o},u.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},u.prototype.emit=function(t,e,i,n,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,s),!0;case 6:return l.fn.call(l.context,e,i,n,s,o),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,i);break;case 4:l[u].fn.call(l[u].context,e,i,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},u.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},u.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},u.prototype.removeListener=function(t,e,i,n){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return h(this,s),this;var o=this._events[s];if(o.fn)o.fn!==e||n&&!o.once||i&&o.context!==i||h(this,s);else{for(var a=0,u=[],l=o.length;a<l;a++)(o[a].fn!==e||n&&!o[a].once||i&&o[a].context!==i)&&u.push(o[a]);u.length?this._events[s]=1===u.length?u[0]:u:h(this,s)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&h(this,e)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u},"8oxB":function(t,e){var i,n,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var h,u=[],l=!1,c=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new f(t,e)),1!==u.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"9Wh1":function(t,e,i){window._=i("LvDl"),window.axios=i("vDqi"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var n=document.head.querySelector('meta[name="csrf-token"]');n?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=n.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},"9rSQ":function(t,e,i){"use strict";var n=i("xTJ+");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,s=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},ANS7:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return u}));var n=i("0/xZ"),r=i("wp0G"),s=i("qoEl"),o=i("ZE2f"),a=function(t,e,i){void 0===i&&(i=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(i||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},h={BATCH_SIZE:{configurable:!0}};h.BATCH_SIZE.get=function(){return 1e3},a.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=Object(s.getResolutionOfUrl)(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},a.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=a.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},a.prototype._processFrames=function(t){for(var e=t,i=a.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var s=this._frameKeys[e],o=this._frames[s],h=o.frame;if(h){var u=null,l=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,d=new n.j(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);u=o.rotated?new n.j(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):new n.j(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new n.j(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[s]=new r.E(this.baseTexture,u,d,l,o.rotated?2:0,o.anchor),r.E.addToCache(this.textures[s],s)}e++}},a.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++){var n=t[e][i];this.animations[e].push(this.textures[n])}}},a.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},a.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*a.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*a.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},a.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(a,h);var u=function(){};u.use=function(t,e){var i=t.name+"_image";if(t.data&&t.type===o.c.TYPE.JSON&&t.data.frames&&!this.resources[i]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},r=u.getResourcePath(t,this.baseUrl);this.add(i,r,n,(function(i){if(i.error)e(i.error);else{var n=new a(i.texture.baseTexture,t.data,t.url);n.parse((function(){t.spritesheet=n,t.textures=n.textures,e()}))}}))}else e()},u.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:s.url.resolve(t.url.replace(e,""),t.data.meta.image)}},AbsP:function(t,e,i){"use strict";var n=i("jOCq");i.n(n).a},CgaS:function(t,e,i){"use strict";var n=i("xTJ+"),r=i("MLWZ"),s=i("9rSQ"),o=i("UnBK"),a=i("SntB");function h(t){this.defaults=t,this.interceptors={request:new s,response:new s}}h.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)i=i.then(e.shift(),e.shift());return i},h.prototype.getUri=function(t){return t=a(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){h.prototype[t]=function(e,i){return this.request(n.merge(i||{},{method:t,url:e}))}})),n.forEach(["post","put","patch"],(function(t){h.prototype[t]=function(e,i,r){return this.request(n.merge(r||{},{method:t,url:e,data:i}))}})),t.exports=h},CxY0:function(t,e,i){"use strict";var n=i("GYWy"),r=i("Nehr");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){r.isString(t)&&(t=_(t));return t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=i("s4NR");function _(t,e,i){if(t&&r.isObject(t)&&t instanceof s)return t;var n=new s;return n.parse(t,e,i),n}s.prototype.parse=function(t,e,i){if(!r.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),a=-1!==s&&s<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!i&&1===t.split("#").length){var b=h.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=o.exec(_);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,_=_.substr(x.length)}if(i||x||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===_.substr(0,2);!S||x&&m[x]||(_=_.substr(2),this.slashes=!0)}if(!m[x]&&(S||x&&!v[x])){for(var T,k,C=-1,E=0;E<d.length;E++){-1!==(O=_.indexOf(d[E]))&&(-1===C||O<C)&&(C=O)}-1!==(k=-1===C?_.lastIndexOf("@"):_.lastIndexOf("@",C))&&(T=_.slice(0,k),_=_.slice(k+1),this.auth=decodeURIComponent(T)),C=-1;for(E=0;E<c.length;E++){var O;-1!==(O=_.indexOf(c[E]))&&(-1===C||O<C)&&(C=O)}-1===C&&(C=_.length),this.host=_.slice(0,C),_=_.slice(C),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),M=(E=0,P.length);E<M;E++){var A=P[E];if(A&&!A.match(p)){for(var R="",D=0,L=A.length;D<L;D++)A.charCodeAt(D)>127?R+="x":R+=A[D];if(!R.match(p)){var F=P.slice(0,E),N=P.slice(E+1),B=A.match(f);B&&(F.push(B[1]),N.unshift(B[2])),N.length&&(_="/"+N.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+U,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[w])for(E=0,M=l.length;E<M;E++){var z=l[E];if(-1!==_.indexOf(z)){var X=encodeURIComponent(z);X===z&&(X=escape(z)),_=_.split(z).join(X)}}var H=_.indexOf("#");-1!==H&&(this.hash=_.substr(H),_=_.slice(0,H));var Y=_.indexOf("?");if(-1!==Y?(this.search=_.substr(Y),this.query=_.substr(Y+1),e&&(this.query=y.parse(this.query)),_=_.slice(0,Y)):e&&(this.search="",this.query={}),_&&(this.pathname=_),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var q=this.search||"";this.path=U+q}return this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==s?(s="//"+(s||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+s+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},s.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(r.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var i=new s,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(i[l]=t[l])}return v[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!v[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||m[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var g=i.pathname||"",y=i.search||"";i.path=g+y}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var _=i.pathname&&"/"===i.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||_||i.host&&t.pathname,w=x,S=i.pathname&&i.pathname.split("/")||[],T=(f=t.pathname&&t.pathname.split("/")||[],i.protocol&&!v[i.protocol]);if(T&&(i.hostname="",i.port=null,i.host&&(""===S[0]?S[0]=i.host:S.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),x=x&&(""===f[0]||""===S[0])),b)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),i.search=t.search,i.query=t.query;else if(!r.isNullOrUndefined(t.search)){if(T)i.hostname=i.host=S.shift(),(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift());return i.search=t.search,i.query=t.query,r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!S.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var k=S.slice(-1)[0],C=(i.host||t.host||S.length>1)&&("."===k||".."===k)||""===k,E=0,O=S.length;O>=0;O--)"."===(k=S[O])?S.splice(O,1):".."===k?(S.splice(O,1),E++):E&&(S.splice(O,1),E--);if(!x&&!w)for(;E--;E)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),C&&"/"!==S.join("/").substr(-1)&&S.push("");var I,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);T&&(i.hostname=i.host=P?"":S.length?S.shift():"",(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift()));return(x=x||i.host&&S.length)&&!P&&S.unshift(""),S.length?i.pathname=S.join("/"):(i.pathname=null,i.path=null),r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},s.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},"D0C/":function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return l}));var n=i("SrKC"),r=i("qoEl"),s=i("msCR"),o=i("wp0G"),a=i("0/xZ"),h=function(t){function e(e,i,r,s){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===s&&(s=!1),t.call(this);r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=n.b.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(i),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,Object(r.hex2rgb)(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,i),e}(s.b),u=function(t,e,i){this.geometry=new o.r,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var s=t[r];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||n.m.FLOAT,offset:s.offset},e[r]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};u.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new o.l(Object(r.createIndicesForQuads)(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var s=this.dynamicProperties[i];s.offset=e,e+=s.size,this.dynamicStride+=s.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new o.l(this.dynamicData,!1,!1);var h=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var l=this.staticProperties[u];l.offset=h,h+=l.size,this.staticStride+=l.size}var c=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=new o.l(this.staticData,!0,!1);for(var d=0;d<this.dynamicProperties.length;++d){var p=this.dynamicProperties[d];t.addAttribute(p.attributeName,this.dynamicBuffer,0,p.type===n.m.UNSIGNED_BYTE,p.type,4*this.dynamicStride,4*p.offset)}for(var f=0;f<this.staticProperties.length;++f){var g=this.staticProperties[f];t.addAttribute(g.attributeName,this.staticBuffer,0,g.type===n.m.UNSIGNED_BYTE,g.type,4*this.staticStride,4*g.offset)}},u.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var s=this.dynamicProperties[r];s.uploadFunction(t,e,i,s.type===n.m.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},u.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var s=this.staticProperties[r];s.uploadFunction(t,e,i,s.type===n.m.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},u.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var l=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new a.d,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:n.m.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=o.A.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=o.C.for2d()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,i=t._maxSize,n=t._batchSize,s=this.renderer,o=e.length;if(0!==o){o>i&&!t.autoResize&&(o=i);var a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));var h=e[0]._texture.baseTexture;this.state.blendMode=Object(r.correctBlendMode)(t.blendMode,h.alphaMode),s.state.set(this.state);var u=s.gl,l=t.worldTransform.copyTo(this.tempMatrix);l.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=Object(r.premultiplyRgba)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,h.alphaMode),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);for(var c=!1,d=0,p=0;d<o;d+=n,p+=1){var f=o-d;f>n&&(f=n),p>=a.length&&a.push(this._generateOneMoreBuffer(t));var g=a[p];g.uploadDynamic(e,d,f);var m=t._bufferUpdateIDs[p]||0;(c=c||g._updateID<m)&&(g._updateID=t._updateID,g.uploadStatic(e,d,f)),s.geometry.bind(g.geometry),u.drawElements(u.TRIANGLES,6*f,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,n=t._batchSize,r=t._properties,s=0;s<i;s+=n)e.push(new u(this.properties,r,n));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new u(this.properties,i,e)},e.prototype.uploadVertices=function(t,e,i,n,r,s){for(var o=0,a=0,h=0,u=0,l=0;l<i;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,g=d.trim,m=d.orig;g?(o=(a=g.x-c.anchor.x*m.width)+g.width,h=(u=g.y-c.anchor.y*m.height)+g.height):(o=m.width*(1-c.anchor.x),a=m.width*-c.anchor.x,h=m.height*(1-c.anchor.y),u=m.height*-c.anchor.y),n[s]=a*p,n[s+1]=u*f,n[s+r]=o*p,n[s+r+1]=u*f,n[s+2*r]=o*p,n[s+2*r+1]=h*f,n[s+3*r]=a*p,n[s+3*r+1]=h*f,s+=4*r}},e.prototype.uploadPosition=function(t,e,i,n,r,s){for(var o=0;o<i;o++){var a=t[e+o].position;n[s]=a.x,n[s+1]=a.y,n[s+r]=a.x,n[s+r+1]=a.y,n[s+2*r]=a.x,n[s+2*r+1]=a.y,n[s+3*r]=a.x,n[s+3*r+1]=a.y,s+=4*r}},e.prototype.uploadRotation=function(t,e,i,n,r,s){for(var o=0;o<i;o++){var a=t[e+o].rotation;n[s]=a,n[s+r]=a,n[s+2*r]=a,n[s+3*r]=a,s+=4*r}},e.prototype.uploadUvs=function(t,e,i,n,r,s){for(var o=0;o<i;++o){var a=t[e+o]._texture._uvs;a?(n[s]=a.x0,n[s+1]=a.y0,n[s+r]=a.x1,n[s+r+1]=a.y1,n[s+2*r]=a.x2,n[s+2*r+1]=a.y2,n[s+3*r]=a.x3,n[s+3*r+1]=a.y3,s+=4*r):(n[s]=0,n[s+1]=0,n[s+r]=0,n[s+r+1]=0,n[s+2*r]=0,n[s+2*r+1]=0,n[s+3*r]=0,n[s+3*r+1]=0,s+=4*r)}},e.prototype.uploadTint=function(t,e,i,n,s,o){for(var a=0;a<i;++a){var h=t[e+a],u=h._texture.baseTexture.alphaMode>0,l=h.alpha,c=l<1&&u?Object(r.premultiplyTint)(h._tintRGB,l):h._tintRGB+(255*l<<24);n[o]=c,n[o+s]=c,n[o+2*s]=c,n[o+3*s]=c,o+=4*s}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(o.t)},DfZB:function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},DlxR:function(t,e,i){"use strict";var n=i("NbMR");i.n(n).a},G12T:function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return _})),i.d(e,"c",(function(){return m})),i.d(e,"d",(function(){return c}));var n=i("fqrp"),r=i("wp0G"),s=i("sKAn"),o=i("0/xZ"),a=i("qoEl"),h={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},u={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:h.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},l=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],c=function(t){this.styleID=0,this.reset(),g(this,t,t)},d={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function p(t){return"number"==typeof t?Object(a.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function f(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=p(t[e]);return t}return p(t)}function g(t,e,i){for(var n in i)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}c.prototype.clone=function(){var t={};return g(t,this,u),new c(t)},c.prototype.reset=function(){g(this,u,u)},d.align.get=function(){return this._align},d.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},d.breakWords.get=function(){return this._breakWords},d.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},d.dropShadow.get=function(){return this._dropShadow},d.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},d.dropShadowAlpha.get=function(){return this._dropShadowAlpha},d.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},d.dropShadowAngle.get=function(){return this._dropShadowAngle},d.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},d.dropShadowBlur.get=function(){return this._dropShadowBlur},d.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},d.dropShadowColor.get=function(){return this._dropShadowColor},d.dropShadowColor.set=function(t){var e=f(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},d.dropShadowDistance.get=function(){return this._dropShadowDistance},d.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},d.fill.get=function(){return this._fill},d.fill.set=function(t){var e=f(t);this._fill!==e&&(this._fill=e,this.styleID++)},d.fillGradientType.get=function(){return this._fillGradientType},d.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},d.fillGradientStops.get=function(){return this._fillGradientStops},d.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},d.fontFamily.get=function(){return this._fontFamily},d.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},d.fontSize.get=function(){return this._fontSize},d.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},d.fontStyle.get=function(){return this._fontStyle},d.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},d.fontVariant.get=function(){return this._fontVariant},d.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},d.fontWeight.get=function(){return this._fontWeight},d.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},d.letterSpacing.get=function(){return this._letterSpacing},d.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},d.lineHeight.get=function(){return this._lineHeight},d.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},d.leading.get=function(){return this._leading},d.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},d.lineJoin.get=function(){return this._lineJoin},d.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},d.miterLimit.get=function(){return this._miterLimit},d.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},d.padding.get=function(){return this._padding},d.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},d.stroke.get=function(){return this._stroke},d.stroke.set=function(t){var e=f(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},d.strokeThickness.get=function(){return this._strokeThickness},d.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},d.textBaseline.get=function(){return this._textBaseline},d.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},d.trim.get=function(){return this._trim},d.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},d.whiteSpace.get=function(){return this._whiteSpace},d.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},d.wordWrap.get=function(){return this._wordWrap},d.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},d.wordWrapWidth.get=function(){return this._wordWrapWidth},d.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},c.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var n=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&l.indexOf(n)<0&&(n='"'+n+'"'),e[i]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(c.prototype,d);var m=function(t,e,i,n,r,s,o,a,h){this.text=t,this.style=e,this.width=i,this.height=n,this.lines=r,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=h};m.measureText=function(t,e,i,n){void 0===n&&(n=m._canvas),i=null==i?e.wordWrap:i;var r=e.toFontString(),s=m.measureFont(r);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var o=n.getContext("2d");o.font=r;for(var a=(i?m.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=o.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||s.fontSize+e.strokeThickness,f=Math.max(p,s.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new m(t,e,d,f,a,h,p+e.leading,u,s)},m.wordWrap=function(t,e,i){void 0===i&&(i=m._canvas);for(var n=i.getContext("2d"),r=0,s="",o="",a={},h=e.letterSpacing,u=e.whiteSpace,l=m.collapseSpaces(u),c=m.collapseNewlines(u),d=!l,p=e.wordWrapWidth+h,f=m.tokenize(t),g=0;g<f.length;g++){var v=f[g];if(m.isNewline(v)){if(!c){o+=m.addLine(s),d=!l,s="",r=0;continue}v=" "}if(l){var y=m.isBreakingSpace(v),_=m.isBreakingSpace(s[s.length-1]);if(y&&_)continue}var b=m.getFromCache(v,h,a,n);if(b>p)if(""!==s&&(o+=m.addLine(s),s="",r=0),m.canBreakWords(v,e.breakWords))for(var x=m.wordWrapSplit(v),w=0;w<x.length;w++){for(var S=x[w],T=1;x[w+T];){var k=x[w+T],C=S[S.length-1];if(m.canBreakChars(C,k,v,w,e.breakWords))break;S+=k,T++}w+=S.length-1;var E=m.getFromCache(S,h,a,n);E+r>p&&(o+=m.addLine(s),d=!1,s="",r=0),s+=S,r+=E}else{s.length>0&&(o+=m.addLine(s),s="",r=0);var O=g===f.length-1;o+=m.addLine(v,!O),d=!1,s="",r=0}else b+r>p&&(d=!1,o+=m.addLine(s),s="",r=0),(s.length>0||!m.isBreakingSpace(v)||d)&&(s+=v,r+=b)}return o+=m.addLine(s,!1)},m.addLine=function(t,e){return void 0===e&&(e=!0),t=m.trimRight(t),t=e?t+"\n":t},m.getFromCache=function(t,e,i,n){var r=i[t];if(void 0===r){var s=t.length*e;r=n.measureText(t).width+s,i[t]=r}return r},m.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},m.collapseNewlines=function(t){return"normal"===t},m.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var i=t[e];if(!m.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},m.isNewline=function(t){return"string"==typeof t&&m._newlines.indexOf(t.charCodeAt(0))>=0},m.isBreakingSpace=function(t){return"string"==typeof t&&m._breakingSpaces.indexOf(t.charCodeAt(0))>=0},m.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var n=0;n<t.length;n++){var r=t[n];m.isBreakingSpace(r)||m.isNewline(r)?(""!==i&&(e.push(i),i=""),e.push(r)):i+=r}return""!==i&&e.push(i),e},m.canBreakWords=function(t,e){return e},m.canBreakChars=function(t,e,i,n,r){return!0},m.wordWrapSplit=function(t){return t.split("")},m.measureFont=function(t){if(m._fonts[t])return m._fonts[t];var e={},i=m._canvas,n=m._context;n.font=t;var r=m.METRICS_STRING+m.BASELINE_SYMBOL,s=Math.ceil(n.measureText(r).width),o=Math.ceil(n.measureText(m.BASELINE_SYMBOL).width),a=2*o;o=o*m.BASELINE_MULTIPLIER|0,i.width=s,i.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(r,0,o);var h=n.getImageData(0,0,s,a).data,u=h.length,l=4*s,c=0,d=0,p=!1;for(c=0;c<o;++c){for(var f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=l}for(e.ascent=o-c,d=u-l,p=!1,c=a;c>o;--c){for(var g=0;g<l;g+=4)if(255!==h[d+g]){p=!0;break}if(p)break;d-=l}return e.descent=c-o,e.fontSize=e.ascent+e.descent,m._fonts[t]=e,e},m.clearMetrics=function(t){void 0===t&&(t=""),t?delete m._fonts[t]:m._fonts={}};var v=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();v.width=v.height=10,m._canvas=v,m._context=v.getContext("2d"),m._fonts={},m.METRICS_STRING="|q",m.BASELINE_SYMBOL="M",m.BASELINE_MULTIPLIER=1.4,m._newlines=[10,13],m._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var y={texture:!0,children:!1,baseTexture:!0},_=function(t){function e(e,i,n){(n=n||document.createElement("canvas")).width=3,n.height=3;var a=r.E.from(n);a.orig=new o.j,a.trim=new o.j,t.call(this,a),this.canvas=n,this.context=this.canvas.getContext("2d"),this._resolution=s.b.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=i,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,n,r=this.context,s=m.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,h=s.height,u=s.lines,l=s.lineHeight,c=s.lineWidths,d=s.maxLineWidth,p=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,o)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,h)+2*e.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;for(var f=e.dropShadow?2:1,g=0;g<f;++g){var v=e.dropShadow&&0===g,y=v?2*h:0,_=y*this.resolution;if(v){r.fillStyle="black",r.strokeStyle="black";var b=e.dropShadowColor,x=Object(a.hex2rgb)("number"==typeof b?b:Object(a.string2hex)(b));r.shadowColor="rgba("+255*x[0]+","+255*x[1]+","+255*x[2]+","+e.dropShadowAlpha+")",r.shadowBlur=e.dropShadowBlur,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+_}else r.fillStyle=this._generateFillStyle(e,u),r.strokeStyle=e.stroke,r.shadowColor=0,r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;for(var w=0;w<u.length;w++)i=e.strokeThickness/2,n=e.strokeThickness/2+w*l+p.ascent,"right"===e.align?i+=d-c[w]:"center"===e.align&&(i+=(d-c[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(u[w],i+e.padding,n+e.padding-y,!0),e.fill&&this.drawLetterSpacing(u[w],i+e.padding,n+e.padding-y)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,n){void 0===n&&(n=!1);var r=this._style.letterSpacing;if(0!==r)for(var s=e,o=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<o.length;++u){var l=o[u];n?this.context.strokeText(l,s,i):this.context.fillText(l,s,i),s+=a-(h=this.context.measureText(t.substring(u+1)).width)+r,a=h}else n?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=Object(a.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,n=this._style,r=n.trim?0:n.padding,s=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-r,i.trim.y=-r,i.orig.width=i._frame.width-2*r,i.orig.height=i._frame.height-2*r,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(1===t.fill.length)return t.fill[0];var i,n,r,s,o=t.dropShadow?t.dropShadowDistance:0,a=Math.ceil(this.canvas.width/this._resolution)-o,u=Math.ceil(this.canvas.height/this._resolution)-o,l=t.fill.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var d=l.length+1,p=1;p<d;++p)c.push(p/d);if(l.unshift(t.fill[0]),c.unshift(0),l.push(t.fill[t.fill.length-1]),c.push(1),t.fillGradientType===h.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,0,a/2,u),n=(l.length+1)*e.length,r=0;for(var f=0;f<e.length;f++){r+=1;for(var g=0;g<l.length;g++)s="number"==typeof c[g]?c[g]/e.length+f/e.length:r/n,i.addColorStop(s,l[g]),r++}}else{i=this.context.createLinearGradient(0,u/2,a,u/2),n=l.length+1,r=1;for(var m=0;m<l.length;m++)s="number"==typeof c[m]?c[m]:r/n,i.addColorStop(s,l[m]),r++}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},y,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},i.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){this.updateText(!0);var e=Object(a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){this.updateText(!0);var e=Object(a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.style.get=function(){return this._style},i.style.set=function(t){t=t||{},this._style=t instanceof c?t:new c(t),this.localStyleID=-1,this.dirty=!0},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.resolution.get=function(){return this._resolution},i.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,i),e}(n.a)},GYWy:function(t,e,i){(function(t,n){var r;!function(s){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self;var a,h=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function g(t){throw new RangeError(d[t])}function m(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function v(t,e){var i=t.split("@"),n="";return i.length>1&&(n=i[0]+"@",t=i[1]),n+m((t=t.replace(c,".")).split("."),e).join(".")}function y(t){for(var e,i,n=[],r=0,s=t.length;r<s;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<s?56320==(64512&(i=t.charCodeAt(r++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--):n.push(e);return n}function _(t){return m(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=f(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function x(t,e,i){var n=0;for(t=i?p(t/700):t>>1,t+=p(t/e);t>455;n+=36)t=p(t/35);return p(n+36*t/(t+38))}function w(t){var e,i,n,r,s,o,a,u,l,c,d,f=[],m=t.length,v=0,y=128,b=72;for((i=t.lastIndexOf("-"))<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&g("not-basic"),f.push(t.charCodeAt(n));for(r=i>0?i+1:0;r<m;){for(s=v,o=1,a=36;r>=m&&g("invalid-input"),((u=(d=t.charCodeAt(r++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||u>p((h-v)/o))&&g("overflow"),v+=u*o,!(u<(l=a<=b?1:a>=b+26?26:a-b));a+=36)o>p(h/(c=36-l))&&g("overflow"),o*=c;b=x(v-s,e=f.length+1,0==s),p(v/e)>h-y&&g("overflow"),y+=p(v/e),v%=e,f.splice(v++,0,y)}return _(f)}function S(t){var e,i,n,r,s,o,a,u,l,c,d,m,v,_,w,S=[];for(m=(t=y(t)).length,e=128,i=0,s=72,o=0;o<m;++o)(d=t[o])<128&&S.push(f(d));for(n=r=S.length,r&&S.push("-");n<m;){for(a=h,o=0;o<m;++o)(d=t[o])>=e&&d<a&&(a=d);for(a-e>p((h-i)/(v=n+1))&&g("overflow"),i+=(a-e)*v,e=a,o=0;o<m;++o)if((d=t[o])<e&&++i>h&&g("overflow"),d==e){for(u=i,l=36;!(u<(c=l<=s?1:l>=s+26?26:l-s));l+=36)w=u-c,_=36-c,S.push(f(b(c+w%_,0))),u=p(w/_);S.push(f(b(u,0))),s=x(i,v,n==r),i=0,++n}++i,++e}return S.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:_},decode:w,encode:S,toASCII:function(t){return v(t,(function(t){return l.test(t)?"xn--"+S(t):t}))},toUnicode:function(t){return v(t,(function(t){return u.test(t)?w(t.slice(4).toLowerCase()):t}))}},void 0===(r=function(){return a}.call(e,i,e,t))||(t.exports=r)}()}).call(this,i("YuTi")(t),i("yLpj"))},GrlX:function(t,e,i){var n=i("T016"),r=i("JRS9"),s={};for(var o in n)n.hasOwnProperty(o)&&(s[n[o]]=o);var a=t.exports={to:{},get:{}};function h(t,e,i){return Math.min(Math.max(e,t),i)}function u(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}a.get=function(t){var e,i;switch(t.substring(0,3).toLowerCase()){case"hsl":e=a.get.hsl(t),i="hsl";break;case"hwb":e=a.get.hwb(t),i="hwb";break;default:e=a.get.rgb(t),i="rgb"}return e?{model:i,value:e}:null},a.get.rgb=function(t){if(!t)return null;var e,i,r,s=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],i=0;i<3;i++){var o=2*i;s[i]=parseInt(e.slice(o,o+2),16)}r&&(s[3]=Math.round(parseInt(r,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],i=0;i<3;i++)s[i]=parseInt(e[i]+e[i],16);r&&(s[3]=Math.round(parseInt(r+r,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(i=0;i<3;i++)s[i]=parseInt(e[i+1],0);e[4]&&(s[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(s=n[e[1]])?(s[3]=1,s):null:null;for(i=0;i<3;i++)s[i]=Math.round(2.55*parseFloat(e[i+1]));e[4]&&(s[3]=parseFloat(e[4]))}for(i=0;i<3;i++)s[i]=h(s[i],0,255);return s[3]=h(s[3],0,1),s},a.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var i=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,h(parseFloat(e[2]),0,100),h(parseFloat(e[3]),0,100),h(isNaN(i)?1:i,0,1)]}return null},a.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var i=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,h(parseFloat(e[2]),0,100),h(parseFloat(e[3]),0,100),h(isNaN(i)?1:i,0,1)]}return null},a.to.hex=function(){var t=r(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},a.to.rgb=function(){var t=r(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},a.to.rgb.percent=function(){var t=r(arguments),e=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+i+"%, "+n+"%)":"rgba("+e+"%, "+i+"%, "+n+"%, "+t[3]+")"},a.to.hsl=function(){var t=r(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},a.to.hwb=function(){var t=r(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},a.to.keyword=function(t){return s[t.slice(0,3)]}},H7XF:function(t,e,i){"use strict";e.byteLength=function(t){var e=u(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,n=u(t),o=n[0],a=n[1],h=new s(function(t,e,i){return 3*(e+i)/4-i}(0,o,a)),l=0,c=a>0?o-4:o;for(i=0;i<c;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],h[l++]=e>>16&255,h[l++]=e>>8&255,h[l++]=255&e;2===a&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,h[l++]=255&e);1===a&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,h[l++]=e>>8&255,h[l++]=255&e);return h},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,s=[],o=0,a=i-r;o<a;o+=16383)s.push(l(t,o,o+16383>a?a:o+16383));1===r?(e=t[i-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return s.join("")};for(var n=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,h=o.length;a<h;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function l(t,e,i){for(var r,s,o=[],a=e;a<i;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(n[(s=r)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},HSsa:function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},HcAG:function(t,e,i){"use strict";var n=i("hrEP");i.n(n).a},HlzF:function(t,e,i){(function(i){var n;!function(){"use strict";var r=function(){this.init()};r.prototype={init:function(){var t=this||s;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||s;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,s.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var n=e._howls[i]._getSoundIds(),r=0;r<n.length;r++){var o=e._howls[i]._soundById(n[r]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||s;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,s.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var n=e._howls[i]._getSoundIds(),r=0;r<n.length;r++){var o=e._howls[i]._soundById(n[r]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},unload:function(){for(var t=this||s,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||s)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||s;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||s,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var i=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),r=n&&parseInt(n[0].split("/")[1],10)<33;return t._codecs={mp3:!(r||!i&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||s;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(i){for(var n=0;n<t.html5PoolSize;n++)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(i){t.noAudio=!0}for(n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var s=t._howls[n]._getSoundIds(),o=0;o<s.length;o++){var a=t._howls[n]._soundById(s[o]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}t._autoResume();var h=t.ctx.createBufferSource();h.buffer=t._scratchBuffer,h.connect(t.ctx.destination),void 0===h.start?h.noteOn(0):h.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),h.onended=function(){h.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var i=0;i<t._howls.length;i++)t._howls[i]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||s;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||s;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&s.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var i=0;i<t._howls[e]._sounds.length;i++)if(!t._howls[e]._sounds[i]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then((function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())})))}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&s.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var s=new r,o=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(t){var e=this;return s.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=s.usingWebAudio&&!e._html5,void 0!==s.ctx&&s.ctx&&s.autoUnlock&&s._unlockAudio(),s._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=null;if(s.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var i,n;if(this._format&&this._format[e])i=this._format[e];else{if("string"!=typeof(n=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(i=/^data:audio\/([^;,]+);/i.exec(n))||(i=/\.([^.]+)$/.exec(n.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&s.codecs(i)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&u(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var i=this,n=null;if("number"==typeof t)n=t,t=null;else{if("string"==typeof t&&"loaded"===i._state&&!i._sprite[t])return null;if(void 0===t&&(t="__default",!i._playLock)){for(var r=0,o=0;o<i._sounds.length;o++)i._sounds[o]._paused&&!i._sounds[o]._ended&&(r++,n=i._sounds[o]._id);1===r?t=null:n=null}}var a=n?i._soundById(n):i._inactiveSound();if(!a)return null;if(n&&!t&&(t=a._sprite||"__default"),"loaded"!==i._state){a._sprite=t,a._ended=!1;var h=a._id;return i._queue.push({event:"play",action:function(){i.play(h)}}),h}if(n&&!a._paused)return e||i._loadQueue("play"),a._id;i._webAudio&&s._autoResume();var u=Math.max(0,a._seek>0?a._seek:i._sprite[t][0]/1e3),l=Math.max(0,(i._sprite[t][0]+i._sprite[t][1])/1e3-u),c=1e3*l/Math.abs(a._rate),d=i._sprite[t][0]/1e3,p=(i._sprite[t][0]+i._sprite[t][1])/1e3;a._sprite=t,a._ended=!1;var f=function(){a._paused=!1,a._seek=u,a._start=d,a._stop=p,a._loop=!(!a._loop&&!i._sprite[t][2])};if(!(u>=p)){var g=a._node;if(i._webAudio){var m=function(){i._playLock=!1,f(),i._refreshBuffer(a);var t=a._muted||i._muted?0:a._volume;g.gain.setValueAtTime(t,s.ctx.currentTime),a._playStart=s.ctx.currentTime,void 0===g.bufferSource.start?a._loop?g.bufferSource.noteGrainOn(0,u,86400):g.bufferSource.noteGrainOn(0,u,l):a._loop?g.bufferSource.start(0,u,86400):g.bufferSource.start(0,u,l),c!==1/0&&(i._endTimers[a._id]=setTimeout(i._ended.bind(i,a),c)),e||setTimeout((function(){i._emit("play",a._id),i._loadQueue()}),0)};"running"===s.state?m():(i._playLock=!0,i.once("resume",m),i._clearTimer(a._id))}else{var v=function(){g.currentTime=u,g.muted=a._muted||i._muted||s._muted||g.muted,g.volume=a._volume*s.volume(),g.playbackRate=a._rate;try{var n=g.play();if(n&&"undefined"!=typeof Promise&&(n instanceof Promise||"function"==typeof n.then)?(i._playLock=!0,f(),n.then((function(){i._playLock=!1,g._unlocked=!0,e||(i._emit("play",a._id),i._loadQueue())})).catch((function(){i._playLock=!1,i._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):e||(i._playLock=!1,f(),i._emit("play",a._id),i._loadQueue()),g.playbackRate=a._rate,g.paused)return void i._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||a._loop?i._endTimers[a._id]=setTimeout(i._ended.bind(i,a),c):(i._endTimers[a._id]=function(){i._ended(a),g.removeEventListener("ended",i._endTimers[a._id],!1)},g.addEventListener("ended",i._endTimers[a._id],!1))}catch(t){i._emit("playerror",a._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=i._src,g.load());var y=window&&window.ejecta||!g.readyState&&s._navigator.isCocoonJS;if(g.readyState>=3||y)v();else{i._playLock=!0;var _=function(){v(),g.removeEventListener(s._canPlayEvent,_,!1)};g.addEventListener(s._canPlayEvent,_,!1),i._clearTimer(a._id)}}return a._id}i._ended(a)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var i=e._getSoundIds(t),n=0;n<i.length;n++){e._clearTimer(i[n]);var r=e._soundById(i[n]);if(r&&!r._paused&&(r._seek=e.seek(i[n]),r._rateSeek=0,r._paused=!0,e._stopFade(i[n]),r._node))if(e._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var n=i._getSoundIds(t),r=0;r<n.length;r++){i._clearTimer(n[r]);var s=i._soundById(n[r]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,i._stopFade(n[r]),s._node&&(i._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),i._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&i._clearSound(s._node))),e||i._emit("stop",s._id))}return i},mute:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(t,e)}}),i;if(void 0===e){if("boolean"!=typeof t)return i._muted;i._muted=t}for(var n=i._getSoundIds(e),r=0;r<n.length;r++){var o=i._soundById(n[r]);o&&(o._muted=t,o._interval&&i._stopFade(o._id),i._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,s.ctx.currentTime):o._node&&(o._node.muted=!!s._muted||t),i._emit("mute",o._id))}return i},volume:function(){var t,e,i,n=this,r=arguments;if(0===r.length)return n._volume;if(1===r.length||2===r.length&&void 0===r[1]){var o=n._getSoundIds(),a=o.indexOf(r[0]);a>=0?e=parseInt(r[0],10):t=parseFloat(r[0])}else r.length>=2&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(i=e?n._soundById(e):n._sounds[0])?i._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;void 0===e&&(n._volume=t),e=n._getSoundIds(e);for(var h=0;h<e.length;h++)(i=n._soundById(e[h]))&&(i._volume=t,r[2]||n._stopFade(e[h]),n._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(t,s.ctx.currentTime):i._node&&!i._muted&&(i._node.volume=t*s.volume()),n._emit("volume",i._id));return n},fade:function(t,e,i,n){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(t,e,i,n)}}),r;t=parseFloat(t),e=parseFloat(e),i=parseFloat(i),r.volume(t,n);for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var h=r._soundById(o[a]);if(h){if(n||r._stopFade(o[a]),r._webAudio&&!h._muted){var u=s.ctx.currentTime,l=u+i/1e3;h._volume=t,h._node.gain.setValueAtTime(t,u),h._node.gain.linearRampToValueAtTime(e,l)}r._startFadeInterval(h,t,e,i,o[a],void 0===n)}}return r},_startFadeInterval:function(t,e,i,n,r,s){var o=this,a=e,h=i-e,u=Math.abs(h/.01),l=Math.max(4,u>0?n/u:n),c=Date.now();t._fadeTo=i,t._interval=setInterval((function(){var r=(Date.now()-c)/n;c=Date.now(),a+=h*r,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,o._webAudio?t._volume=a:o.volume(a,t._id,!0),s&&(o._volume=a),(i<e&&a<=i||i>e&&a>=i)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,o.volume(i,t._id),o._emit("fade",t._id))}),l)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,i,n=this,r=arguments;if(0===r.length)return n._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(i=n._soundById(parseInt(r[0],10)))&&i._loop;t=r[0],n._loop=t}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var s=n._getSoundIds(e),o=0;o<s.length;o++)(i=n._soundById(s[o]))&&(i._loop=t,n._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=t,t&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop)));return n},rate:function(){var t,e,i,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),a=o.indexOf(r[0]);a>=0?e=parseInt(r[0],10):t=parseFloat(r[0])}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if("number"!=typeof t)return(i=n._soundById(e))?i._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;void 0===e&&(n._rate=t),e=n._getSoundIds(e);for(var h=0;h<e.length;h++)if(i=n._soundById(e[h])){n.playing(e[h])&&(i._rateSeek=n.seek(e[h]),i._playStart=n._webAudio?s.ctx.currentTime:i._playStart),i._rate=t,n._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(t,s.ctx.currentTime):i._node&&(i._node.playbackRate=t);var u=n.seek(e[h]),l=(n._sprite[i._sprite][0]+n._sprite[i._sprite][1])/1e3-u,c=1e3*l/Math.abs(i._rate);!n._endTimers[e[h]]&&i._paused||(n._clearTimer(e[h]),n._endTimers[e[h]]=setTimeout(n._ended.bind(n,i),c)),n._emit("rate",i._id)}return n},seek:function(){var t,e,i=this,n=arguments;if(0===n.length)e=i._sounds[0]._id;else if(1===n.length){var r=i._getSoundIds(),o=r.indexOf(n[0]);o>=0?e=parseInt(n[0],10):i._sounds.length&&(e=i._sounds[0]._id,t=parseFloat(n[0]))}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if(void 0===e)return i;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"seek",action:function(){i.seek.apply(i,n)}}),i;var a=i._soundById(e);if(a){if(!("number"==typeof t&&t>=0)){if(i._webAudio){var h=i.playing(e)?s.ctx.currentTime-a._playStart:0,u=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(u+h*Math.abs(a._rate))}return a._node.currentTime}var l=i.playing(e);l&&i.pause(e,!0),a._seek=t,a._ended=!1,i._clearTimer(e),i._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=t);var c=function(){i._emit("seek",e),l&&i.play(e,!0)};if(l&&!i._webAudio){var d=function(){i._playLock?setTimeout(d,0):c()};setTimeout(d,0)}else c()}return i},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var i=0;i<this._sounds.length;i++)if(!this._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this._duration,i=this._soundById(t);return i&&(e=this._sprite[i._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,i=0;i<e.length;i++)e[i]._paused||t.stop(e[i]._id),t._webAudio||(t._clearSound(e[i]._node),e[i]._node.removeEventListener("error",e[i]._errorFn,!1),e[i]._node.removeEventListener(s._canPlayEvent,e[i]._loadFn,!1),s._releaseHtml5Audio(e[i]._node)),delete e[i]._node,t._clearTimer(e[i]._id);var n=s._howls.indexOf(t);n>=0&&s._howls.splice(n,1);var r=!0;for(i=0;i<s._howls.length;i++)if(s._howls[i]._src===t._src||t._src.indexOf(s._howls[i]._src)>=0){r=!1;break}return h&&r&&delete h[t._src],s.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,i,n){var r=this["_on"+t];return"function"==typeof e&&r.push(n?{id:i,fn:e,once:n}:{id:i,fn:e}),this},off:function(t,e,i){var n=this["_on"+t],r=0;if("number"==typeof e&&(i=e,e=null),e||i)for(r=0;r<n.length;r++){var s=i===n[r].id;if(e===n[r].fn&&s||!e&&s){n.splice(r,1);break}}else if(t)this["_on"+t]=[];else{var o=Object.keys(this);for(r=0;r<o.length;r++)0===o[r].indexOf("_on")&&Array.isArray(this[o[r]])&&(this[o[r]]=[])}return this},once:function(t,e,i){return this.on(t,e,i,1),this},_emit:function(t,e,i){for(var n=this["_on"+t],r=n.length-1;r>=0;r--)n[r].id&&n[r].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(this,n[r].fn),0),n[r].once&&this.off(t,n[r].fn,n[r].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var i=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&i&&this.stop(t._id,!0).play(t._id),this._webAudio&&i){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=s.ctx.currentTime;var n=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),n)}return this._webAudio&&!i&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),s._autoSuspend()),this._webAudio||i||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new a(this)},_drain:function(){var t=this._pool,e=0,i=0;if(!(this._sounds.length<t)){for(i=0;i<this._sounds.length;i++)this._sounds[i]._ended&&e++;for(i=this._sounds.length-1;i>=0;i--){if(e<=t)return;this._sounds[i]._ended&&(this._webAudio&&this._sounds[i]._node&&this._sounds[i]._node.disconnect(0),this._sounds.splice(i,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],i=0;i<this._sounds.length;i++)e.push(this._sounds[i]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=s.ctx.createBufferSource(),t._node.bufferSource.buffer=h[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,s.ctx.currentTime),this},_cleanBuffer:function(t){var e=s._navigator&&s._navigator.vendor.indexOf("Apple")>=0;if(s._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=s._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(t){this._parent=t,this.init()};a.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=s._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),this._node.gain.setValueAtTime(e,s.ctx.currentTime),this._node.paused=!0,this._node.connect(s.masterGain)):s.noAudio||(this._node=s._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(s._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload="auto",this._node.volume=e*s.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(s._canPlayEvent,this._loadFn,!1)}};var h={},u=function(t){var e=t._src;if(h[e])return t._duration=h[e].duration,void d(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),n=new Uint8Array(i.length),r=0;r<i.length;++r)n[r]=i.charCodeAt(r);c(n.buffer,t)}else{var s=new XMLHttpRequest;s.open("GET",e,!0),s.withCredentials=t._xhrWithCredentials,s.responseType="arraybuffer",s.onload=function(){var e=(s.status+"")[0];"0"===e||"2"===e||"3"===e?c(s.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+s.status+".")},s.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete h[e],t.load())},l(s)}},l=function(t){try{t.send()}catch(e){t.onerror()}},c=function(t,e){var i=function(){e._emit("loaderror",null,"Decoding audio data failed.")},n=function(t){t&&e._sounds.length>0?(h[e._src]=t,d(e,t)):i()};"undefined"!=typeof Promise&&1===s.ctx.decodeAudioData.length?s.ctx.decodeAudioData(t).then(n).catch(i):s.ctx.decodeAudioData(t,n,i)},d=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(s.usingWebAudio){try{"undefined"!=typeof AudioContext?s.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch(t){s.usingWebAudio=!1}s.ctx||(s.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),e=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=e?parseInt(e[1],10):null;if(t&&i&&i<9){var n=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());(s._navigator&&s._navigator.standalone&&!n||s._navigator&&!s._navigator.standalone&&!n)&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:s._volume,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()}};void 0===(n=function(){return{Howler:s,Howl:o}}.apply(e,[]))||(t.exports=n),e.Howler=s,e.Howl=o,"undefined"!=typeof window?(window.HowlerGlobal=r,window.Howler=s,window.Howl=o,window.Sound=a):void 0!==i&&(i.HowlerGlobal=r,i.Howler=s,i.Howl=o,i.Sound=a)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,i){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,i="number"!=typeof i?this._pos[2]:i,"number"!=typeof t?this._pos:(this._pos=[t,e,i],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,i,n,r,s){if(!this.ctx||!this.ctx.listener)return this;var o=this._orientation;return e="number"!=typeof e?o[1]:e,i="number"!=typeof i?o[2]:i,n="number"!=typeof n?o[3]:n,r="number"!=typeof r?o[4]:r,s="number"!=typeof s?o[5]:s,"number"!=typeof t?o:(this._orientation=[t,e,i,n,r,s],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,i,n,r,s),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,i){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(t,i)}}),n;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===i){if("number"!=typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0]}for(var s=n._getSoundIds(i),o=0;o<s.length;o++){var a=n._soundById(s[o]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,r),"spatial"===r?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",a._id)}}return n},Howl.prototype.pos=function(t,i,n,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(t,i,n,r)}}),s;if(i="number"!=typeof i?0:i,n="number"!=typeof n?-.5:n,void 0===r){if("number"!=typeof t)return s._pos;s._pos=[t,i,n]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var h=s._soundById(o[a]);if(h){if("number"!=typeof t)return h._pos;h._pos=[t,i,n],h._node&&(h._panner&&!h._panner.pan||e(h,"spatial"),void 0!==h._panner.positionX?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):h._panner.setPosition(t,i,n)),s._emit("pos",h._id)}}return s},Howl.prototype.orientation=function(t,i,n,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(t,i,n,r)}}),s;if(i="number"!=typeof i?s._orientation[1]:i,n="number"!=typeof n?s._orientation[2]:n,void 0===r){if("number"!=typeof t)return s._orientation;s._orientation=[t,i,n]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var h=s._soundById(o[a]);if(h){if("number"!=typeof t)return h._orientation;h._orientation=[t,i,n],h._node&&(h._panner||(h._pos||(h._pos=s._pos||[0,0,-.5]),e(h,"spatial")),void 0!==h._panner.orientationX?(h._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):h._panner.setOrientation(t,i,n)),s._emit("orientation",h._id)}}return s},Howl.prototype.pannerAttr=function(){var t,i,n,r=this,s=arguments;if(!r._webAudio)return r;if(0===s.length)return r._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(n=r._soundById(parseInt(s[0],10)))?n._pannerAttr:r._pannerAttr;t=s[0],void 0===i&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),r._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:r._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:r._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:r._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:r._panningModel})}else 2===s.length&&(t=s[0],i=parseInt(s[1],10));for(var o=r._getSoundIds(i),a=0;a<o.length;a++)if(n=r._soundById(o[a])){var h=n._pannerAttr;h={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:h.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:h.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:h.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:h.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:h.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:h.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:h.panningModel};var u=n._panner;u?(u.coneInnerAngle=h.coneInnerAngle,u.coneOuterAngle=h.coneOuterAngle,u.coneOuterGain=h.coneOuterGain,u.distanceModel=h.distanceModel,u.maxDistance=h.maxDistance,u.refDistance=h.refDistance,u.rolloffFactor=h.rolloffFactor,u.panningModel=h.panningModel):(n._pos||(n._pos=r._pos||[0,0,-.5]),e(n,"spatial"))}return r},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,i("yLpj"))},HstN:function(t,e,i){"use strict";var n=i("s2zC");i.n(n).a},I1BE:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var r=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),s=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[i].concat(s).concat([r]).join("\n")}var o;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(n[s]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},IG6n:function(t,e,i){var n=i("M5Ut");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},JEQr:function(t,e,i){"use strict";(function(e){var n=i("xTJ+"),r=i("yK9s"),s={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,h={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(a=i("tQ2B")),a),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};h.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(t){h.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){h.headers[t]=n.merge(s)})),t.exports=h}).call(this,i("8oxB"))},JFU0:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".notification.is-message[data-v-5555da00] {\n  max-width: 50vmin;\n  min-width: 26vmin;\n  opacity: 0.8;\n  -webkit-animation: fade-in-data-v-5555da00 0.2s;\n          animation: fade-in-data-v-5555da00 0.2s;\n  transition: all 0.2s ease;\n}\n.delete.is-compact[data-v-5555da00] {\n  right: 0.25rem;\n  top: 0.25rem;\n}\n.is-message.has-delete[data-v-5555da00] {\n  padding: 0 0.2rem 0.25rem 0.1rem;\n  word-wrap: break-word;\n}\n.is-chat-avatar[data-v-5555da00] {\n  margin-right: 0.5rem;\n  opacity: 1;\n}\n.message-fade-leave-to[data-v-5555da00] {\n  opacity: 0;\n  transform: scale(0, 0);\n}\n@-webkit-keyframes fade-in-data-v-5555da00 {\nfrom {\n    opacity: 0;\n    transform: scale(0, 0);\n}\nto {\n    opacity: 0.8;\n    transform: scale(1, 1);\n}\n}\n@keyframes fade-in-data-v-5555da00 {\nfrom {\n    opacity: 0;\n    transform: scale(0, 0);\n}\nto {\n    opacity: 0.8;\n    transform: scale(1, 1);\n}\n}",""])},JRS9:function(t,e,i){"use strict";var n=i("8MvT"),r=Array.prototype.concat,s=Array.prototype.slice,o=t.exports=function(t){for(var e=[],i=0,o=t.length;i<o;i++){var a=t[i];n(a)?e=r.call(e,s.call(a)):e.push(a)}return e};o.wrap=function(t){return function(){return t(o(arguments))}}},KvE0:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".is-slot-image[data-v-7d772ccd] {\n  width: 12.4vmin;\n  height: 12.4vmin;\n  background-image: url(/img/game/menus/box_1.png);\n  -webkit-filter: none;\n          filter: none;\n}",""])},L2JU:function(t,e,i){"use strict";(function(t){var i=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function r(t){return null!==t&&"object"==typeof t}var s=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"==typeof i?i():i)||{}},o={namespaced:{configurable:!0}};o.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(t,e){this._children[t]=e},s.prototype.removeChild=function(t){delete this._children[t]},s.prototype.getChild=function(t){return this._children[t]},s.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},s.prototype.forEachChild=function(t){n(this._children,t)},s.prototype.forEachGetter=function(t){this._rawModule.getters&&n(this._rawModule.getters,t)},s.prototype.forEachAction=function(t){this._rawModule.actions&&n(this._rawModule.actions,t)},s.prototype.forEachMutation=function(t){this._rawModule.mutations&&n(this._rawModule.mutations,t)},Object.defineProperties(s.prototype,o);var a=function(t){this.register([],t,!1)};a.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},a.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return t+((e=e.getChild(i)).namespaced?i+"/":"")}),"")},a.prototype.update=function(t){!function t(e,i,n){0;if(i.update(n),n.modules)for(var r in n.modules){if(!i.getChild(r))return void 0;t(e.concat(r),i.getChild(r),n.modules[r])}}([],this.root,t)},a.prototype.register=function(t,e,i){var r=this;void 0===i&&(i=!0);var o=new s(e,i);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o);e.modules&&n(e.modules,(function(e,n){r.register(t.concat(n),e,i)}))},a.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];e.getChild(i).runtime&&e.removeChild(i)};var h;var u=function(t){var e=this;void 0===t&&(t={}),!h&&"undefined"!=typeof window&&window.Vue&&v(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new a(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new h,this._makeLocalGettersCache=Object.create(null);var s=this,o=this.dispatch,u=this.commit;this.dispatch=function(t,e){return o.call(s,t,e)},this.commit=function(t,e,i){return u.call(s,t,e,i)},this.strict=r;var l=this._modules.root.state;f(this,l,[],this._modules.root),p(this,l),n.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:h.config.devtools)&&function(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){i.emit("vuex:mutation",t,e)})))}(this)},l={state:{configurable:!0}};function c(t,e){return e.indexOf(t)<0&&e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function d(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;f(t,i,[],t._modules.root,!0),p(t,i,e)}function p(t,e,i){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,o={};n(s,(function(e,i){o[i]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})}));var a=h.config.silent;h.config.silent=!0,t._vm=new h({data:{$$state:e},computed:o}),h.config.silent=a,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),r&&(i&&t._withCommit((function(){r._data.$$state=null})),h.nextTick((function(){return r.$destroy()})))}function f(t,e,i,n,r){var s=!i.length,o=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=n),!s&&!r){var a=g(e,i.slice(0,-1)),u=i[i.length-1];t._withCommit((function(){h.set(a,u,n.state)}))}var l=n.context=function(t,e,i){var n=""===e,r={dispatch:n?t.dispatch:function(i,n,r){var s=m(i,n,r),o=s.payload,a=s.options,h=s.type;return a&&a.root||(h=e+h),t.dispatch(h,o)},commit:n?t.commit:function(i,n,r){var s=m(i,n,r),o=s.payload,a=s.options,h=s.type;a&&a.root||(h=e+h),t.commit(h,o,a)}};return Object.defineProperties(r,{getters:{get:n?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,n)===e){var s=r.slice(n);Object.defineProperty(i,s,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return g(t.state,i)}}}),r}(t,o,i);n.forEachMutation((function(e,i){!function(t,e,i,n){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){i.call(t,n.state,e)}))}(t,o+i,e,l)})),n.forEachAction((function(e,i){var n=e.root?i:o+i,r=e.handler||e;!function(t,e,i,n){(t._actions[e]||(t._actions[e]=[])).push((function(e){var r,s=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return(r=s)&&"function"==typeof r.then||(s=Promise.resolve(s)),t._devtoolHook?s.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):s}))}(t,n,r,l)})),n.forEachGetter((function(e,i){!function(t,e,i,n){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)}}(t,o+i,e,l)})),n.forEachChild((function(n,s){f(t,e,i.concat(s),n,r)}))}function g(t,e){return e.reduce((function(t,e){return t[e]}),t)}function m(t,e,i){return r(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function v(t){h&&t===h||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:i});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,e.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(h=t)}l.state.get=function(){return this._vm._data.$$state},l.state.set=function(t){0},u.prototype.commit=function(t,e,i){var n=this,r=m(t,e,i),s=r.type,o=r.payload,a=(r.options,{type:s,payload:o}),h=this._mutations[s];h&&(this._withCommit((function(){h.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(a,n.state)})))},u.prototype.dispatch=function(t,e){var i=this,n=m(t,e),r=n.type,s=n.payload,o={type:r,payload:s},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,i.state)}))}catch(t){0}return(a.length>1?Promise.all(a.map((function(t){return t(s)}))):a[0](s)).then((function(t){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,i.state)}))}catch(t){0}return t}))}},u.prototype.subscribe=function(t){return c(t,this._subscribers)},u.prototype.subscribeAction=function(t){return c("function"==typeof t?{before:t}:t,this._actionSubscribers)},u.prototype.watch=function(t,e,i){var n=this;return this._watcherVM.$watch((function(){return t(n.state,n.getters)}),e,i)},u.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},u.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),f(this,this.state,t,this._modules.get(t),i.preserveState),p(this,this.state)},u.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=g(e.state,t.slice(0,-1));h.delete(i,t[t.length-1])})),d(this)},u.prototype.hotUpdate=function(t){this._modules.update(t),d(this,!0)},u.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(u.prototype,l);var y=S((function(t,e){var i={};return w(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=T(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"==typeof r?r.call(this,e,i):e[r]},i[n].vuex=!0})),i})),_=S((function(t,e){var i={};return w(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=this.$store.commit;if(t){var s=T(this.$store,"mapMutations",t);if(!s)return;n=s.context.commit}return"function"==typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),b=S((function(t,e){var i={};return w(e).forEach((function(e){var n=e.key,r=e.val;r=t+r,i[n]=function(){if(!t||T(this.$store,"mapGetters",t))return this.$store.getters[r]},i[n].vuex=!0})),i})),x=S((function(t,e){var i={};return w(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var s=T(this.$store,"mapActions",t);if(!s)return;n=s.context.dispatch}return"function"==typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i}));function w(t){return function(t){return Array.isArray(t)||r(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function S(t){return function(e,i){return"string"!=typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function T(t,e,i){return t._modulesNamespaceMap[i]}var k={Store:u,install:v,version:"3.1.3",mapState:y,mapMutations:_,mapGetters:b,mapActions:x,createNamespacedHelpers:function(t){return{mapState:y.bind(null,t),mapGetters:b.bind(null,t),mapMutations:_.bind(null,t),mapActions:x.bind(null,t)}}};e.a=k}).call(this,i("yLpj"))},LYNF:function(t,e,i){"use strict";var n=i("OH9c");t.exports=function(t,e,i,r,s){var o=new Error(t);return n(o,e,i,r,s)}},Lmem:function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},LvDl:function(t,e,i){(function(t,n){var r;(function(){var s="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],h="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Function]",f="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",x="[object Symbol]",w="[object WeakMap]",S="[object ArrayBuffer]",T="[object DataView]",k="[object Float32Array]",C="[object Float64Array]",E="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",M="[object Uint16Array]",A="[object Uint32Array]",R=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,B=RegExp(F.source),U=RegExp(N.source),j=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,V=RegExp(W.source),G=/^\s+|\s+$/g,$=/^\s+/,K=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,it=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,st=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,ht=/^(?:0|[1-9]\d*)$/,ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,dt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="[\\ud800-\\udfff]",gt="["+pt+"]",mt="["+dt+"]",vt="\\d+",yt="[\\u2700-\\u27bf]",_t="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+pt+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",xt="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",St="(?:\\ud83c[\\udde6-\\uddff]){2}",Tt="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ct="(?:"+_t+"|"+bt+")",Et="(?:"+kt+"|"+bt+")",Ot="(?:"+mt+"|"+xt+")"+"?",It="[\\ufe0e\\ufe0f]?"+Ot+("(?:\\u200d(?:"+[wt,St,Tt].join("|")+")[\\ufe0e\\ufe0f]?"+Ot+")*"),Pt="(?:"+[yt,St,Tt].join("|")+")"+It,Mt="(?:"+[wt+mt+"?",mt,St,Tt,ft].join("|")+")",At=RegExp("[']","g"),Rt=RegExp(mt,"g"),Dt=RegExp(xt+"(?="+xt+")|"+Mt+It,"g"),Lt=RegExp([kt+"?"+_t+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[gt,kt,"$"].join("|")+")",Et+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[gt,kt+Ct,"$"].join("|")+")",kt+"?"+Ct+"+(?:['](?:d|ll|m|re|s|t|ve))?",kt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Pt].join("|"),"g"),Ft=RegExp("[\\u200d\\ud800-\\udfff"+dt+"\\ufe0e\\ufe0f]"),Nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ut=-1,jt={};jt[k]=jt[C]=jt[E]=jt[O]=jt[I]=jt[P]=jt["[object Uint8ClampedArray]"]=jt[M]=jt[A]=!0,jt[h]=jt[u]=jt[S]=jt[l]=jt[T]=jt[c]=jt[d]=jt[p]=jt[g]=jt[m]=jt[v]=jt[y]=jt[_]=jt[b]=jt[w]=!1;var zt={};zt[h]=zt[u]=zt[S]=zt[T]=zt[l]=zt[c]=zt[k]=zt[C]=zt[E]=zt[O]=zt[I]=zt[g]=zt[m]=zt[v]=zt[y]=zt[_]=zt[b]=zt[x]=zt[P]=zt["[object Uint8ClampedArray]"]=zt[M]=zt[A]=!0,zt[d]=zt[p]=zt[w]=!1;var Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ht=parseFloat,Yt=parseInt,qt="object"==typeof t&&t&&t.Object===Object&&t,Wt="object"==typeof self&&self&&self.Object===Object&&self,Vt=qt||Wt||Function("return this")(),Gt=e&&!e.nodeType&&e,$t=Gt&&"object"==typeof n&&n&&!n.nodeType&&n,Kt=$t&&$t.exports===Gt,Zt=Kt&&qt.process,Jt=function(){try{var t=$t&&$t.require&&$t.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),Qt=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,ie=Jt&&Jt.isRegExp,ne=Jt&&Jt.isSet,re=Jt&&Jt.isTypedArray;function se(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function oe(t,e,i,n){for(var r=-1,s=null==t?0:t.length;++r<s;){var o=t[r];e(n,o,i(o),t)}return n}function ae(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function he(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function ue(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function le(t,e){for(var i=-1,n=null==t?0:t.length,r=0,s=[];++i<n;){var o=t[i];e(o,i,t)&&(s[r++]=o)}return s}function ce(t,e){return!!(null==t?0:t.length)&&xe(t,e,0)>-1}function de(t,e,i){for(var n=-1,r=null==t?0:t.length;++n<r;)if(i(e,t[n]))return!0;return!1}function pe(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}function fe(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function ge(t,e,i,n){var r=-1,s=null==t?0:t.length;for(n&&s&&(i=t[++r]);++r<s;)i=e(i,t[r],r,t);return i}function me(t,e,i,n){var r=null==t?0:t.length;for(n&&r&&(i=t[--r]);r--;)i=e(i,t[r],r,t);return i}function ve(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var ye=ke("length");function _e(t,e,i){var n;return i(t,(function(t,i,r){if(e(t,i,r))return n=i,!1})),n}function be(t,e,i,n){for(var r=t.length,s=i+(n?1:-1);n?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function xe(t,e,i){return e==e?function(t,e,i){var n=i-1,r=t.length;for(;++n<r;)if(t[n]===e)return n;return-1}(t,e,i):be(t,Se,i)}function we(t,e,i,n){for(var r=i-1,s=t.length;++r<s;)if(n(t[r],e))return r;return-1}function Se(t){return t!=t}function Te(t,e){var i=null==t?0:t.length;return i?Oe(t,e)/i:NaN}function ke(t){return function(e){return null==e?void 0:e[t]}}function Ce(t){return function(e){return null==t?void 0:t[e]}}function Ee(t,e,i,n,r){return r(t,(function(t,r,s){i=n?(n=!1,t):e(i,t,r,s)})),i}function Oe(t,e){for(var i,n=-1,r=t.length;++n<r;){var s=e(t[n]);void 0!==s&&(i=void 0===i?s:i+s)}return i}function Ie(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function Pe(t){return function(e){return t(e)}}function Me(t,e){return pe(e,(function(e){return t[e]}))}function Ae(t,e){return t.has(e)}function Re(t,e){for(var i=-1,n=t.length;++i<n&&xe(e,t[i],0)>-1;);return i}function De(t,e){for(var i=t.length;i--&&xe(e,t[i],0)>-1;);return i}function Le(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}var Fe=Ce({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Ne=Ce({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Be(t){return"\\"+Xt[t]}function Ue(t){return Ft.test(t)}function je(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function ze(t,e){return function(i){return t(e(i))}}function Xe(t,e){for(var i=-1,n=t.length,r=0,s=[];++i<n;){var a=t[i];a!==e&&a!==o||(t[i]=o,s[r++]=i)}return s}function He(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function Ye(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function qe(t){return Ue(t)?function(t){var e=Dt.lastIndex=0;for(;Dt.test(t);)++e;return e}(t):ye(t)}function We(t){return Ue(t)?function(t){return t.match(Dt)||[]}(t):function(t){return t.split("")}(t)}var Ve=Ce({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ge=function t(e){var i,n=(e=null==e?Vt:Ge.defaults(Vt.Object(),e,Ge.pick(Vt,Bt))).Array,r=e.Date,dt=e.Error,pt=e.Function,ft=e.Math,gt=e.Object,mt=e.RegExp,vt=e.String,yt=e.TypeError,_t=n.prototype,bt=pt.prototype,xt=gt.prototype,wt=e["__core-js_shared__"],St=bt.toString,Tt=xt.hasOwnProperty,kt=0,Ct=(i=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Et=xt.toString,Ot=St.call(gt),It=Vt._,Pt=mt("^"+St.call(Tt).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=Kt?e.Buffer:void 0,Dt=e.Symbol,Ft=e.Uint8Array,Xt=Mt?Mt.allocUnsafe:void 0,qt=ze(gt.getPrototypeOf,gt),Wt=gt.create,Gt=xt.propertyIsEnumerable,$t=_t.splice,Zt=Dt?Dt.isConcatSpreadable:void 0,Jt=Dt?Dt.iterator:void 0,ye=Dt?Dt.toStringTag:void 0,Ce=function(){try{var t=Qr(gt,"defineProperty");return t({},"",{}),t}catch(t){}}(),$e=e.clearTimeout!==Vt.clearTimeout&&e.clearTimeout,Ke=r&&r.now!==Vt.Date.now&&r.now,Ze=e.setTimeout!==Vt.setTimeout&&e.setTimeout,Je=ft.ceil,Qe=ft.floor,ti=gt.getOwnPropertySymbols,ei=Mt?Mt.isBuffer:void 0,ii=e.isFinite,ni=_t.join,ri=ze(gt.keys,gt),si=ft.max,oi=ft.min,ai=r.now,hi=e.parseInt,ui=ft.random,li=_t.reverse,ci=Qr(e,"DataView"),di=Qr(e,"Map"),pi=Qr(e,"Promise"),fi=Qr(e,"Set"),gi=Qr(e,"WeakMap"),mi=Qr(gt,"create"),vi=gi&&new gi,yi={},_i=Cs(ci),bi=Cs(di),xi=Cs(pi),wi=Cs(fi),Si=Cs(gi),Ti=Dt?Dt.prototype:void 0,ki=Ti?Ti.valueOf:void 0,Ci=Ti?Ti.toString:void 0;function Ei(t){if(Yo(t)&&!Ro(t)&&!(t instanceof Mi)){if(t instanceof Pi)return t;if(Tt.call(t,"__wrapped__"))return Es(t)}return new Pi(t)}var Oi=function(){function t(){}return function(e){if(!Ho(e))return{};if(Wt)return Wt(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function Ii(){}function Pi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Mi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ai(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Ri(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Di(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Li(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new Di;++e<i;)this.add(t[e])}function Fi(t){var e=this.__data__=new Ri(t);this.size=e.size}function Ni(t,e){var i=Ro(t),n=!i&&Ao(t),r=!i&&!n&&No(t),s=!i&&!n&&!r&&Jo(t),o=i||n||r||s,a=o?Ie(t.length,vt):[],h=a.length;for(var u in t)!e&&!Tt.call(t,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||os(u,h))||a.push(u);return a}function Bi(t){var e=t.length;return e?t[Fn(0,e-1)]:void 0}function Ui(t,e){return Ss(vr(t),Gi(e,0,t.length))}function ji(t){return Ss(vr(t))}function zi(t,e,i){(void 0!==i&&!Io(t[e],i)||void 0===i&&!(e in t))&&Wi(t,e,i)}function Xi(t,e,i){var n=t[e];Tt.call(t,e)&&Io(n,i)&&(void 0!==i||e in t)||Wi(t,e,i)}function Hi(t,e){for(var i=t.length;i--;)if(Io(t[i][0],e))return i;return-1}function Yi(t,e,i,n){return Qi(t,(function(t,r,s){e(n,t,i(t),s)})),n}function qi(t,e){return t&&yr(e,ba(e),t)}function Wi(t,e,i){"__proto__"==e&&Ce?Ce(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Vi(t,e){for(var i=-1,r=e.length,s=n(r),o=null==t;++i<r;)s[i]=o?void 0:ga(t,e[i]);return s}function Gi(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function $i(t,e,i,n,r,s){var o,a=1&e,u=2&e,d=4&e;if(i&&(o=r?i(t,n,r,s):i(t)),void 0!==o)return o;if(!Ho(t))return t;var w=Ro(t);if(w){if(o=function(t){var e=t.length,i=new t.constructor(e);e&&"string"==typeof t[0]&&Tt.call(t,"index")&&(i.index=t.index,i.input=t.input);return i}(t),!a)return vr(t,o)}else{var R=is(t),D=R==p||R==f;if(No(t))return cr(t,a);if(R==v||R==h||D&&!r){if(o=u||D?{}:rs(t),!a)return u?function(t,e){return yr(t,es(t),e)}(t,function(t,e){return t&&yr(e,xa(e),t)}(o,t)):function(t,e){return yr(t,ts(t),e)}(t,qi(o,t))}else{if(!zt[R])return r?t:{};o=function(t,e,i){var n=t.constructor;switch(e){case S:return dr(t);case l:case c:return new n(+t);case T:return function(t,e){var i=e?dr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case k:case C:case E:case O:case I:case P:case"[object Uint8ClampedArray]":case M:case A:return pr(t,i);case g:return new n;case m:case b:return new n(t);case y:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new n;case x:return r=t,ki?gt(ki.call(r)):{}}var r}(t,R,a)}}s||(s=new Fi);var L=s.get(t);if(L)return L;s.set(t,o),$o(t)?t.forEach((function(n){o.add($i(n,e,i,n,t,s))})):qo(t)&&t.forEach((function(n,r){o.set(r,$i(n,e,i,r,t,s))}));var F=w?void 0:(d?u?Wr:qr:u?xa:ba)(t);return ae(F||t,(function(n,r){F&&(n=t[r=n]),Xi(o,r,$i(n,e,i,r,t,s))})),o}function Ki(t,e,i){var n=i.length;if(null==t)return!n;for(t=gt(t);n--;){var r=i[n],s=e[r],o=t[r];if(void 0===o&&!(r in t)||!s(o))return!1}return!0}function Zi(t,e,i){if("function"!=typeof t)throw new yt(s);return _s((function(){t.apply(void 0,i)}),e)}function Ji(t,e,i,n){var r=-1,s=ce,o=!0,a=t.length,h=[],u=e.length;if(!a)return h;i&&(e=pe(e,Pe(i))),n?(s=de,o=!1):e.length>=200&&(s=Ae,o=!1,e=new Li(e));t:for(;++r<a;){var l=t[r],c=null==i?l:i(l);if(l=n||0!==l?l:0,o&&c==c){for(var d=u;d--;)if(e[d]===c)continue t;h.push(l)}else s(e,c,n)||h.push(l)}return h}Ei.templateSettings={escape:j,evaluate:z,interpolate:X,variable:"",imports:{_:Ei}},Ei.prototype=Ii.prototype,Ei.prototype.constructor=Ei,Pi.prototype=Oi(Ii.prototype),Pi.prototype.constructor=Pi,Mi.prototype=Oi(Ii.prototype),Mi.prototype.constructor=Mi,Ai.prototype.clear=function(){this.__data__=mi?mi(null):{},this.size=0},Ai.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ai.prototype.get=function(t){var e=this.__data__;if(mi){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return Tt.call(e,t)?e[t]:void 0},Ai.prototype.has=function(t){var e=this.__data__;return mi?void 0!==e[t]:Tt.call(e,t)},Ai.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=mi&&void 0===e?"__lodash_hash_undefined__":e,this},Ri.prototype.clear=function(){this.__data__=[],this.size=0},Ri.prototype.delete=function(t){var e=this.__data__,i=Hi(e,t);return!(i<0)&&(i==e.length-1?e.pop():$t.call(e,i,1),--this.size,!0)},Ri.prototype.get=function(t){var e=this.__data__,i=Hi(e,t);return i<0?void 0:e[i][1]},Ri.prototype.has=function(t){return Hi(this.__data__,t)>-1},Ri.prototype.set=function(t,e){var i=this.__data__,n=Hi(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},Di.prototype.clear=function(){this.size=0,this.__data__={hash:new Ai,map:new(di||Ri),string:new Ai}},Di.prototype.delete=function(t){var e=Zr(this,t).delete(t);return this.size-=e?1:0,e},Di.prototype.get=function(t){return Zr(this,t).get(t)},Di.prototype.has=function(t){return Zr(this,t).has(t)},Di.prototype.set=function(t,e){var i=Zr(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},Li.prototype.add=Li.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Li.prototype.has=function(t){return this.__data__.has(t)},Fi.prototype.clear=function(){this.__data__=new Ri,this.size=0},Fi.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Fi.prototype.get=function(t){return this.__data__.get(t)},Fi.prototype.has=function(t){return this.__data__.has(t)},Fi.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Ri){var n=i.__data__;if(!di||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Di(n)}return i.set(t,e),this.size=i.size,this};var Qi=xr(hn),tn=xr(un,!0);function en(t,e){var i=!0;return Qi(t,(function(t,n,r){return i=!!e(t,n,r)})),i}function nn(t,e,i){for(var n=-1,r=t.length;++n<r;){var s=t[n],o=e(s);if(null!=o&&(void 0===a?o==o&&!Zo(o):i(o,a)))var a=o,h=s}return h}function rn(t,e){var i=[];return Qi(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function sn(t,e,i,n,r){var s=-1,o=t.length;for(i||(i=ss),r||(r=[]);++s<o;){var a=t[s];e>0&&i(a)?e>1?sn(a,e-1,i,n,r):fe(r,a):n||(r[r.length]=a)}return r}var on=wr(),an=wr(!0);function hn(t,e){return t&&on(t,e,ba)}function un(t,e){return t&&an(t,e,ba)}function ln(t,e){return le(e,(function(e){return jo(t[e])}))}function cn(t,e){for(var i=0,n=(e=ar(e,t)).length;null!=t&&i<n;)t=t[ks(e[i++])];return i&&i==n?t:void 0}function dn(t,e,i){var n=e(t);return Ro(t)?n:fe(n,i(t))}function pn(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ye&&ye in gt(t)?function(t){var e=Tt.call(t,ye),i=t[ye];try{t[ye]=void 0;var n=!0}catch(t){}var r=Et.call(t);n&&(e?t[ye]=i:delete t[ye]);return r}(t):function(t){return Et.call(t)}(t)}function fn(t,e){return t>e}function gn(t,e){return null!=t&&Tt.call(t,e)}function mn(t,e){return null!=t&&e in gt(t)}function vn(t,e,i){for(var r=i?de:ce,s=t[0].length,o=t.length,a=o,h=n(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=pe(c,Pe(e))),u=oi(c.length,u),h[a]=!i&&(e||s>=120&&c.length>=120)?new Li(a&&c):void 0}c=t[0];var d=-1,p=h[0];t:for(;++d<s&&l.length<u;){var f=c[d],g=e?e(f):f;if(f=i||0!==f?f:0,!(p?Ae(p,g):r(l,g,i))){for(a=o;--a;){var m=h[a];if(!(m?Ae(m,g):r(t[a],g,i)))continue t}p&&p.push(g),l.push(f)}}return l}function yn(t,e,i){var n=null==(t=gs(t,e=ar(e,t)))?t:t[ks(Bs(e))];return null==n?void 0:se(n,t,i)}function _n(t){return Yo(t)&&pn(t)==h}function bn(t,e,i,n,r){return t===e||(null==t||null==e||!Yo(t)&&!Yo(e)?t!=t&&e!=e:function(t,e,i,n,r,s){var o=Ro(t),a=Ro(e),p=o?u:is(t),f=a?u:is(e),w=(p=p==h?v:p)==v,k=(f=f==h?v:f)==v,C=p==f;if(C&&No(t)){if(!No(e))return!1;o=!0,w=!1}if(C&&!w)return s||(s=new Fi),o||Jo(t)?Hr(t,e,i,n,r,s):function(t,e,i,n,r,s,o){switch(i){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!s(new Ft(t),new Ft(e)));case l:case c:case m:return Io(+t,+e);case d:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case g:var a=je;case _:var h=1&n;if(a||(a=He),t.size!=e.size&&!h)return!1;var u=o.get(t);if(u)return u==e;n|=2,o.set(t,e);var p=Hr(a(t),a(e),n,r,s,o);return o.delete(t),p;case x:if(ki)return ki.call(t)==ki.call(e)}return!1}(t,e,p,i,n,r,s);if(!(1&i)){var E=w&&Tt.call(t,"__wrapped__"),O=k&&Tt.call(e,"__wrapped__");if(E||O){var I=E?t.value():t,P=O?e.value():e;return s||(s=new Fi),r(I,P,i,n,s)}}if(!C)return!1;return s||(s=new Fi),function(t,e,i,n,r,s){var o=1&i,a=qr(t),h=a.length,u=qr(e).length;if(h!=u&&!o)return!1;var l=h;for(;l--;){var c=a[l];if(!(o?c in e:Tt.call(e,c)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var p=!0;s.set(t,e),s.set(e,t);var f=o;for(;++l<h;){c=a[l];var g=t[c],m=e[c];if(n)var v=o?n(m,g,c,e,t,s):n(g,m,c,t,e,s);if(!(void 0===v?g===m||r(g,m,i,n,s):v)){p=!1;break}f||(f="constructor"==c)}if(p&&!f){var y=t.constructor,_=e.constructor;y==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,i,n,r,s)}(t,e,i,n,bn,r))}function xn(t,e,i,n){var r=i.length,s=r,o=!n;if(null==t)return!s;for(t=gt(t);r--;){var a=i[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){var h=(a=i[r])[0],u=t[h],l=a[1];if(o&&a[2]){if(void 0===u&&!(h in t))return!1}else{var c=new Fi;if(n)var d=n(u,l,h,t,e,c);if(!(void 0===d?bn(l,u,3,n,c):d))return!1}}return!0}function wn(t){return!(!Ho(t)||(e=t,Ct&&Ct in e))&&(jo(t)?Pt:ot).test(Cs(t));var e}function Sn(t){return"function"==typeof t?t:null==t?Wa:"object"==typeof t?Ro(t)?In(t[0],t[1]):On(t):eh(t)}function Tn(t){if(!cs(t))return ri(t);var e=[];for(var i in gt(t))Tt.call(t,i)&&"constructor"!=i&&e.push(i);return e}function kn(t){if(!Ho(t))return function(t){var e=[];if(null!=t)for(var i in gt(t))e.push(i);return e}(t);var e=cs(t),i=[];for(var n in t)("constructor"!=n||!e&&Tt.call(t,n))&&i.push(n);return i}function Cn(t,e){return t<e}function En(t,e){var i=-1,r=Lo(t)?n(t.length):[];return Qi(t,(function(t,n,s){r[++i]=e(t,n,s)})),r}function On(t){var e=Jr(t);return 1==e.length&&e[0][2]?ps(e[0][0],e[0][1]):function(i){return i===t||xn(i,t,e)}}function In(t,e){return hs(t)&&ds(e)?ps(ks(t),e):function(i){var n=ga(i,t);return void 0===n&&n===e?ma(i,t):bn(e,n,3)}}function Pn(t,e,i,n,r){t!==e&&on(e,(function(s,o){if(r||(r=new Fi),Ho(s))!function(t,e,i,n,r,s,o){var a=vs(t,i),h=vs(e,i),u=o.get(h);if(u)return void zi(t,i,u);var l=s?s(a,h,i+"",t,e,o):void 0,c=void 0===l;if(c){var d=Ro(h),p=!d&&No(h),f=!d&&!p&&Jo(h);l=h,d||p||f?Ro(a)?l=a:Fo(a)?l=vr(a):p?(c=!1,l=cr(h,!0)):f?(c=!1,l=pr(h,!0)):l=[]:Vo(h)||Ao(h)?(l=a,Ao(a)?l=oa(a):Ho(a)&&!jo(a)||(l=rs(h))):c=!1}c&&(o.set(h,l),r(l,h,n,s,o),o.delete(h));zi(t,i,l)}(t,e,o,i,Pn,n,r);else{var a=n?n(vs(t,o),s,o+"",t,e,r):void 0;void 0===a&&(a=s),zi(t,o,a)}}),xa)}function Mn(t,e){var i=t.length;if(i)return os(e+=e<0?i:0,i)?t[e]:void 0}function An(t,e,i){var n=-1;return e=pe(e.length?e:[Wa],Pe(Kr())),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(En(t,(function(t,i,r){return{criteria:pe(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,i){var n=-1,r=t.criteria,s=e.criteria,o=r.length,a=i.length;for(;++n<o;){var h=fr(r[n],s[n]);if(h){if(n>=a)return h;var u=i[n];return h*("desc"==u?-1:1)}}return t.index-e.index}(t,e,i)}))}function Rn(t,e,i){for(var n=-1,r=e.length,s={};++n<r;){var o=e[n],a=cn(t,o);i(a,o)&&zn(s,ar(o,t),a)}return s}function Dn(t,e,i,n){var r=n?we:xe,s=-1,o=e.length,a=t;for(t===e&&(e=vr(e)),i&&(a=pe(t,Pe(i)));++s<o;)for(var h=0,u=e[s],l=i?i(u):u;(h=r(a,l,h,n))>-1;)a!==t&&$t.call(a,h,1),$t.call(t,h,1);return t}function Ln(t,e){for(var i=t?e.length:0,n=i-1;i--;){var r=e[i];if(i==n||r!==s){var s=r;os(r)?$t.call(t,r,1):Qn(t,r)}}return t}function Fn(t,e){return t+Qe(ui()*(e-t+1))}function Nn(t,e){var i="";if(!t||e<1||e>9007199254740991)return i;do{e%2&&(i+=t),(e=Qe(e/2))&&(t+=t)}while(e);return i}function Bn(t,e){return bs(fs(t,e,Wa),t+"")}function Un(t){return Bi(Ia(t))}function jn(t,e){var i=Ia(t);return Ss(i,Gi(e,0,i.length))}function zn(t,e,i,n){if(!Ho(t))return t;for(var r=-1,s=(e=ar(e,t)).length,o=s-1,a=t;null!=a&&++r<s;){var h=ks(e[r]),u=i;if(r!=o){var l=a[h];void 0===(u=n?n(l,h,a):void 0)&&(u=Ho(l)?l:os(e[r+1])?[]:{})}Xi(a,h,u),a=a[h]}return t}var Xn=vi?function(t,e){return vi.set(t,e),t}:Wa,Hn=Ce?function(t,e){return Ce(t,"toString",{configurable:!0,enumerable:!1,value:Ha(e),writable:!0})}:Wa;function Yn(t){return Ss(Ia(t))}function qn(t,e,i){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(i=i>s?s:i)<0&&(i+=s),s=e>i?0:i-e>>>0,e>>>=0;for(var o=n(s);++r<s;)o[r]=t[r+e];return o}function Wn(t,e){var i;return Qi(t,(function(t,n,r){return!(i=e(t,n,r))})),!!i}function Vn(t,e,i){var n=0,r=null==t?n:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;n<r;){var s=n+r>>>1,o=t[s];null!==o&&!Zo(o)&&(i?o<=e:o<e)?n=s+1:r=s}return r}return Gn(t,e,Wa,i)}function Gn(t,e,i,n){e=i(e);for(var r=0,s=null==t?0:t.length,o=e!=e,a=null===e,h=Zo(e),u=void 0===e;r<s;){var l=Qe((r+s)/2),c=i(t[l]),d=void 0!==c,p=null===c,f=c==c,g=Zo(c);if(o)var m=n||f;else m=u?f&&(n||d):a?f&&d&&(n||!p):h?f&&d&&!p&&(n||!g):!p&&!g&&(n?c<=e:c<e);m?r=l+1:s=l}return oi(s,4294967294)}function $n(t,e){for(var i=-1,n=t.length,r=0,s=[];++i<n;){var o=t[i],a=e?e(o):o;if(!i||!Io(a,h)){var h=a;s[r++]=0===o?0:o}}return s}function Kn(t){return"number"==typeof t?t:Zo(t)?NaN:+t}function Zn(t){if("string"==typeof t)return t;if(Ro(t))return pe(t,Zn)+"";if(Zo(t))return Ci?Ci.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jn(t,e,i){var n=-1,r=ce,s=t.length,o=!0,a=[],h=a;if(i)o=!1,r=de;else if(s>=200){var u=e?null:Nr(t);if(u)return He(u);o=!1,r=Ae,h=new Li}else h=e?[]:a;t:for(;++n<s;){var l=t[n],c=e?e(l):l;if(l=i||0!==l?l:0,o&&c==c){for(var d=h.length;d--;)if(h[d]===c)continue t;e&&h.push(c),a.push(l)}else r(h,c,i)||(h!==a&&h.push(c),a.push(l))}return a}function Qn(t,e){return null==(t=gs(t,e=ar(e,t)))||delete t[ks(Bs(e))]}function tr(t,e,i,n){return zn(t,e,i(cn(t,e)),n)}function er(t,e,i,n){for(var r=t.length,s=n?r:-1;(n?s--:++s<r)&&e(t[s],s,t););return i?qn(t,n?0:s,n?s+1:r):qn(t,n?s+1:0,n?r:s)}function ir(t,e){var i=t;return i instanceof Mi&&(i=i.value()),ge(e,(function(t,e){return e.func.apply(e.thisArg,fe([t],e.args))}),i)}function nr(t,e,i){var r=t.length;if(r<2)return r?Jn(t[0]):[];for(var s=-1,o=n(r);++s<r;)for(var a=t[s],h=-1;++h<r;)h!=s&&(o[s]=Ji(o[s]||a,t[h],e,i));return Jn(sn(o,1),e,i)}function rr(t,e,i){for(var n=-1,r=t.length,s=e.length,o={};++n<r;){var a=n<s?e[n]:void 0;i(o,t[n],a)}return o}function sr(t){return Fo(t)?t:[]}function or(t){return"function"==typeof t?t:Wa}function ar(t,e){return Ro(t)?t:hs(t,e)?[t]:Ts(aa(t))}var hr=Bn;function ur(t,e,i){var n=t.length;return i=void 0===i?n:i,!e&&i>=n?t:qn(t,e,i)}var lr=$e||function(t){return Vt.clearTimeout(t)};function cr(t,e){if(e)return t.slice();var i=t.length,n=Xt?Xt(i):new t.constructor(i);return t.copy(n),n}function dr(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function pr(t,e){var i=e?dr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function fr(t,e){if(t!==e){var i=void 0!==t,n=null===t,r=t==t,s=Zo(t),o=void 0!==e,a=null===e,h=e==e,u=Zo(e);if(!a&&!u&&!s&&t>e||s&&o&&h&&!a&&!u||n&&o&&h||!i&&h||!r)return 1;if(!n&&!s&&!u&&t<e||u&&i&&r&&!n&&!s||a&&i&&r||!o&&r||!h)return-1}return 0}function gr(t,e,i,r){for(var s=-1,o=t.length,a=i.length,h=-1,u=e.length,l=si(o-a,0),c=n(u+l),d=!r;++h<u;)c[h]=e[h];for(;++s<a;)(d||s<o)&&(c[i[s]]=t[s]);for(;l--;)c[h++]=t[s++];return c}function mr(t,e,i,r){for(var s=-1,o=t.length,a=-1,h=i.length,u=-1,l=e.length,c=si(o-h,0),d=n(c+l),p=!r;++s<c;)d[s]=t[s];for(var f=s;++u<l;)d[f+u]=e[u];for(;++a<h;)(p||s<o)&&(d[f+i[a]]=t[s++]);return d}function vr(t,e){var i=-1,r=t.length;for(e||(e=n(r));++i<r;)e[i]=t[i];return e}function yr(t,e,i,n){var r=!i;i||(i={});for(var s=-1,o=e.length;++s<o;){var a=e[s],h=n?n(i[a],t[a],a,i,t):void 0;void 0===h&&(h=t[a]),r?Wi(i,a,h):Xi(i,a,h)}return i}function _r(t,e){return function(i,n){var r=Ro(i)?oe:Yi,s=e?e():{};return r(i,t,Kr(n,2),s)}}function br(t){return Bn((function(e,i){var n=-1,r=i.length,s=r>1?i[r-1]:void 0,o=r>2?i[2]:void 0;for(s=t.length>3&&"function"==typeof s?(r--,s):void 0,o&&as(i[0],i[1],o)&&(s=r<3?void 0:s,r=1),e=gt(e);++n<r;){var a=i[n];a&&t(e,a,n,s)}return e}))}function xr(t,e){return function(i,n){if(null==i)return i;if(!Lo(i))return t(i,n);for(var r=i.length,s=e?r:-1,o=gt(i);(e?s--:++s<r)&&!1!==n(o[s],s,o););return i}}function wr(t){return function(e,i,n){for(var r=-1,s=gt(e),o=n(e),a=o.length;a--;){var h=o[t?a:++r];if(!1===i(s[h],h,s))break}return e}}function Sr(t){return function(e){var i=Ue(e=aa(e))?We(e):void 0,n=i?i[0]:e.charAt(0),r=i?ur(i,1).join(""):e.slice(1);return n[t]()+r}}function Tr(t){return function(e){return ge(ja(Aa(e).replace(At,"")),t,"")}}function kr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Oi(t.prototype),n=t.apply(i,e);return Ho(n)?n:i}}function Cr(t){return function(e,i,n){var r=gt(e);if(!Lo(e)){var s=Kr(i,3);e=ba(e),i=function(t){return s(r[t],t,r)}}var o=t(e,i,n);return o>-1?r[s?e[o]:o]:void 0}}function Er(t){return Yr((function(e){var i=e.length,n=i,r=Pi.prototype.thru;for(t&&e.reverse();n--;){var o=e[n];if("function"!=typeof o)throw new yt(s);if(r&&!a&&"wrapper"==Gr(o))var a=new Pi([],!0)}for(n=a?n:i;++n<i;){var h=Gr(o=e[n]),u="wrapper"==h?Vr(o):void 0;a=u&&us(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[Gr(u[0])].apply(a,u[3]):1==o.length&&us(o)?a[h]():a.thru(o)}return function(){var t=arguments,n=t[0];if(a&&1==t.length&&Ro(n))return a.plant(n).value();for(var r=0,s=i?e[r].apply(this,t):n;++r<i;)s=e[r].call(this,s);return s}}))}function Or(t,e,i,r,s,o,a,h,u,l){var c=128&e,d=1&e,p=2&e,f=24&e,g=512&e,m=p?void 0:kr(t);return function v(){for(var y=arguments.length,_=n(y),b=y;b--;)_[b]=arguments[b];if(f)var x=$r(v),w=Le(_,x);if(r&&(_=gr(_,r,s,f)),o&&(_=mr(_,o,a,f)),y-=w,f&&y<l){var S=Xe(_,x);return Lr(t,e,Or,v.placeholder,i,_,S,h,u,l-y)}var T=d?i:this,k=p?T[t]:t;return y=_.length,h?_=ms(_,h):g&&y>1&&_.reverse(),c&&u<y&&(_.length=u),this&&this!==Vt&&this instanceof v&&(k=m||kr(k)),k.apply(T,_)}}function Ir(t,e){return function(i,n){return function(t,e,i,n){return hn(t,(function(t,r,s){e(n,i(t),r,s)})),n}(i,t,e(n),{})}}function Pr(t,e){return function(i,n){var r;if(void 0===i&&void 0===n)return e;if(void 0!==i&&(r=i),void 0!==n){if(void 0===r)return n;"string"==typeof i||"string"==typeof n?(i=Zn(i),n=Zn(n)):(i=Kn(i),n=Kn(n)),r=t(i,n)}return r}}function Mr(t){return Yr((function(e){return e=pe(e,Pe(Kr())),Bn((function(i){var n=this;return t(e,(function(t){return se(t,n,i)}))}))}))}function Ar(t,e){var i=(e=void 0===e?" ":Zn(e)).length;if(i<2)return i?Nn(e,t):e;var n=Nn(e,Je(t/qe(e)));return Ue(e)?ur(We(n),0,t).join(""):n.slice(0,t)}function Rr(t){return function(e,i,r){return r&&"number"!=typeof r&&as(e,i,r)&&(i=r=void 0),e=ia(e),void 0===i?(i=e,e=0):i=ia(i),function(t,e,i,r){for(var s=-1,o=si(Je((e-t)/(i||1)),0),a=n(o);o--;)a[r?o:++s]=t,t+=i;return a}(e,i,r=void 0===r?e<i?1:-1:ia(r),t)}}function Dr(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=sa(e),i=sa(i)),t(e,i)}}function Lr(t,e,i,n,r,s,o,a,h,u){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var c=[t,e,r,l?s:void 0,l?o:void 0,l?void 0:s,l?void 0:o,a,h,u],d=i.apply(void 0,c);return us(t)&&ys(d,c),d.placeholder=n,xs(d,t,e)}function Fr(t){var e=ft[t];return function(t,i){if(t=sa(t),(i=null==i?0:oi(na(i),292))&&ii(t)){var n=(aa(t)+"e").split("e");return+((n=(aa(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Nr=fi&&1/He(new fi([,-0]))[1]==1/0?function(t){return new fi(t)}:Za;function Br(t){return function(e){var i=is(e);return i==g?je(e):i==_?Ye(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ur(t,e,i,r,a,h,u,l){var c=2&e;if(!c&&"function"!=typeof t)throw new yt(s);var d=r?r.length:0;if(d||(e&=-97,r=a=void 0),u=void 0===u?u:si(na(u),0),l=void 0===l?l:na(l),d-=a?a.length:0,64&e){var p=r,f=a;r=a=void 0}var g=c?void 0:Vr(t),m=[t,e,i,r,a,p,f,h,u,l];if(g&&function(t,e){var i=t[1],n=e[1],r=i|n,s=r<131,a=128==n&&8==i||128==n&&256==i&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!s&&!a)return t;1&n&&(t[2]=e[2],r|=1&i?0:4);var h=e[3];if(h){var u=t[3];t[3]=u?gr(u,h,e[4]):h,t[4]=u?Xe(t[3],o):e[4]}(h=e[5])&&(u=t[5],t[5]=u?mr(u,h,e[6]):h,t[6]=u?Xe(t[5],o):e[6]);(h=e[7])&&(t[7]=h);128&n&&(t[8]=null==t[8]?e[8]:oi(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(m,g),t=m[0],e=m[1],i=m[2],r=m[3],a=m[4],!(l=m[9]=void 0===m[9]?c?0:t.length:si(m[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,i){var r=kr(t);return function s(){for(var o=arguments.length,a=n(o),h=o,u=$r(s);h--;)a[h]=arguments[h];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:Xe(a,u);if((o-=l.length)<i)return Lr(t,e,Or,s.placeholder,void 0,a,l,void 0,void 0,i-o);var c=this&&this!==Vt&&this instanceof s?r:t;return se(c,this,a)}}(t,e,l):32!=e&&33!=e||a.length?Or.apply(void 0,m):function(t,e,i,r){var s=1&e,o=kr(t);return function e(){for(var a=-1,h=arguments.length,u=-1,l=r.length,c=n(l+h),d=this&&this!==Vt&&this instanceof e?o:t;++u<l;)c[u]=r[u];for(;h--;)c[u++]=arguments[++a];return se(d,s?i:this,c)}}(t,e,i,r);else var v=function(t,e,i){var n=1&e,r=kr(t);return function e(){var s=this&&this!==Vt&&this instanceof e?r:t;return s.apply(n?i:this,arguments)}}(t,e,i);return xs((g?Xn:ys)(v,m),t,e)}function jr(t,e,i,n){return void 0===t||Io(t,xt[i])&&!Tt.call(n,i)?e:t}function zr(t,e,i,n,r,s){return Ho(t)&&Ho(e)&&(s.set(e,t),Pn(t,e,void 0,zr,s),s.delete(e)),t}function Xr(t){return Vo(t)?void 0:t}function Hr(t,e,i,n,r,s){var o=1&i,a=t.length,h=e.length;if(a!=h&&!(o&&h>a))return!1;var u=s.get(t);if(u&&s.get(e))return u==e;var l=-1,c=!0,d=2&i?new Li:void 0;for(s.set(t,e),s.set(e,t);++l<a;){var p=t[l],f=e[l];if(n)var g=o?n(f,p,l,e,t,s):n(p,f,l,t,e,s);if(void 0!==g){if(g)continue;c=!1;break}if(d){if(!ve(e,(function(t,e){if(!Ae(d,e)&&(p===t||r(p,t,i,n,s)))return d.push(e)}))){c=!1;break}}else if(p!==f&&!r(p,f,i,n,s)){c=!1;break}}return s.delete(t),s.delete(e),c}function Yr(t){return bs(fs(t,void 0,Rs),t+"")}function qr(t){return dn(t,ba,ts)}function Wr(t){return dn(t,xa,es)}var Vr=vi?function(t){return vi.get(t)}:Za;function Gr(t){for(var e=t.name+"",i=yi[e],n=Tt.call(yi,e)?i.length:0;n--;){var r=i[n],s=r.func;if(null==s||s==t)return r.name}return e}function $r(t){return(Tt.call(Ei,"placeholder")?Ei:t).placeholder}function Kr(){var t=Ei.iteratee||Va;return t=t===Va?Sn:t,arguments.length?t(arguments[0],arguments[1]):t}function Zr(t,e){var i,n,r=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof e?"string":"hash"]:r.map}function Jr(t){for(var e=ba(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,ds(r)]}return e}function Qr(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return wn(i)?i:void 0}var ts=ti?function(t){return null==t?[]:(t=gt(t),le(ti(t),(function(e){return Gt.call(t,e)})))}:rh,es=ti?function(t){for(var e=[];t;)fe(e,ts(t)),t=qt(t);return e}:rh,is=pn;function ns(t,e,i){for(var n=-1,r=(e=ar(e,t)).length,s=!1;++n<r;){var o=ks(e[n]);if(!(s=null!=t&&i(t,o)))break;t=t[o]}return s||++n!=r?s:!!(r=null==t?0:t.length)&&Xo(r)&&os(o,r)&&(Ro(t)||Ao(t))}function rs(t){return"function"!=typeof t.constructor||cs(t)?{}:Oi(qt(t))}function ss(t){return Ro(t)||Ao(t)||!!(Zt&&t&&t[Zt])}function os(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&ht.test(t))&&t>-1&&t%1==0&&t<e}function as(t,e,i){if(!Ho(i))return!1;var n=typeof e;return!!("number"==n?Lo(i)&&os(e,i.length):"string"==n&&e in i)&&Io(i[e],t)}function hs(t,e){if(Ro(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Zo(t))||(Y.test(t)||!H.test(t)||null!=e&&t in gt(e))}function us(t){var e=Gr(t),i=Ei[e];if("function"!=typeof i||!(e in Mi.prototype))return!1;if(t===i)return!0;var n=Vr(i);return!!n&&t===n[0]}(ci&&is(new ci(new ArrayBuffer(1)))!=T||di&&is(new di)!=g||pi&&"[object Promise]"!=is(pi.resolve())||fi&&is(new fi)!=_||gi&&is(new gi)!=w)&&(is=function(t){var e=pn(t),i=e==v?t.constructor:void 0,n=i?Cs(i):"";if(n)switch(n){case _i:return T;case bi:return g;case xi:return"[object Promise]";case wi:return _;case Si:return w}return e});var ls=wt?jo:sh;function cs(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xt)}function ds(t){return t==t&&!Ho(t)}function ps(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in gt(i)))}}function fs(t,e,i){return e=si(void 0===e?t.length-1:e,0),function(){for(var r=arguments,s=-1,o=si(r.length-e,0),a=n(o);++s<o;)a[s]=r[e+s];s=-1;for(var h=n(e+1);++s<e;)h[s]=r[s];return h[e]=i(a),se(t,this,h)}}function gs(t,e){return e.length<2?t:cn(t,qn(e,0,-1))}function ms(t,e){for(var i=t.length,n=oi(e.length,i),r=vr(t);n--;){var s=e[n];t[n]=os(s,i)?r[s]:void 0}return t}function vs(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ys=ws(Xn),_s=Ze||function(t,e){return Vt.setTimeout(t,e)},bs=ws(Hn);function xs(t,e,i){var n=e+"";return bs(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ae(a,(function(i){var n="_."+i[0];e&i[1]&&!ce(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split(Q):[]}(n),i)))}function ws(t){var e=0,i=0;return function(){var n=ai(),r=16-(n-i);if(i=n,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ss(t,e){var i=-1,n=t.length,r=n-1;for(e=void 0===e?n:e;++i<e;){var s=Fn(i,r),o=t[s];t[s]=t[i],t[i]=o}return t.length=e,t}var Ts=function(t){var e=So(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(q,(function(t,i,n,r){e.push(n?r.replace(et,"$1"):i||t)})),e}));function ks(t){if("string"==typeof t||Zo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Cs(t){if(null!=t){try{return St.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Es(t){if(t instanceof Mi)return t.clone();var e=new Pi(t.__wrapped__,t.__chain__);return e.__actions__=vr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Os=Bn((function(t,e){return Fo(t)?Ji(t,sn(e,1,Fo,!0)):[]})),Is=Bn((function(t,e){var i=Bs(e);return Fo(i)&&(i=void 0),Fo(t)?Ji(t,sn(e,1,Fo,!0),Kr(i,2)):[]})),Ps=Bn((function(t,e){var i=Bs(e);return Fo(i)&&(i=void 0),Fo(t)?Ji(t,sn(e,1,Fo,!0),void 0,i):[]}));function Ms(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:na(i);return r<0&&(r=si(n+r,0)),be(t,Kr(e,3),r)}function As(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n-1;return void 0!==i&&(r=na(i),r=i<0?si(n+r,0):oi(r,n-1)),be(t,Kr(e,3),r,!0)}function Rs(t){return(null==t?0:t.length)?sn(t,1):[]}function Ds(t){return t&&t.length?t[0]:void 0}var Ls=Bn((function(t){var e=pe(t,sr);return e.length&&e[0]===t[0]?vn(e):[]})),Fs=Bn((function(t){var e=Bs(t),i=pe(t,sr);return e===Bs(i)?e=void 0:i.pop(),i.length&&i[0]===t[0]?vn(i,Kr(e,2)):[]})),Ns=Bn((function(t){var e=Bs(t),i=pe(t,sr);return(e="function"==typeof e?e:void 0)&&i.pop(),i.length&&i[0]===t[0]?vn(i,void 0,e):[]}));function Bs(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Us=Bn(js);function js(t,e){return t&&t.length&&e&&e.length?Dn(t,e):t}var zs=Yr((function(t,e){var i=null==t?0:t.length,n=Vi(t,e);return Ln(t,pe(e,(function(t){return os(t,i)?+t:t})).sort(fr)),n}));function Xs(t){return null==t?t:li.call(t)}var Hs=Bn((function(t){return Jn(sn(t,1,Fo,!0))})),Ys=Bn((function(t){var e=Bs(t);return Fo(e)&&(e=void 0),Jn(sn(t,1,Fo,!0),Kr(e,2))})),qs=Bn((function(t){var e=Bs(t);return e="function"==typeof e?e:void 0,Jn(sn(t,1,Fo,!0),void 0,e)}));function Ws(t){if(!t||!t.length)return[];var e=0;return t=le(t,(function(t){if(Fo(t))return e=si(t.length,e),!0})),Ie(e,(function(e){return pe(t,ke(e))}))}function Vs(t,e){if(!t||!t.length)return[];var i=Ws(t);return null==e?i:pe(i,(function(t){return se(e,void 0,t)}))}var Gs=Bn((function(t,e){return Fo(t)?Ji(t,e):[]})),$s=Bn((function(t){return nr(le(t,Fo))})),Ks=Bn((function(t){var e=Bs(t);return Fo(e)&&(e=void 0),nr(le(t,Fo),Kr(e,2))})),Zs=Bn((function(t){var e=Bs(t);return e="function"==typeof e?e:void 0,nr(le(t,Fo),void 0,e)})),Js=Bn(Ws);var Qs=Bn((function(t){var e=t.length,i=e>1?t[e-1]:void 0;return i="function"==typeof i?(t.pop(),i):void 0,Vs(t,i)}));function to(t){var e=Ei(t);return e.__chain__=!0,e}function eo(t,e){return e(t)}var io=Yr((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,r=function(e){return Vi(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Mi&&os(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:eo,args:[r],thisArg:void 0}),new Pi(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var no=_r((function(t,e,i){Tt.call(t,i)?++t[i]:Wi(t,i,1)}));var ro=Cr(Ms),so=Cr(As);function oo(t,e){return(Ro(t)?ae:Qi)(t,Kr(e,3))}function ao(t,e){return(Ro(t)?he:tn)(t,Kr(e,3))}var ho=_r((function(t,e,i){Tt.call(t,i)?t[i].push(e):Wi(t,i,[e])}));var uo=Bn((function(t,e,i){var r=-1,s="function"==typeof e,o=Lo(t)?n(t.length):[];return Qi(t,(function(t){o[++r]=s?se(e,t,i):yn(t,e,i)})),o})),lo=_r((function(t,e,i){Wi(t,i,e)}));function co(t,e){return(Ro(t)?pe:En)(t,Kr(e,3))}var po=_r((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));var fo=Bn((function(t,e){if(null==t)return[];var i=e.length;return i>1&&as(t,e[0],e[1])?e=[]:i>2&&as(e[0],e[1],e[2])&&(e=[e[0]]),An(t,sn(e,1),[])})),go=Ke||function(){return Vt.Date.now()};function mo(t,e,i){return e=i?void 0:e,Ur(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function vo(t,e){var i;if("function"!=typeof e)throw new yt(s);return t=na(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}var yo=Bn((function(t,e,i){var n=1;if(i.length){var r=Xe(i,$r(yo));n|=32}return Ur(t,n,e,i,r)})),_o=Bn((function(t,e,i){var n=3;if(i.length){var r=Xe(i,$r(_o));n|=32}return Ur(e,n,t,i,r)}));function bo(t,e,i){var n,r,o,a,h,u,l=0,c=!1,d=!1,p=!0;if("function"!=typeof t)throw new yt(s);function f(e){var i=n,s=r;return n=r=void 0,l=e,a=t.apply(s,i)}function g(t){return l=t,h=_s(v,e),c?f(t):a}function m(t){var i=t-u;return void 0===u||i>=e||i<0||d&&t-l>=o}function v(){var t=go();if(m(t))return y(t);h=_s(v,function(t){var i=e-(t-u);return d?oi(i,o-(t-l)):i}(t))}function y(t){return h=void 0,p&&n?f(t):(n=r=void 0,a)}function _(){var t=go(),i=m(t);if(n=arguments,r=this,u=t,i){if(void 0===h)return g(u);if(d)return lr(h),h=_s(v,e),f(u)}return void 0===h&&(h=_s(v,e)),a}return e=sa(e)||0,Ho(i)&&(c=!!i.leading,o=(d="maxWait"in i)?si(sa(i.maxWait)||0,e):o,p="trailing"in i?!!i.trailing:p),_.cancel=function(){void 0!==h&&lr(h),l=0,n=u=r=h=void 0},_.flush=function(){return void 0===h?a:y(go())},_}var xo=Bn((function(t,e){return Zi(t,1,e)})),wo=Bn((function(t,e,i){return Zi(t,sa(e)||0,i)}));function So(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new yt(s);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=i.cache;if(s.has(r))return s.get(r);var o=t.apply(this,n);return i.cache=s.set(r,o)||s,o};return i.cache=new(So.Cache||Di),i}function To(t){if("function"!=typeof t)throw new yt(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}So.Cache=Di;var ko=hr((function(t,e){var i=(e=1==e.length&&Ro(e[0])?pe(e[0],Pe(Kr())):pe(sn(e,1),Pe(Kr()))).length;return Bn((function(n){for(var r=-1,s=oi(n.length,i);++r<s;)n[r]=e[r].call(this,n[r]);return se(t,this,n)}))})),Co=Bn((function(t,e){return Ur(t,32,void 0,e,Xe(e,$r(Co)))})),Eo=Bn((function(t,e){return Ur(t,64,void 0,e,Xe(e,$r(Eo)))})),Oo=Yr((function(t,e){return Ur(t,256,void 0,void 0,void 0,e)}));function Io(t,e){return t===e||t!=t&&e!=e}var Po=Dr(fn),Mo=Dr((function(t,e){return t>=e})),Ao=_n(function(){return arguments}())?_n:function(t){return Yo(t)&&Tt.call(t,"callee")&&!Gt.call(t,"callee")},Ro=n.isArray,Do=Qt?Pe(Qt):function(t){return Yo(t)&&pn(t)==S};function Lo(t){return null!=t&&Xo(t.length)&&!jo(t)}function Fo(t){return Yo(t)&&Lo(t)}var No=ei||sh,Bo=te?Pe(te):function(t){return Yo(t)&&pn(t)==c};function Uo(t){if(!Yo(t))return!1;var e=pn(t);return e==d||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Vo(t)}function jo(t){if(!Ho(t))return!1;var e=pn(t);return e==p||e==f||"[object AsyncFunction]"==e||"[object Proxy]"==e}function zo(t){return"number"==typeof t&&t==na(t)}function Xo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ho(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Yo(t){return null!=t&&"object"==typeof t}var qo=ee?Pe(ee):function(t){return Yo(t)&&is(t)==g};function Wo(t){return"number"==typeof t||Yo(t)&&pn(t)==m}function Vo(t){if(!Yo(t)||pn(t)!=v)return!1;var e=qt(t);if(null===e)return!0;var i=Tt.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&St.call(i)==Ot}var Go=ie?Pe(ie):function(t){return Yo(t)&&pn(t)==y};var $o=ne?Pe(ne):function(t){return Yo(t)&&is(t)==_};function Ko(t){return"string"==typeof t||!Ro(t)&&Yo(t)&&pn(t)==b}function Zo(t){return"symbol"==typeof t||Yo(t)&&pn(t)==x}var Jo=re?Pe(re):function(t){return Yo(t)&&Xo(t.length)&&!!jt[pn(t)]};var Qo=Dr(Cn),ta=Dr((function(t,e){return t<=e}));function ea(t){if(!t)return[];if(Lo(t))return Ko(t)?We(t):vr(t);if(Jt&&t[Jt])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[Jt]());var e=is(t);return(e==g?je:e==_?He:Ia)(t)}function ia(t){return t?(t=sa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function na(t){var e=ia(t),i=e%1;return e==e?i?e-i:e:0}function ra(t){return t?Gi(na(t),0,4294967295):0}function sa(t){if("number"==typeof t)return t;if(Zo(t))return NaN;if(Ho(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ho(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(G,"");var i=st.test(t);return i||at.test(t)?Yt(t.slice(2),i?2:8):rt.test(t)?NaN:+t}function oa(t){return yr(t,xa(t))}function aa(t){return null==t?"":Zn(t)}var ha=br((function(t,e){if(cs(e)||Lo(e))yr(e,ba(e),t);else for(var i in e)Tt.call(e,i)&&Xi(t,i,e[i])})),ua=br((function(t,e){yr(e,xa(e),t)})),la=br((function(t,e,i,n){yr(e,xa(e),t,n)})),ca=br((function(t,e,i,n){yr(e,ba(e),t,n)})),da=Yr(Vi);var pa=Bn((function(t,e){t=gt(t);var i=-1,n=e.length,r=n>2?e[2]:void 0;for(r&&as(e[0],e[1],r)&&(n=1);++i<n;)for(var s=e[i],o=xa(s),a=-1,h=o.length;++a<h;){var u=o[a],l=t[u];(void 0===l||Io(l,xt[u])&&!Tt.call(t,u))&&(t[u]=s[u])}return t})),fa=Bn((function(t){return t.push(void 0,zr),se(Sa,void 0,t)}));function ga(t,e,i){var n=null==t?void 0:cn(t,e);return void 0===n?i:n}function ma(t,e){return null!=t&&ns(t,e,mn)}var va=Ir((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Et.call(e)),t[e]=i}),Ha(Wa)),ya=Ir((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Et.call(e)),Tt.call(t,e)?t[e].push(i):t[e]=[i]}),Kr),_a=Bn(yn);function ba(t){return Lo(t)?Ni(t):Tn(t)}function xa(t){return Lo(t)?Ni(t,!0):kn(t)}var wa=br((function(t,e,i){Pn(t,e,i)})),Sa=br((function(t,e,i,n){Pn(t,e,i,n)})),Ta=Yr((function(t,e){var i={};if(null==t)return i;var n=!1;e=pe(e,(function(e){return e=ar(e,t),n||(n=e.length>1),e})),yr(t,Wr(t),i),n&&(i=$i(i,7,Xr));for(var r=e.length;r--;)Qn(i,e[r]);return i}));var ka=Yr((function(t,e){return null==t?{}:function(t,e){return Rn(t,e,(function(e,i){return ma(t,i)}))}(t,e)}));function Ca(t,e){if(null==t)return{};var i=pe(Wr(t),(function(t){return[t]}));return e=Kr(e),Rn(t,i,(function(t,i){return e(t,i[0])}))}var Ea=Br(ba),Oa=Br(xa);function Ia(t){return null==t?[]:Me(t,ba(t))}var Pa=Tr((function(t,e,i){return e=e.toLowerCase(),t+(i?Ma(e):e)}));function Ma(t){return Ua(aa(t).toLowerCase())}function Aa(t){return(t=aa(t))&&t.replace(ut,Fe).replace(Rt,"")}var Ra=Tr((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),Da=Tr((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),La=Sr("toLowerCase");var Fa=Tr((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));var Na=Tr((function(t,e,i){return t+(i?" ":"")+Ua(e)}));var Ba=Tr((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),Ua=Sr("toUpperCase");function ja(t,e,i){return t=aa(t),void 0===(e=i?void 0:e)?function(t){return Nt.test(t)}(t)?function(t){return t.match(Lt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var za=Bn((function(t,e){try{return se(t,void 0,e)}catch(t){return Uo(t)?t:new dt(t)}})),Xa=Yr((function(t,e){return ae(e,(function(e){e=ks(e),Wi(t,e,yo(t[e],t))})),t}));function Ha(t){return function(){return t}}var Ya=Er(),qa=Er(!0);function Wa(t){return t}function Va(t){return Sn("function"==typeof t?t:$i(t,1))}var Ga=Bn((function(t,e){return function(i){return yn(i,t,e)}})),$a=Bn((function(t,e){return function(i){return yn(t,i,e)}}));function Ka(t,e,i){var n=ba(e),r=ln(e,n);null!=i||Ho(e)&&(r.length||!n.length)||(i=e,e=t,t=this,r=ln(e,ba(e)));var s=!(Ho(i)&&"chain"in i&&!i.chain),o=jo(t);return ae(r,(function(i){var n=e[i];t[i]=n,o&&(t.prototype[i]=function(){var e=this.__chain__;if(s||e){var i=t(this.__wrapped__),r=i.__actions__=vr(this.__actions__);return r.push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,fe([this.value()],arguments))})})),t}function Za(){}var Ja=Mr(pe),Qa=Mr(ue),th=Mr(ve);function eh(t){return hs(t)?ke(ks(t)):function(t){return function(e){return cn(e,t)}}(t)}var ih=Rr(),nh=Rr(!0);function rh(){return[]}function sh(){return!1}var oh=Pr((function(t,e){return t+e}),0),ah=Fr("ceil"),hh=Pr((function(t,e){return t/e}),1),uh=Fr("floor");var lh,ch=Pr((function(t,e){return t*e}),1),dh=Fr("round"),ph=Pr((function(t,e){return t-e}),0);return Ei.after=function(t,e){if("function"!=typeof e)throw new yt(s);return t=na(t),function(){if(--t<1)return e.apply(this,arguments)}},Ei.ary=mo,Ei.assign=ha,Ei.assignIn=ua,Ei.assignInWith=la,Ei.assignWith=ca,Ei.at=da,Ei.before=vo,Ei.bind=yo,Ei.bindAll=Xa,Ei.bindKey=_o,Ei.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ro(t)?t:[t]},Ei.chain=to,Ei.chunk=function(t,e,i){e=(i?as(t,e,i):void 0===e)?1:si(na(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var s=0,o=0,a=n(Je(r/e));s<r;)a[o++]=qn(t,s,s+=e);return a},Ei.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,r=[];++e<i;){var s=t[e];s&&(r[n++]=s)}return r},Ei.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],r=t;r--;)e[r-1]=arguments[r];return fe(Ro(i)?vr(i):[i],sn(e,1))},Ei.cond=function(t){var e=null==t?0:t.length,i=Kr();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new yt(s);return[i(t[0]),t[1]]})):[],Bn((function(i){for(var n=-1;++n<e;){var r=t[n];if(se(r[0],this,i))return se(r[1],this,i)}}))},Ei.conforms=function(t){return function(t){var e=ba(t);return function(i){return Ki(i,t,e)}}($i(t,1))},Ei.constant=Ha,Ei.countBy=no,Ei.create=function(t,e){var i=Oi(t);return null==e?i:qi(i,e)},Ei.curry=function t(e,i,n){var r=Ur(e,8,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return r.placeholder=t.placeholder,r},Ei.curryRight=function t(e,i,n){var r=Ur(e,16,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return r.placeholder=t.placeholder,r},Ei.debounce=bo,Ei.defaults=pa,Ei.defaultsDeep=fa,Ei.defer=xo,Ei.delay=wo,Ei.difference=Os,Ei.differenceBy=Is,Ei.differenceWith=Ps,Ei.drop=function(t,e,i){var n=null==t?0:t.length;return n?qn(t,(e=i||void 0===e?1:na(e))<0?0:e,n):[]},Ei.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?qn(t,0,(e=n-(e=i||void 0===e?1:na(e)))<0?0:e):[]},Ei.dropRightWhile=function(t,e){return t&&t.length?er(t,Kr(e,3),!0,!0):[]},Ei.dropWhile=function(t,e){return t&&t.length?er(t,Kr(e,3),!0):[]},Ei.fill=function(t,e,i,n){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&as(t,e,i)&&(i=0,n=r),function(t,e,i,n){var r=t.length;for((i=na(i))<0&&(i=-i>r?0:r+i),(n=void 0===n||n>r?r:na(n))<0&&(n+=r),n=i>n?0:ra(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},Ei.filter=function(t,e){return(Ro(t)?le:rn)(t,Kr(e,3))},Ei.flatMap=function(t,e){return sn(co(t,e),1)},Ei.flatMapDeep=function(t,e){return sn(co(t,e),1/0)},Ei.flatMapDepth=function(t,e,i){return i=void 0===i?1:na(i),sn(co(t,e),i)},Ei.flatten=Rs,Ei.flattenDeep=function(t){return(null==t?0:t.length)?sn(t,1/0):[]},Ei.flattenDepth=function(t,e){return(null==t?0:t.length)?sn(t,e=void 0===e?1:na(e)):[]},Ei.flip=function(t){return Ur(t,512)},Ei.flow=Ya,Ei.flowRight=qa,Ei.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var r=t[e];n[r[0]]=r[1]}return n},Ei.functions=function(t){return null==t?[]:ln(t,ba(t))},Ei.functionsIn=function(t){return null==t?[]:ln(t,xa(t))},Ei.groupBy=ho,Ei.initial=function(t){return(null==t?0:t.length)?qn(t,0,-1):[]},Ei.intersection=Ls,Ei.intersectionBy=Fs,Ei.intersectionWith=Ns,Ei.invert=va,Ei.invertBy=ya,Ei.invokeMap=uo,Ei.iteratee=Va,Ei.keyBy=lo,Ei.keys=ba,Ei.keysIn=xa,Ei.map=co,Ei.mapKeys=function(t,e){var i={};return e=Kr(e,3),hn(t,(function(t,n,r){Wi(i,e(t,n,r),t)})),i},Ei.mapValues=function(t,e){var i={};return e=Kr(e,3),hn(t,(function(t,n,r){Wi(i,n,e(t,n,r))})),i},Ei.matches=function(t){return On($i(t,1))},Ei.matchesProperty=function(t,e){return In(t,$i(e,1))},Ei.memoize=So,Ei.merge=wa,Ei.mergeWith=Sa,Ei.method=Ga,Ei.methodOf=$a,Ei.mixin=Ka,Ei.negate=To,Ei.nthArg=function(t){return t=na(t),Bn((function(e){return Mn(e,t)}))},Ei.omit=Ta,Ei.omitBy=function(t,e){return Ca(t,To(Kr(e)))},Ei.once=function(t){return vo(2,t)},Ei.orderBy=function(t,e,i,n){return null==t?[]:(Ro(e)||(e=null==e?[]:[e]),Ro(i=n?void 0:i)||(i=null==i?[]:[i]),An(t,e,i))},Ei.over=Ja,Ei.overArgs=ko,Ei.overEvery=Qa,Ei.overSome=th,Ei.partial=Co,Ei.partialRight=Eo,Ei.partition=po,Ei.pick=ka,Ei.pickBy=Ca,Ei.property=eh,Ei.propertyOf=function(t){return function(e){return null==t?void 0:cn(t,e)}},Ei.pull=Us,Ei.pullAll=js,Ei.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Dn(t,e,Kr(i,2)):t},Ei.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Dn(t,e,void 0,i):t},Ei.pullAt=zs,Ei.range=ih,Ei.rangeRight=nh,Ei.rearg=Oo,Ei.reject=function(t,e){return(Ro(t)?le:rn)(t,To(Kr(e,3)))},Ei.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,r=[],s=t.length;for(e=Kr(e,3);++n<s;){var o=t[n];e(o,n,t)&&(i.push(o),r.push(n))}return Ln(t,r),i},Ei.rest=function(t,e){if("function"!=typeof t)throw new yt(s);return Bn(t,e=void 0===e?e:na(e))},Ei.reverse=Xs,Ei.sampleSize=function(t,e,i){return e=(i?as(t,e,i):void 0===e)?1:na(e),(Ro(t)?Ui:jn)(t,e)},Ei.set=function(t,e,i){return null==t?t:zn(t,e,i)},Ei.setWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:zn(t,e,i,n)},Ei.shuffle=function(t){return(Ro(t)?ji:Yn)(t)},Ei.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&as(t,e,i)?(e=0,i=n):(e=null==e?0:na(e),i=void 0===i?n:na(i)),qn(t,e,i)):[]},Ei.sortBy=fo,Ei.sortedUniq=function(t){return t&&t.length?$n(t):[]},Ei.sortedUniqBy=function(t,e){return t&&t.length?$n(t,Kr(e,2)):[]},Ei.split=function(t,e,i){return i&&"number"!=typeof i&&as(t,e,i)&&(e=i=void 0),(i=void 0===i?4294967295:i>>>0)?(t=aa(t))&&("string"==typeof e||null!=e&&!Go(e))&&!(e=Zn(e))&&Ue(t)?ur(We(t),0,i):t.split(e,i):[]},Ei.spread=function(t,e){if("function"!=typeof t)throw new yt(s);return e=null==e?0:si(na(e),0),Bn((function(i){var n=i[e],r=ur(i,0,e);return n&&fe(r,n),se(t,this,r)}))},Ei.tail=function(t){var e=null==t?0:t.length;return e?qn(t,1,e):[]},Ei.take=function(t,e,i){return t&&t.length?qn(t,0,(e=i||void 0===e?1:na(e))<0?0:e):[]},Ei.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?qn(t,(e=n-(e=i||void 0===e?1:na(e)))<0?0:e,n):[]},Ei.takeRightWhile=function(t,e){return t&&t.length?er(t,Kr(e,3),!1,!0):[]},Ei.takeWhile=function(t,e){return t&&t.length?er(t,Kr(e,3)):[]},Ei.tap=function(t,e){return e(t),t},Ei.throttle=function(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw new yt(s);return Ho(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),bo(t,e,{leading:n,maxWait:e,trailing:r})},Ei.thru=eo,Ei.toArray=ea,Ei.toPairs=Ea,Ei.toPairsIn=Oa,Ei.toPath=function(t){return Ro(t)?pe(t,ks):Zo(t)?[t]:vr(Ts(aa(t)))},Ei.toPlainObject=oa,Ei.transform=function(t,e,i){var n=Ro(t),r=n||No(t)||Jo(t);if(e=Kr(e,4),null==i){var s=t&&t.constructor;i=r?n?new s:[]:Ho(t)&&jo(s)?Oi(qt(t)):{}}return(r?ae:hn)(t,(function(t,n,r){return e(i,t,n,r)})),i},Ei.unary=function(t){return mo(t,1)},Ei.union=Hs,Ei.unionBy=Ys,Ei.unionWith=qs,Ei.uniq=function(t){return t&&t.length?Jn(t):[]},Ei.uniqBy=function(t,e){return t&&t.length?Jn(t,Kr(e,2)):[]},Ei.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jn(t,void 0,e):[]},Ei.unset=function(t,e){return null==t||Qn(t,e)},Ei.unzip=Ws,Ei.unzipWith=Vs,Ei.update=function(t,e,i){return null==t?t:tr(t,e,or(i))},Ei.updateWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:tr(t,e,or(i),n)},Ei.values=Ia,Ei.valuesIn=function(t){return null==t?[]:Me(t,xa(t))},Ei.without=Gs,Ei.words=ja,Ei.wrap=function(t,e){return Co(or(e),t)},Ei.xor=$s,Ei.xorBy=Ks,Ei.xorWith=Zs,Ei.zip=Js,Ei.zipObject=function(t,e){return rr(t||[],e||[],Xi)},Ei.zipObjectDeep=function(t,e){return rr(t||[],e||[],zn)},Ei.zipWith=Qs,Ei.entries=Ea,Ei.entriesIn=Oa,Ei.extend=ua,Ei.extendWith=la,Ka(Ei,Ei),Ei.add=oh,Ei.attempt=za,Ei.camelCase=Pa,Ei.capitalize=Ma,Ei.ceil=ah,Ei.clamp=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=sa(i))==i?i:0),void 0!==e&&(e=(e=sa(e))==e?e:0),Gi(sa(t),e,i)},Ei.clone=function(t){return $i(t,4)},Ei.cloneDeep=function(t){return $i(t,5)},Ei.cloneDeepWith=function(t,e){return $i(t,5,e="function"==typeof e?e:void 0)},Ei.cloneWith=function(t,e){return $i(t,4,e="function"==typeof e?e:void 0)},Ei.conformsTo=function(t,e){return null==e||Ki(t,e,ba(e))},Ei.deburr=Aa,Ei.defaultTo=function(t,e){return null==t||t!=t?e:t},Ei.divide=hh,Ei.endsWith=function(t,e,i){t=aa(t),e=Zn(e);var n=t.length,r=i=void 0===i?n:Gi(na(i),0,n);return(i-=e.length)>=0&&t.slice(i,r)==e},Ei.eq=Io,Ei.escape=function(t){return(t=aa(t))&&U.test(t)?t.replace(N,Ne):t},Ei.escapeRegExp=function(t){return(t=aa(t))&&V.test(t)?t.replace(W,"\\$&"):t},Ei.every=function(t,e,i){var n=Ro(t)?ue:en;return i&&as(t,e,i)&&(e=void 0),n(t,Kr(e,3))},Ei.find=ro,Ei.findIndex=Ms,Ei.findKey=function(t,e){return _e(t,Kr(e,3),hn)},Ei.findLast=so,Ei.findLastIndex=As,Ei.findLastKey=function(t,e){return _e(t,Kr(e,3),un)},Ei.floor=uh,Ei.forEach=oo,Ei.forEachRight=ao,Ei.forIn=function(t,e){return null==t?t:on(t,Kr(e,3),xa)},Ei.forInRight=function(t,e){return null==t?t:an(t,Kr(e,3),xa)},Ei.forOwn=function(t,e){return t&&hn(t,Kr(e,3))},Ei.forOwnRight=function(t,e){return t&&un(t,Kr(e,3))},Ei.get=ga,Ei.gt=Po,Ei.gte=Mo,Ei.has=function(t,e){return null!=t&&ns(t,e,gn)},Ei.hasIn=ma,Ei.head=Ds,Ei.identity=Wa,Ei.includes=function(t,e,i,n){t=Lo(t)?t:Ia(t),i=i&&!n?na(i):0;var r=t.length;return i<0&&(i=si(r+i,0)),Ko(t)?i<=r&&t.indexOf(e,i)>-1:!!r&&xe(t,e,i)>-1},Ei.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:na(i);return r<0&&(r=si(n+r,0)),xe(t,e,r)},Ei.inRange=function(t,e,i){return e=ia(e),void 0===i?(i=e,e=0):i=ia(i),function(t,e,i){return t>=oi(e,i)&&t<si(e,i)}(t=sa(t),e,i)},Ei.invoke=_a,Ei.isArguments=Ao,Ei.isArray=Ro,Ei.isArrayBuffer=Do,Ei.isArrayLike=Lo,Ei.isArrayLikeObject=Fo,Ei.isBoolean=function(t){return!0===t||!1===t||Yo(t)&&pn(t)==l},Ei.isBuffer=No,Ei.isDate=Bo,Ei.isElement=function(t){return Yo(t)&&1===t.nodeType&&!Vo(t)},Ei.isEmpty=function(t){if(null==t)return!0;if(Lo(t)&&(Ro(t)||"string"==typeof t||"function"==typeof t.splice||No(t)||Jo(t)||Ao(t)))return!t.length;var e=is(t);if(e==g||e==_)return!t.size;if(cs(t))return!Tn(t).length;for(var i in t)if(Tt.call(t,i))return!1;return!0},Ei.isEqual=function(t,e){return bn(t,e)},Ei.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:void 0)?i(t,e):void 0;return void 0===n?bn(t,e,void 0,i):!!n},Ei.isError=Uo,Ei.isFinite=function(t){return"number"==typeof t&&ii(t)},Ei.isFunction=jo,Ei.isInteger=zo,Ei.isLength=Xo,Ei.isMap=qo,Ei.isMatch=function(t,e){return t===e||xn(t,e,Jr(e))},Ei.isMatchWith=function(t,e,i){return i="function"==typeof i?i:void 0,xn(t,e,Jr(e),i)},Ei.isNaN=function(t){return Wo(t)&&t!=+t},Ei.isNative=function(t){if(ls(t))throw new dt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wn(t)},Ei.isNil=function(t){return null==t},Ei.isNull=function(t){return null===t},Ei.isNumber=Wo,Ei.isObject=Ho,Ei.isObjectLike=Yo,Ei.isPlainObject=Vo,Ei.isRegExp=Go,Ei.isSafeInteger=function(t){return zo(t)&&t>=-9007199254740991&&t<=9007199254740991},Ei.isSet=$o,Ei.isString=Ko,Ei.isSymbol=Zo,Ei.isTypedArray=Jo,Ei.isUndefined=function(t){return void 0===t},Ei.isWeakMap=function(t){return Yo(t)&&is(t)==w},Ei.isWeakSet=function(t){return Yo(t)&&"[object WeakSet]"==pn(t)},Ei.join=function(t,e){return null==t?"":ni.call(t,e)},Ei.kebabCase=Ra,Ei.last=Bs,Ei.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n;return void 0!==i&&(r=(r=na(i))<0?si(n+r,0):oi(r,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,r):be(t,Se,r,!0)},Ei.lowerCase=Da,Ei.lowerFirst=La,Ei.lt=Qo,Ei.lte=ta,Ei.max=function(t){return t&&t.length?nn(t,Wa,fn):void 0},Ei.maxBy=function(t,e){return t&&t.length?nn(t,Kr(e,2),fn):void 0},Ei.mean=function(t){return Te(t,Wa)},Ei.meanBy=function(t,e){return Te(t,Kr(e,2))},Ei.min=function(t){return t&&t.length?nn(t,Wa,Cn):void 0},Ei.minBy=function(t,e){return t&&t.length?nn(t,Kr(e,2),Cn):void 0},Ei.stubArray=rh,Ei.stubFalse=sh,Ei.stubObject=function(){return{}},Ei.stubString=function(){return""},Ei.stubTrue=function(){return!0},Ei.multiply=ch,Ei.nth=function(t,e){return t&&t.length?Mn(t,na(e)):void 0},Ei.noConflict=function(){return Vt._===this&&(Vt._=It),this},Ei.noop=Za,Ei.now=go,Ei.pad=function(t,e,i){t=aa(t);var n=(e=na(e))?qe(t):0;if(!e||n>=e)return t;var r=(e-n)/2;return Ar(Qe(r),i)+t+Ar(Je(r),i)},Ei.padEnd=function(t,e,i){t=aa(t);var n=(e=na(e))?qe(t):0;return e&&n<e?t+Ar(e-n,i):t},Ei.padStart=function(t,e,i){t=aa(t);var n=(e=na(e))?qe(t):0;return e&&n<e?Ar(e-n,i)+t:t},Ei.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),hi(aa(t).replace($,""),e||0)},Ei.random=function(t,e,i){if(i&&"boolean"!=typeof i&&as(t,e,i)&&(e=i=void 0),void 0===i&&("boolean"==typeof e?(i=e,e=void 0):"boolean"==typeof t&&(i=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ia(t),void 0===e?(e=t,t=0):e=ia(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var r=ui();return oi(t+r*(e-t+Ht("1e-"+((r+"").length-1))),e)}return Fn(t,e)},Ei.reduce=function(t,e,i){var n=Ro(t)?ge:Ee,r=arguments.length<3;return n(t,Kr(e,4),i,r,Qi)},Ei.reduceRight=function(t,e,i){var n=Ro(t)?me:Ee,r=arguments.length<3;return n(t,Kr(e,4),i,r,tn)},Ei.repeat=function(t,e,i){return e=(i?as(t,e,i):void 0===e)?1:na(e),Nn(aa(t),e)},Ei.replace=function(){var t=arguments,e=aa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ei.result=function(t,e,i){var n=-1,r=(e=ar(e,t)).length;for(r||(r=1,t=void 0);++n<r;){var s=null==t?void 0:t[ks(e[n])];void 0===s&&(n=r,s=i),t=jo(s)?s.call(t):s}return t},Ei.round=dh,Ei.runInContext=t,Ei.sample=function(t){return(Ro(t)?Bi:Un)(t)},Ei.size=function(t){if(null==t)return 0;if(Lo(t))return Ko(t)?qe(t):t.length;var e=is(t);return e==g||e==_?t.size:Tn(t).length},Ei.snakeCase=Fa,Ei.some=function(t,e,i){var n=Ro(t)?ve:Wn;return i&&as(t,e,i)&&(e=void 0),n(t,Kr(e,3))},Ei.sortedIndex=function(t,e){return Vn(t,e)},Ei.sortedIndexBy=function(t,e,i){return Gn(t,e,Kr(i,2))},Ei.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=Vn(t,e);if(n<i&&Io(t[n],e))return n}return-1},Ei.sortedLastIndex=function(t,e){return Vn(t,e,!0)},Ei.sortedLastIndexBy=function(t,e,i){return Gn(t,e,Kr(i,2),!0)},Ei.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var i=Vn(t,e,!0)-1;if(Io(t[i],e))return i}return-1},Ei.startCase=Na,Ei.startsWith=function(t,e,i){return t=aa(t),i=null==i?0:Gi(na(i),0,t.length),e=Zn(e),t.slice(i,i+e.length)==e},Ei.subtract=ph,Ei.sum=function(t){return t&&t.length?Oe(t,Wa):0},Ei.sumBy=function(t,e){return t&&t.length?Oe(t,Kr(e,2)):0},Ei.template=function(t,e,i){var n=Ei.templateSettings;i&&as(t,e,i)&&(e=void 0),t=aa(t),e=la({},e,n,jr);var r,s,o=la({},e.imports,n.imports,jr),a=ba(o),h=Me(o,a),u=0,l=e.interpolate||lt,c="__p += '",d=mt((e.escape||lt).source+"|"+l.source+"|"+(l===X?it:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),p="//# sourceURL="+(Tt.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ut+"]")+"\n";t.replace(d,(function(e,i,n,o,a,h){return n||(n=o),c+=t.slice(u,h).replace(ct,Be),i&&(r=!0,c+="' +\n__e("+i+") +\n'"),a&&(s=!0,c+="';\n"+a+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=h+e.length,e})),c+="';\n";var f=Tt.call(e,"variable")&&e.variable;f||(c="with (obj) {\n"+c+"\n}\n"),c=(s?c.replace(R,""):c).replace(D,"$1").replace(L,"$1;"),c="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var g=za((function(){return pt(a,p+"return "+c).apply(void 0,h)}));if(g.source=c,Uo(g))throw g;return g},Ei.times=function(t,e){if((t=na(t))<1||t>9007199254740991)return[];var i=4294967295,n=oi(t,4294967295);t-=4294967295;for(var r=Ie(n,e=Kr(e));++i<t;)e(i);return r},Ei.toFinite=ia,Ei.toInteger=na,Ei.toLength=ra,Ei.toLower=function(t){return aa(t).toLowerCase()},Ei.toNumber=sa,Ei.toSafeInteger=function(t){return t?Gi(na(t),-9007199254740991,9007199254740991):0===t?t:0},Ei.toString=aa,Ei.toUpper=function(t){return aa(t).toUpperCase()},Ei.trim=function(t,e,i){if((t=aa(t))&&(i||void 0===e))return t.replace(G,"");if(!t||!(e=Zn(e)))return t;var n=We(t),r=We(e);return ur(n,Re(n,r),De(n,r)+1).join("")},Ei.trimEnd=function(t,e,i){if((t=aa(t))&&(i||void 0===e))return t.replace(K,"");if(!t||!(e=Zn(e)))return t;var n=We(t);return ur(n,0,De(n,We(e))+1).join("")},Ei.trimStart=function(t,e,i){if((t=aa(t))&&(i||void 0===e))return t.replace($,"");if(!t||!(e=Zn(e)))return t;var n=We(t);return ur(n,Re(n,We(e))).join("")},Ei.truncate=function(t,e){var i=30,n="...";if(Ho(e)){var r="separator"in e?e.separator:r;i="length"in e?na(e.length):i,n="omission"in e?Zn(e.omission):n}var s=(t=aa(t)).length;if(Ue(t)){var o=We(t);s=o.length}if(i>=s)return t;var a=i-qe(n);if(a<1)return n;var h=o?ur(o,0,a).join(""):t.slice(0,a);if(void 0===r)return h+n;if(o&&(a+=h.length-a),Go(r)){if(t.slice(a).search(r)){var u,l=h;for(r.global||(r=mt(r.source,aa(nt.exec(r))+"g")),r.lastIndex=0;u=r.exec(l);)var c=u.index;h=h.slice(0,void 0===c?a:c)}}else if(t.indexOf(Zn(r),a)!=a){var d=h.lastIndexOf(r);d>-1&&(h=h.slice(0,d))}return h+n},Ei.unescape=function(t){return(t=aa(t))&&B.test(t)?t.replace(F,Ve):t},Ei.uniqueId=function(t){var e=++kt;return aa(t)+e},Ei.upperCase=Ba,Ei.upperFirst=Ua,Ei.each=oo,Ei.eachRight=ao,Ei.first=Ds,Ka(Ei,(lh={},hn(Ei,(function(t,e){Tt.call(Ei.prototype,e)||(lh[e]=t)})),lh),{chain:!1}),Ei.VERSION="4.17.15",ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ei[t].placeholder=Ei})),ae(["drop","take"],(function(t,e){Mi.prototype[t]=function(i){i=void 0===i?1:si(na(i),0);var n=this.__filtered__&&!e?new Mi(this):this.clone();return n.__filtered__?n.__takeCount__=oi(i,n.__takeCount__):n.__views__.push({size:oi(i,4294967295),type:t+(n.__dir__<0?"Right":"")}),n},Mi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ae(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;Mi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Kr(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),ae(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Mi.prototype[t]=function(){return this[i](1).value()[0]}})),ae(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Mi.prototype[t]=function(){return this.__filtered__?new Mi(this):this[i](1)}})),Mi.prototype.compact=function(){return this.filter(Wa)},Mi.prototype.find=function(t){return this.filter(t).head()},Mi.prototype.findLast=function(t){return this.reverse().find(t)},Mi.prototype.invokeMap=Bn((function(t,e){return"function"==typeof t?new Mi(this):this.map((function(i){return yn(i,t,e)}))})),Mi.prototype.reject=function(t){return this.filter(To(Kr(t)))},Mi.prototype.slice=function(t,e){t=na(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Mi(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),void 0!==e&&(i=(e=na(e))<0?i.dropRight(-e):i.take(e-t)),i)},Mi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mi.prototype.toArray=function(){return this.take(4294967295)},hn(Mi.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),r=Ei[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);r&&(Ei.prototype[e]=function(){var e=this.__wrapped__,o=n?[1]:arguments,a=e instanceof Mi,h=o[0],u=a||Ro(e),l=function(t){var e=r.apply(Ei,fe([t],o));return n&&c?e[0]:e};u&&i&&"function"==typeof h&&1!=h.length&&(a=u=!1);var c=this.__chain__,d=!!this.__actions__.length,p=s&&!c,f=a&&!d;if(!s&&u){e=f?e:new Mi(this);var g=t.apply(e,o);return g.__actions__.push({func:eo,args:[l],thisArg:void 0}),new Pi(g,c)}return p&&f?t.apply(this,o):(g=this.thru(l),p?n?g.value()[0]:g.value():g)})})),ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=_t[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Ei.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var r=this.value();return e.apply(Ro(r)?r:[],t)}return this[i]((function(i){return e.apply(Ro(i)?i:[],t)}))}})),hn(Mi.prototype,(function(t,e){var i=Ei[e];if(i){var n=i.name+"";Tt.call(yi,n)||(yi[n]=[]),yi[n].push({name:e,func:i})}})),yi[Or(void 0,2).name]=[{name:"wrapper",func:void 0}],Mi.prototype.clone=function(){var t=new Mi(this.__wrapped__);return t.__actions__=vr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=vr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=vr(this.__views__),t},Mi.prototype.reverse=function(){if(this.__filtered__){var t=new Mi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Mi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Ro(t),n=e<0,r=i?t.length:0,s=function(t,e,i){var n=-1,r=i.length;for(;++n<r;){var s=i[n],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=oi(e,t+o);break;case"takeRight":t=si(t,e-o)}}return{start:t,end:e}}(0,r,this.__views__),o=s.start,a=s.end,h=a-o,u=n?a:o-1,l=this.__iteratees__,c=l.length,d=0,p=oi(h,this.__takeCount__);if(!i||!n&&r==h&&p==h)return ir(t,this.__actions__);var f=[];t:for(;h--&&d<p;){for(var g=-1,m=t[u+=e];++g<c;){var v=l[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}f[d++]=m}return f},Ei.prototype.at=io,Ei.prototype.chain=function(){return to(this)},Ei.prototype.commit=function(){return new Pi(this.value(),this.__chain__)},Ei.prototype.next=function(){void 0===this.__values__&&(this.__values__=ea(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Ei.prototype.plant=function(t){for(var e,i=this;i instanceof Ii;){var n=Es(i);n.__index__=0,n.__values__=void 0,e?r.__wrapped__=n:e=n;var r=n;i=i.__wrapped__}return r.__wrapped__=t,e},Ei.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Mi){var e=t;return this.__actions__.length&&(e=new Mi(this)),(e=e.reverse()).__actions__.push({func:eo,args:[Xs],thisArg:void 0}),new Pi(e,this.__chain__)}return this.thru(Xs)},Ei.prototype.toJSON=Ei.prototype.valueOf=Ei.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},Ei.prototype.first=Ei.prototype.head,Jt&&(Ei.prototype[Jt]=function(){return this}),Ei}();Vt._=Ge,void 0===(r=function(){return Ge}.call(e,i,e,n))||(n.exports=r)}).call(this)}).call(this,i("yLpj"),i("YuTi")(t))},M5Ut:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".is-amount-counter[data-v-ab4d6cca] {\n  position: absolute;\n  bottom: 2.5vmin;\n  right: 0;\n  border: 3px #000000 solid;\n  font-weight: bold;\n  padding-left: 0.35rem;\n  padding-right: 0.35rem;\n  z-index: 999999;\n}",""])},MLWZ:function(t,e,i){"use strict";var n=i("xTJ+");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var s;if(i)s=i(e);else if(n.isURLSearchParams(e))s=e.toString();else{var o=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))})))})),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},MgzW:function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,h=o(t),u=1;u<arguments.length;u++){for(var l in i=Object(arguments[u]))r.call(i,l)&&(h[l]=i[l]);if(n){a=n(i);for(var c=0;c<a.length;c++)s.call(i,a[c])&&(h[a[c]]=i[a[c]])}}return h}},"N+Qx":function(t,e,i){"use strict";var n=i("ix2h");i.n(n).a},NDuM:function(t,e,i){"use strict";var n=i("2bxg");i.n(n).a},NI0k:function(t,e,i){"use strict";var n=i("V8Hn");i.n(n).a},NbMR:function(t,e,i){var n=i("JFU0");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},Nehr:function(t,e,i){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},ODld:function(t,e,i){"use strict";var n=i("kAQ+");i.n(n).a},OH9c:function(t,e,i){"use strict";t.exports=function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},OQdp:function(t,e,i){(function(n,r){var s;!function(n){var o=n.Promise,a=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var t;return new o((function(e){t=e})),"function"==typeof t}();e?(e.Promise=a?o:S,e.Polyfill=S):void 0===(s=function(){return a?o:S}.call(e,i,e,t))||(t.exports=s);var h=function(){};function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,c=void 0!==r?r:setTimeout,d=[];function p(){for(var t=0;t<d.length;t++)d[t][0](d[t][1]);d=[],l=!1}function f(t,e){d.push([t,e]),l||(l=!0,c(p,0))}function g(t){var e=t.owner,i=e.state_,n=e.data_,r=t[i],s=t.then;if("function"==typeof r){i="fulfilled";try{n=r(n)}catch(t){_(s,t)}}m(s,n)||("fulfilled"===i&&v(s,n),"rejected"===i&&_(s,n))}function m(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var n=e.then;if("function"==typeof n)return n.call(e,(function(n){i||(i=!0,e!==n?v(t,n):y(t,n))}),(function(e){i||(i=!0,_(t,e))})),!0}}catch(e){return i||_(t,e),!0}return!1}function v(t,e){t!==e&&m(t,e)||y(t,e)}function y(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,f(x,t))}function _(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,f(w,t))}function b(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)g(e[i])}function x(t){t.state_="fulfilled",b(t)}function w(t){t.state_="rejected",b(t)}function S(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof S==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){_(e,t)}try{t((function(t){v(e,t)}),i)}catch(t){i(t)}}(t,this)}S.prototype={constructor:S,state_:"pending",then_:null,data_:void 0,then:function(t,e){var i={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return"fulfilled"===this.state_||"rejected"===this.state_?f(g,i):this.then_.push(i),i.then},catch:function(t){return this.then(null,t)}},S.all=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,i){var n=[],r=0;function s(t){return r++,function(i){n[t]=i,--r||e(n)}}for(var o,a=0;a<t.length;a++)(o=t[a])&&"function"==typeof o.then?o.then(s(a),i):n[a]=o;r||e(n)}))},S.race=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,i){for(var n,r=0;r<t.length;r++)(n=t[r])&&"function"==typeof n.then?n.then(e,i):e(n)}))},S.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},S.reject=function(t){return new this((function(e,i){i(t)}))}}("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this)}).call(this,i("yLpj"),i("URgk").setImmediate)},OTTw:function(t,e,i){"use strict";var n=i("xTJ+");t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(t){var n=t;return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=r(window.location.href),function(e){var i=n.isString(e)?r(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},QJtt:function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return d}));var n=i("wp0G"),r=i("0/xZ"),s=i("qoEl"),o=i("fqrp"),a=i("SrKC"),h=new r.g,u=function(t){function e(e,i,s){void 0===i&&(i=100),void 0===s&&(s=100),t.call(this,e),this.tileTransform=new r.m,this._width=i,this._height=s,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new n.F(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return i.clampMargin.get=function(){return this.uvMatrix.clampMargin},i.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},i.tileScale.get=function(){return this.tileTransform.scale},i.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},i.tilePosition.get=function(){return this.tileTransform.position},i.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new r.j),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e=this._width,i=this._height,n=-e*this.anchor._x;if(h.x>=n&&h.x<n+e){var r=-i*this.anchor._y;if(h.y>=r&&h.y<r+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,i,r){return new e(n.E.from(t),i,r)},e.fromFrame=function(t,i,n){var r=s.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(r,i,n)},e.fromImage=function(t,i,r,s){return s&&"object"!=typeof s&&(s={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(n.E.from(t,s),i,r)},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,i),e}(o.a),l="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",c=new r.d,d=function(t){function e(e){t.call(this,e);var i={globals:this.renderer.globalUniforms};this.shader=n.A.from(l,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",i),this.simpleShader=n.A.from(l,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",i),this.quad=new n.w,this.state=n.C.for2d()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,i=this.quad,n=i.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=i.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),i.invalidate();var r=t._texture,o=r.baseTexture,h=t.tileTransform.localTransform,u=t.uvMatrix,l=o.isPowerOfTwo&&r.frame.width===o.width&&r.frame.height===o.height;l&&(o._glTextures[e.CONTEXT_UID]?l=o.wrapMode!==a.n.CLAMP:o.wrapMode===a.n.CLAMP&&(o.wrapMode=a.n.REPEAT));var d=l?this.simpleShader:this.shader,p=r.width,f=r.height,g=t._width,m=t._height;c.set(h.a*p/g,h.b*p/m,h.c*f/g,h.d*f/m,h.tx/g,h.ty/m),c.invert(),l?c.prepend(u.mapCoord):(d.uniforms.uMapCoord=u.mapCoord.toArray(!0),d.uniforms.uClampFrame=u.uClampFrame,d.uniforms.uClampOffset=u.uClampOffset),d.uniforms.uTransform=c.toArray(!0),d.uniforms.uColor=Object(s.premultiplyTintToRgba)(t.tint,t.worldAlpha,d.uniforms.uColor,o.alphaMode),d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=r,e.shader.bind(d),e.geometry.bind(i),this.state.blendMode=Object(s.correctBlendMode)(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(n.t)},QY6m:function(t,e,i){var n=i("yhKO");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},QgWe:function(t,e,i){"use strict";var n=i("rPFv");i.n(n).a},RRhp:function(t,e,i){"use strict";i.r(e),i.d(e,"AccessibilityManager",(function(){return o})),i.d(e,"accessibleTarget",(function(){return s}));var n=i("qoEl"),r=i("msCR"),s={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0};r.c.mixin(s);var o=function(t){this._hookDiv=null,(n.isMobile.tablet||n.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};o.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",(function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},o.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},o.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},o.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},o.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},o.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var o=this.children[s];if(o.renderId!==this.renderId)o._accessibleActive=!1,Object(n.removeItems)(this.children,s,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,s--,0===this.children.length&&this.deactivate();else{r=o._accessibleDiv;var a=o.hitArea,h=o.worldTransform;o.hitArea?(r.style.left=(h.tx+a.x*h.a)*e+"px",r.style.top=(h.ty+a.y*h.d)*i+"px",r.style.width=a.width*h.a*e+"px",r.style.height=a.height*h.d*i+"px"):(a=o.getBounds(),this.capHitArea(a),r.style.left=a.x*e+"px",r.style.top=a.y*i+"px",r.style.width=a.width*e+"px",r.style.height=a.height*i+"px",r.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(r.title=o.accessibleTitle),r.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&r.setAttribute("aria-label",o.accessibleHint)),o.accessibleTitle===r.title&&o.tabIndex===r.tabIndex||(r.title=o.accessibleTitle,r.tabIndex=o.tabIndex,this.debug&&this.updateDebugHTML(r))}}this.renderId++}},o.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},o.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},o.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},o.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},o.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},o.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},o.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},o.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},o.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}},"Rn+g":function(t,e,i){"use strict";var n=i("LYNF");t.exports=function(t,e,i){var r=i.config.validateStatus;!r||r(i.status)?t(i):e(n("Request failed with status code "+i.status,i.config,null,i.request,i))}},S05e:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,"#action-modal[data-v-77e361b6] {\n  position: absolute;\n  bottom: 33vmin;\n  width: 100vmin;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.action-container[data-v-77e361b6] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 1rem;\n}\n.action-list-move[data-v-77e361b6] {\n  transition: transform 0.3s;\n}\n.is-action-option[data-v-77e361b6] {\n  -webkit-filter: grayscale(100%);\n          filter: grayscale(100%);\n}\n.action-option-selected[data-v-77e361b6] {\n  -webkit-animation: enlarge-data-v-77e361b6 0.3s;\n          animation: enlarge-data-v-77e361b6 0.3s;\n  z-index: 10;\n  -webkit-filter: grayscale(0%);\n          filter: grayscale(0%);\n  transform: scale(1.3);\n}\n@-webkit-keyframes enlarge-data-v-77e361b6 {\nfrom {\n    transform: scale(1);\n}\nto {\n    transform: scale(1.3);\n}\n}\n@keyframes enlarge-data-v-77e361b6 {\nfrom {\n    transform: scale(1);\n}\nto {\n    transform: scale(1.3);\n}\n}",""])},SntB:function(t,e,i){"use strict";var n=i("xTJ+");t.exports=function(t,e){e=e||{};var i={},r=["url","method","params","data"],s=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(r,(function(t){void 0!==e[t]&&(i[t]=e[t])})),n.forEach(s,(function(r){n.isObject(e[r])?i[r]=n.deepMerge(t[r],e[r]):void 0!==e[r]?i[r]=e[r]:n.isObject(t[r])?i[r]=n.deepMerge(t[r]):void 0!==t[r]&&(i[r]=t[r])})),n.forEach(o,(function(n){void 0!==e[n]?i[n]=e[n]:void 0!==t[n]&&(i[n]=t[n])}));var a=r.concat(s).concat(o),h=Object.keys(e).filter((function(t){return-1===a.indexOf(t)}));return n.forEach(h,(function(n){void 0!==e[n]?i[n]=e[n]:void 0!==t[n]&&(i[n]=t[n])})),i}},SrKC:function(t,e,i){"use strict";var n,r,s,o,a,h,u,l,c,d,p,f,g,m;i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return n})),i.d(e,"e",(function(){return a})),i.d(e,"f",(function(){return f})),i.d(e,"g",(function(){return m})),i.d(e,"h",(function(){return d})),i.d(e,"i",(function(){return g})),i.d(e,"j",(function(){return r})),i.d(e,"k",(function(){return l})),i.d(e,"l",(function(){return h})),i.d(e,"m",(function(){return u})),i.d(e,"n",(function(){return c})),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(n||(n={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(r||(r={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(s||(s={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(o||(o={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(a||(a={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(h||(h={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(u||(u={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(l||(l={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(c||(c={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(d||(d={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(p||(p={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(f||(f={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(g||(g={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(m||(m={}))},T016:function(t,e,i){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},TEUs:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".progress.is-timer[data-v-32b2dd72] {\n  height: 0.75vmin;\n}\n.negative-modifiers-container[data-v-32b2dd72] {\n  top: 0;\n  right: 0;\n  position: absolute;\n  width: 15vmin;\n  line-height: 0;\n}\n.has-modifiers[data-v-32b2dd72] {\n  display: block;\n  position: absolute;\n  top: 0.75vmin;\n}\n.fade-enter-active[data-v-32b2dd72] {\n  -webkit-animation: fade-in-data-v-32b2dd72 0.75s;\n          animation: fade-in-data-v-32b2dd72 0.75s;\n}\n.fade-leave-to[data-v-32b2dd72] {\n  -webkit-animation: fade-out-data-v-32b2dd72 0.75s;\n          animation: fade-out-data-v-32b2dd72 0.75s;\n}\n.is-modifier-stat[data-v-32b2dd72] {\n  padding: 0 !important;\n  margin: 0 !important;\n  position: relative;\n  display: inline-flex;\n  width: 50%;\n}\n.is-modifier-img[data-v-32b2dd72] {\n  width: 100%;\n  position: relative;\n}\n.is-modifier-text[data-v-32b2dd72] {\n  position: absolute;\n  top: 1vmin;\n  right: 0.5rem;\n  color: #FFFFFF;\n  font-weight: bold;\n  font-size: 1.75vmin;\n  mix-blend-mode: difference;\n  line-height: 1;\n}\n.is-health[data-v-32b2dd72], .is-stress[data-v-32b2dd72] {\n  right: calc(50% - 2.5vmin);\n}\n.is-health.is-smaller[data-v-32b2dd72], .is-stress.is-smaller[data-v-32b2dd72] {\n  font-size: 1.5vmin;\n  top: 1vmin;\n  right: 0.25rem;\n}\n.is-health[data-v-32b2dd72]:after {\n  color: #FBEE00;\n  content: attr(data-content);\n}\n.is-stress[data-v-32b2dd72]:after {\n  color: #5dfa00;\n  content: attr(data-content);\n}\n.is-modifier-progress[data-v-32b2dd72] {\n  position: absolute;\n  height: 3.5vmin;\n  margin-left: 25%;\n  width: 75%;\n  background-color: #000000;\n}\n@-webkit-keyframes fade-in-data-v-32b2dd72 {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n@keyframes fade-in-data-v-32b2dd72 {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n@-webkit-keyframes fade-out-data-v-32b2dd72 {\nfrom {\n    opacity: 1;\n}\nto {\n    display: none;\n    opacity: 0;\n}\n}\n@keyframes fade-out-data-v-32b2dd72 {\nfrom {\n    opacity: 1;\n}\nto {\n    display: none;\n    opacity: 0;\n}\n}",""])},TcbD:function(t,e,i){var n=i("fm59");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},URRL:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("wp0G"),r=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,n.L,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),n=Math.sin(t),r=1/3,s=(0,Math.sqrt)(r),o=[i+(1-i)*r,r*(1-i)-s*n,r*(1-i)+s*n,0,0,r*(1-i)+s*n,i+r*(1-i),r*(1-i)-s*n,0,0,r*(1-i)-s*n,r*(1-i)+s*n,i+r*(1-i),0,0,0,0,0,1,0];this._loadMatrix(o,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,n=-.5*(i-1),r=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,n=-.5*(i-1),r=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,n,r){var s=((i=i||16770432)>>16&255)/255,o=(i>>8&255)/255,a=(255&i)/255,h=((n=n||3375104)>>16&255)/255,u=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,s,o,a,t=t||.2,0,h,u,l,e=e||.15,0,s-h,o-u,a-l,0,0];this._loadMatrix(c,r)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i.matrix.get=function(){return this.uniforms.m},i.matrix.set=function(t){this.uniforms.m=t},i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(n.n);r.prototype.grayscale=r.prototype.greyscale},URgk:function(t,e,i){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(r.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new s(r.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i("yLpj"))},UnBK:function(t,e,i){"use strict";var n=i("xTJ+"),r=i("xAGQ"),s=i("Lmem"),o=i("JEQr");function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return a(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(a(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},V8Hn:function(t,e,i){var n=i("WuDk");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},"VCo/":function(t,e,i){var n=i("0ZgC");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},VZIi:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".is-settings-text[data-v-645860da] {\n  position: absolute;\n  bottom: 0;\n  font-weight: bold;\n  text-align: center;\n  font-size: 3vmin;\n}\n.is-settings-text.active-menu-item[data-v-645860da] {\n  color: #ffffff;\n}",""])},VmRL:function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,a,h,u,l,p,f,m=e&&e.length,v=m?e[0]*i:t.length,y=r(t,0,v,i,!0),_=[];if(!y||y.next===y.prev)return _;if(m&&(y=function(t,e,i,n){var o,a,h,u,l,p=[];for(o=0,a=e.length;o<a;o++)h=e[o]*n,u=o<a-1?e[o+1]*n:t.length,(l=r(t,h,u,n,!1))===l.next&&(l.steiner=!0),p.push(g(l));for(p.sort(c),o=0;o<p.length;o++)d(p[o],i),i=s(i,i.next);return i}(t,e,y,i)),t.length>80*i){n=h=t[0],a=u=t[1];for(var b=i;b<v;b+=i)(l=t[b])<n&&(n=l),(p=t[b+1])<a&&(a=p),l>h&&(h=l),p>u&&(u=p);f=0!==(f=Math.max(h-n,u-a))?1/f:0}return o(y,_,i,n,a,f),_}function r(t,e,i,n,r){var s,o;if(r===O(t,e,i,n)>0)for(s=e;s<i;s+=n)o=k(s,t[s],t[s+1],o);else for(s=i-n;s>=e;s-=n)o=k(s,t[s],t[s+1],o);return o&&_(o,o.next)&&(C(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!_(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(C(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function o(t,e,i,n,r,c,d){if(t){!d&&c&&function(t,e,i,n){var r=t;do{null===r.z&&(r.z=f(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,s,o,a,h,u=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,n=i,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(h=u;a>0||h>0&&n;)0!==a&&(0===h||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,h--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,u*=2}while(o>1)}(r)}(t,n,r,c);for(var p,g,m=t;t.prev!==t.next;)if(p=t.prev,g=t.next,c?h(t,n,r,c):a(t))e.push(p.i/i),e.push(t.i/i),e.push(g.i/i),C(t),t=g.next,m=g.next;else if((t=g)===m){d?1===d?o(t=u(s(t),e,i),e,i,n,r,c,2):2===d&&l(t,e,i,n,r,c):o(s(t),e,i,n,r,c,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(y(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(m(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&y(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function h(t,e,i,n){var r=t.prev,s=t,o=t.next;if(y(r,s,o)>=0)return!1;for(var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,h=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,u=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,l=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,c=f(a,h,e,i,n),d=f(u,l,e,i,n),p=t.prevZ,g=t.nextZ;p&&p.z>=c&&g&&g.z<=d;){if(p!==t.prev&&p!==t.next&&m(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,g!==t.prev&&g!==t.next&&m(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&m(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=d;){if(g!==t.prev&&g!==t.next&&m(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function u(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!_(r,o)&&b(r,n,n.next,o)&&S(r,o)&&S(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),C(n),C(n.next),n=t=o),n=n.next}while(n!==t);return s(n)}function l(t,e,i,n,r,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&v(h,u)){var l=T(h,u);return h=s(h,h.next),l=s(l,l.next),o(h,e,i,n,r,a),void o(l,e,i,n,r,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var i,n=e,r=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o){if(o=a,a===r){if(s===n.y)return n;if(s===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===o)return i;var h,u=i,l=i.x,c=i.y,d=1/0;n=i;do{r>=n.x&&n.x>=l&&r!==n.x&&m(s<c?r:o,s,l,c,s<c?o:r,s,n.x,n.y)&&(h=Math.abs(s-n.y)/(r-n.x),S(n,t)&&(h<d||h===d&&(n.x>i.x||n.x===i.x&&p(i,n)))&&(i=n,d=h)),n=n.next}while(n!==u);return i}(t,e)){var i=T(e,t);s(e,e.next),s(i,i.next)}}function p(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function f(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function m(t,e,i,n,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(n-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(r-o)*(n-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&b(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(S(t,e)&&S(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||_(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,i,n){var r=w(y(t,e,i)),s=w(y(t,e,n)),o=w(y(i,n,t)),a=w(y(i,n,e));return r!==s&&o!==a||(!(0!==r||!x(t,i,e))||(!(0!==s||!x(t,n,e))||(!(0!==o||!x(i,t,n))||!(0!==a||!x(i,e,n)))))}function x(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function w(t){return t>0?1:t<0?-1:0}function S(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function T(t,e){var i=new E(t.i,t.x,t.y),n=new E(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function k(t,e,i,n){var r=new E(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,i,n){for(var r=0,s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}t.exports=n,t.exports.default=n,n.deviation=function(t,e,i,n){var r=e&&e.length,s=r?e[0]*i:t.length,o=Math.abs(O(t,0,s,i));if(r)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;o-=Math.abs(O(t,u,l,i))}var c=0;for(a=0;a<n.length;a+=3){var d=n[a]*i,p=n[a+1]*i,f=n[a+2]*i;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[r][s][o]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},VmXM:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return p}));var n=i("wp0G"),r=i("0/xZ"),s=i("SrKC"),o=i("msCR"),a=i("sKAn"),h=i("qoEl"),u=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};u.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var l=new r.g,c=new r.h,d=function(t){function e(e,i,r,o){void 0===o&&(o=s.c.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=i,this.state=r||n.C.for2d(),this.drawMode=o,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=s.b.NORMAL,this._roundPixels=a.b.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return i.uvBuffer.get=function(){return this.geometry.buffers[1]},i.verticesBuffer.get=function(){return this.geometry.buffers[0]},i.material.set=function(t){this.shader=t},i.material.get=function(){return this.shader},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.tint.get=function(){return this.shader.tint},i.tint.set=function(t){this.shader.tint=t},i.texture.get=function(){return this.shader.texture},i.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===s.c.TRIANGLES&&i.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,n=i.a,r=i.b,s=i.c,o=i.d,h=i.tx,u=i.ty,l=this.vertexData,c=0;c<l.length/2;c++){var d=e[2*c],p=e[2*c+1];l[2*c]=n*d+s*p+h,l[2*c+1]=r*d+o*p+u}if(this._roundPixels)for(var f=a.b.RESOLUTION,g=0;g<l.length;++g)l[g]=Math.round((l[g]*f|0)/f);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new u(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,l);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=c.points,n=this.geometry.getIndex().data,r=n.length,s=4===this.drawMode?3:1,o=0;o+2<r;o+=s){var a=2*n[o],h=2*n[o+1],u=2*n[o+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[h],i[3]=e[h+1],i[4]=e[u],i[5]=e[u+1],c.contains(l.x,l.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,i),e}(o.b);d.BATCHABLE_SIZE=100;var p=function(t){function e(e,i){var s={uSampler:e,alpha:1,uTextureMatrix:r.d.IDENTITY,uColor:new Float32Array([1,1,1,1])};(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(s,i.uniforms),t.call(this,i.program||n.u.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),s),this._colorDirty=!1,this.uvMatrix=new n.F(e),this.batchable=void 0===i.program,this.pluginName=i.pluginName,this.tint=i.tint,this.alpha=i.alpha}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return i.texture.get=function(){return this.uniforms.uSampler},i.texture.set=function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},i.alpha.set=function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},i.alpha.get=function(){return this._alpha},i.tint.set=function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},i.tint.get=function(){return this._tint},e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Object(h.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(e.prototype,i),e}(n.A),f=function(t){function e(e,i,r){t.call(this);var o=new n.l(e),a=new n.l(i,!0),h=new n.l(r,!0,!0);this.addAttribute("aVertexPosition",o,2,!1,s.m.FLOAT).addAttribute("aTextureCoord",a,2,!1,s.m.FLOAT).addIndex(h),this._updateId=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertexDirtyId:{configurable:!0}};return i.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(e.prototype,i),e}(n.r)},Vo7U:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("msCR"),r=i("wp0G"),s=function t(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Object(r.J)(e),this.stage=new n.b,t._plugins.forEach((function(t){t.init.call(i,e)}))},o={view:{configurable:!0},screen:{configurable:!0}};s.registerPlugin=function(t){s._plugins.push(t)},s.prototype.render=function(){this.renderer.render(this.stage)},o.view.get=function(){return this.renderer.view},o.screen.get=function(){return this.renderer.screen},s.prototype.destroy=function(t,e){var i=this,n=s._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(i)})),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(s.prototype,o),s._plugins=[];var a=function(){};a.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},a.destroy=function(){this.resizeTo=null,this.resize=null},s.registerPlugin(a)},W7XG:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,"#editor-head[data-v-22278544] {\n  height: 17vmin;\n  max-height: 17vmin;\n}\n#editor-body[data-v-22278544] {\n  height: 83vmin;\n  max-height: 83vmin;\n}",""])},WHtL:function(t,e,i){var n=i("adrF");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},WK0e:function(t,e,i){"use strict";var n=i("xO9n");i.n(n).a},WuDk:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".is-spinner[data-v-0f077f74] {\n  z-index: 9999;\n  position: absolute;\n  width: 25vmin;\n  height: 25vmin;\n  border: none;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n#editor-head.adjusted-height[data-v-0f077f74] {\n  height: 45vmin;\n  max-height: 45vmin;\n}\n#editor-body.adjusted-height[data-v-0f077f74] {\n  height: 55vmin;\n  max-height: 55vmin;\n}",""])},YBdB:function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var n,r,s,o,a,h=1,u={},l=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((s=new MessageChannel).port1.onmessage=function(t){f(t.data)},n=function(t){s.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,n=function(t){var e=c.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):n=function(t){setTimeout(f,0,t)}:(o="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&f(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),n=function(e){t.postMessage(o+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var r={callback:t,args:e};return u[h]=r,n(h),h++},d.clearImmediate=p}function p(t){delete u[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(void 0,i)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i("yLpj"),i("8oxB"))},YNZD:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,n,r,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,i,n,r,s,o,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t}();Object.defineProperties(n.prototype,{dispatch:{value:n.prototype.emit},run:{value:n.prototype.emit}})},YSna:function(t,e,i){"use strict";i.r(e),i.d(e,"InteractionData",(function(){return a})),i.d(e,"InteractionEvent",(function(){return u})),i.d(e,"InteractionManager",(function(){return g})),i.d(e,"InteractionTrackingData",(function(){return l})),i.d(e,"interactiveTarget",(function(){return p}));var n=i("0/xZ"),r=i("4+n8"),s=i("msCR"),o=i("qoEl"),a=function(){this.global=new n.g,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},h={pointerId:{configurable:!0}};h.pointerId.get=function(){return this.identifier},a.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},a.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},a.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(a.prototype,h);var u=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};u.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},u.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null};var l=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},c={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};l.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},c.pointerId.get=function(){return this._pointerId},c.flags.get=function(){return this._flags},c.flags.set=function(t){this._flags=t},c.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},c.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},c.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},c.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},c.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},c.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},c.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(l.prototype,c),l.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var d=function(){this._tempPoint=new n.g};d.prototype.recursiveFindHit=function(t,e,i,n,r){if(!e||!e.visible)return!1;var s=t.data.global,o=!1,a=r=e.interactive||r,h=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(n=!1,h=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(n=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.recursiveFindHit(t,c,i,n,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(n=!1),o=!0)}}return r&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),i&&i(t,e,!!o))),o},d.prototype.findHit=function(t,e,i,n){this.recursiveFindHit(t,e,i,n,!1)};var p={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};s.c.mixin(p);var f={target:null,data:{global:null}},g=function(t){function e(e,i){t.call(this),i=i||{},this.renderer=e,this.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,this.interactionFrequency=i.interactionFrequency||10,this.mouse=new a,this.mouse.identifier=1,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[1]=this.mouse,this.interactionDataPool=[],this.eventData=new u,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.tickerAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this.resolution=1,this.delayedEvents=[],this.search=new d,this._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,this.setTargetElement(this.renderer.view,this.renderer.resolution)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={useSystemTicker:{configurable:!0}};return i.useSystemTicker.get=function(){return this._useSystemTicker},i.useSystemTicker.set=function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(r.a.system.add(this.tickerUpdate,this,r.c.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(r.a.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){!this.eventsAdded&&this.interactionDOMElement&&(window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.eventsAdded&&this.interactionDOMElement&&(window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this.didMove)this.didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},e.prototype.mapPositionToPoint=function(t,e,i){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var r=1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*r,t.y=(i-n.top)*(this.interactionDOMElement.height/n.height)*r},e.prototype.processInteractive=function(t,e,i,n){var r=this.search.findHit(t,e,i,n),s=this.delayedEvents;if(!s.length)return r;t.stopPropagationHint=!1;var o=s.length;this.delayedEvents=[];for(var a=0;a<o;a++){var h=s[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return r},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,n=0;n<i;n++){var r=e[n],s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);if(o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===r.pointerType)this.emit("touchstart",o);else if("mouse"===r.pointerType||"pen"===r.pointerType){var a=2===r.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var n=t.data,r=t.data.identifier;if(i)if(e.trackedPointers[r]||(e.trackedPointers[r]=new l(r)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var s=2===n.button;s?e.trackedPointers[r].rightDown=!0:e.trackedPointers[r].leftDown=!0,this.dispatchEvent(e,s?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var n=this.normalizeToPointerData(t),r=n.length,s=t.target!==this.interactionDOMElement?"outside":"",o=0;o<r;o++){var a=n[o],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,i,e||!s),this.emit(e?"pointercancel":"pointerup"+s,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+s:"mouseup"+s,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var n=t.data,r=t.data.identifier,s=e.trackedPointers[r],o="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType,h=!1;if(a){var u=2===n.button,c=l.FLAGS,d=u?c.RIGHT_DOWN:c.LEFT_DOWN,p=void 0!==s&&s.flags&d;i?(this.dispatchEvent(e,u?"rightup":"mouseup",t),p&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):p&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),s&&(u?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),o&&this.dispatchEvent(e,"touchend",t),s&&(a&&!h||this.dispatchEvent(e,"pointertap",t),o&&(this.dispatchEvent(e,"tap",t),s.over=!1))):s&&(this.dispatchEvent(e,"pointerupoutside",t),o&&this.dispatchEvent(e,"touchendoutside",t)),s&&s.none&&delete e.trackedPointers[r]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,n=0;n<i;n++){var r=e[n],s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",o),"touch"===r.pointerType&&this.emit("touchmove",o),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mousemove",o)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var n=t.data,r="touch"===n.pointerType,s="mouse"===n.pointerType||"pen"===n.pointerType;s&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),r&&this.dispatchEvent(e,"touchmove",t),s&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var n=t.data,r=t.data.identifier,s="mouse"===n.pointerType||"pen"===n.pointerType,o=e.trackedPointers[r];i&&!o&&(o=e.trackedPointers[r]=new l(r)),void 0!==o&&(i&&this.mouseOverRenderer?(o.over||(o.over=!0,this.delayDispatchEvent(e,"pointerover",t),s&&this.delayDispatchEvent(e,"mouseover",t)),s&&null===this.cursor&&(this.cursor=e.cursor)):o.over&&(o.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),s&&this.dispatchEvent(e,"mouseout",t),o.none&&delete e.trackedPointers[r]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return 1===i||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new a).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,n=t.changedTouches.length;i<n;i++){var r=t.changedTouches[i];void 0===r.button&&(r.button=t.touches.length?1:0),void 0===r.buttons&&(r.buttons=t.touches.length?1:0),void 0===r.isPrimary&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===r.width&&(r.width=r.radiusX||1),void 0===r.height&&(r.height=r.radiusY||1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="touch"),void 0===r.pointerId&&(r.pointerId=r.identifier||0),void 0===r.pressure&&(r.pressure=r.force||.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),void 0===r.layerX&&(r.layerX=r.offsetX=r.clientX),void 0===r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,e.push(r)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent||(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=1),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0),e.push(t);return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},Object.defineProperties(e.prototype,i),e}(o.EventEmitter)},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"Z6+S":function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return R})),i.d(e,"d",(function(){return C})),i.d(e,"e",(function(){return I})),i.d(e,"f",(function(){return P})),i.d(e,"g",(function(){return k}));var n=i("wp0G"),r=i("0/xZ"),s=i("qoEl"),o=i("SrKC"),a=i("msCR"),h={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||Number.isNaN(t))return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},u=function(){this.reset()};u.prototype.clone=function(){var t=new u;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},u.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=n.E.WHITE,this.matrix=null,this.visible=!1},u.prototype.destroy=function(){this.texture=null,this.matrix=null};var l={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,n=t.holes,r=e.points,o=e.indices;if(i.length>=6){for(var a=[],h=0;h<n.length;h++){var u=n[h];a.push(i.length/2),i=i.concat(u.points)}var l=Object(s.earcut)(i,a,2);if(!l)return;for(var c=r.length/2,d=0;d<l.length;d+=3)o.push(l[d]+c),o.push(l[d+1]+c),o.push(l[d+2]+c);for(var p=0;p<i.length;p++)r.push(i[p])}}},c={build:function(t){var e,i,n=t.shape,s=t.points,o=n.x,a=n.y;if(s.length=0,t.type===r.l.CIRC?(e=n.radius,i=n.radius):(e=n.width,i=n.height),0!==e&&0!==i){var h=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height));h/=2.3;for(var u=2*Math.PI/h,l=0;l<h-.5;l++)s.push(o+Math.sin(-u*l)*e,a+Math.cos(-u*l)*i);s.push(s[0],s[1])}},triangulate:function(t,e){var i=t.points,n=e.points,r=e.indices,s=n.length/2,o=s;n.push(t.shape.x,t.shape.y);for(var a=0;a<i.length;a+=2)n.push(i[a],i[a+1]),r.push(s++,o,s)}},d={build:function(t){var e=t.shape,i=e.x,n=e.y,r=e.width,s=e.height,o=t.points;o.length=0,o.push(i,n,i+r,n,i+r,n+s,i,n+s)},triangulate:function(t,e){var i=t.points,n=e.points,r=n.length/2;n.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(r,r+1,r+2,r+1,r+2,r+3)}},p={build:function(t){var e=t.shape,i=t.points,n=e.x,r=e.y,s=e.width,o=e.height,a=e.radius;i.length=0,g(n,r+a,n,r,n+a,r,i),g(n+s-a,r,n+s,r,n+s,r+a,i),g(n+s,r+o-a,n+s,r+o,n+s-a,r+o,i),g(n+a,r+o,n,r+o,n,r+o-a,i)},triangulate:function(t,e){for(var i=t.points,n=e.points,r=e.indices,o=n.length/2,a=Object(s.earcut)(i,null,2),h=0,u=a.length;h<u;h+=3)r.push(a[h]+o),r.push(a[h+1]+o),r.push(a[h+2]+o);for(var l=0,c=i.length;l<c;l++)n.push(i[l],i[++l])}};function f(t,e,i){return t+(e-t)*i}function g(t,e,i,n,r,s,o){void 0===o&&(o=[]);for(var a=o,h=0,u=0,l=0,c=0,d=0,p=0,g=0,m=0;g<=20;++g)h=f(t,i,m=g/20),u=f(e,n,m),l=f(i,r,m),c=f(n,s,m),d=f(h,l,m),p=f(u,c,m),a.push(d,p);return a}function m(t,e){t.lineStyle.native?function(t,e){var i=0,n=t.shape,s=t.points||n.points,o=n.type!==r.l.POLY||n.closeStroke;if(0===s.length)return;var a=e.points,h=e.indices,u=s.length/2,l=a.length/2,c=l;for(a.push(s[0],s[1]),i=1;i<u;i++)a.push(s[2*i],s[2*i+1]),h.push(c,c+1),c++;o&&h.push(c,l)}(t,e):function(t,e){var i=t.shape,n=t.points||i.points.slice(),s=e.closePointEps;if(0===n.length)return;var o=t.lineStyle,a=new r.g(n[0],n[1]),h=new r.g(n[n.length-2],n[n.length-1]),u=i.type!==r.l.POLY||i.closeStroke,l=Math.abs(a.x-h.x)<s&&Math.abs(a.y-h.y)<s;if(u){n=n.slice(),l&&(n.pop(),n.pop(),h.set(n[n.length-2],n[n.length-1]));var c=h.x+.5*(a.x-h.x),d=h.y+.5*(a.y-h.y);n.unshift(c,d),n.push(c,d)}var p=e.points,f=n.length/2,g=n.length,m=p.length/2,v=o.width/2,y=n[0],_=n[1],b=n[2],x=n[3],w=0,S=0,T=-(_-x),k=y-b,C=0,E=0,O=0,I=0,P=Math.sqrt(T*T+k*k);T/=P,k/=P,T*=v,k*=v;var M=o.alignment,A=2*(1-M),R=2*M;p.push(y-T*A,_-k*A),p.push(y+T*R,_+k*R);for(var D=1;D<f-1;++D){y=n[2*(D-1)],_=n[2*(D-1)+1],b=n[2*D],x=n[2*D+1],w=n[2*(D+1)],S=n[2*(D+1)+1],T=-(_-x),k=y-b,P=Math.sqrt(T*T+k*k),T/=P,k/=P,T*=v,k*=v,C=-(x-S),E=b-w,P=Math.sqrt(C*C+E*E),C/=P,E/=P;var L=-k+_-(-k+x),F=-T+b-(-T+y),N=(-T+y)*(-k+x)-(-T+b)*(-k+_),B=-(E*=v)+S-(-E+x),U=-(C*=v)+b-(-C+w),j=(-C+w)*(-E+x)-(-C+b)*(-E+S),z=L*U-B*F;if(Math.abs(z)<.1)z+=10.1,p.push(b-T*A,x-k*A),p.push(b+T*R,x+k*R);else{var X=(F*j-U*N)/z,H=(B*N-L*j)/z;(X-b)*(X-b)+(H-x)*(H-x)>196*v*v?(O=T-C,I=k-E,P=Math.sqrt(O*O+I*I),O/=P,I/=P,O*=v,I*=v,p.push(b-O*A,x-I*A),p.push(b+O*R,x+I*R),p.push(b-O*R*A,x-I*A),g++):(p.push(b+(X-b)*A,x+(H-x)*A),p.push(b-(X-b)*R,x-(H-x)*R))}}y=n[2*(f-2)],_=n[2*(f-2)+1],b=n[2*(f-1)],x=n[2*(f-1)+1],T=-(_-x),k=y-b,P=Math.sqrt(T*T+k*k),T/=P,k/=P,T*=v,k*=v,p.push(b-T*A,x-k*A),p.push(b+T*R,x+k*R);for(var Y=e.indices,q=0;q<g-2;++q)Y.push(m,m+1,m+2),m++}(t,e)}var v=function(t){function e(e,i,n,s,o,a){o=o||s/2;for(var h=-1*Math.PI/2+a,u=2*n,l=r.f/u,c=[],d=0;d<u;d++){var p=d%2?o:s,f=d*l+h;c.push(e+p*Math.cos(f),i+p*Math.sin(f))}t.call(this,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.h),y=function(){};y.curveTo=function(t,e,i,n,r,s){var o=s[s.length-2],a=s[s.length-1]-e,h=o-t,u=n-e,l=i-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===r)return s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,g=r*Math.sqrt(d)/c,m=r*Math.sqrt(p)/c,v=g*f/d,y=m*f/p,_=g*l+m*h,b=g*u+m*a,x=h*(m+v),w=a*(m+v),S=l*(g+y),T=u*(g+y);return{cx:_+t,cy:b+e,radius:r,startAngle:Math.atan2(w-b,x-_),endAngle:Math.atan2(T-b,S-_),anticlockwise:h*u>l*a}},y.arc=function(t,e,i,n,s,o,a,u,l){for(var c=a-o,d=h._segmentsCount(Math.abs(c)*s,40*Math.ceil(Math.abs(c)/r.f)),p=c/(2*d),f=2*p,g=Math.cos(p),m=Math.sin(p),v=d-1,y=v%1/v,_=0;_<=v;++_){var b=p+o+f*(_+y*_),x=Math.cos(b),w=-Math.sin(b);l.push((g*x+m*w)*s+i,(g*-w+m*x)*s+n)}};var _=function(){};_.curveLength=function(t,e,i,n,r,s,o,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,g=0,m=0,v=0,y=0,_=t,b=e,x=1;x<=10;++x)v=_-(g=(f=(p=(d=1-(u=x/10))*d)*d)*t+3*p*u*i+3*d*(l=u*u)*r+(c=l*u)*o),y=b-(m=f*e+3*p*u*n+3*d*l*s+c*a),_=g,b=m,h+=Math.sqrt(v*v+y*y);return h},_.curveTo=function(t,e,i,n,r,s,o){var a=o[o.length-2],u=o[o.length-1];o.length-=2;var l=h._segmentsCount(_.curveLength(a,u,t,e,i,n,r,s)),c=0,d=0,p=0,f=0,g=0;o.push(a,u);for(var m=1,v=0;m<=l;++m)p=(d=(c=1-(v=m/l))*c)*c,g=(f=v*v)*v,o.push(p*a+3*d*v*t+3*c*f*i+g*r,p*u+3*d*v*e+3*c*f*n+g*s)};var b=function(){};b.curveLength=function(t,e,i,n,r,s){var o=t-2*i+r,a=e-2*n+s,h=2*i-2*t,u=2*n-2*e,l=4*(o*o+a*a),c=4*(o*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),g=2*l*f,m=2*Math.sqrt(d),v=c/f;return(g*p+f*c*(p-m)+(4*d*l-c*c)*Math.log((2*f+v+p)/(v+m)))/(4*g)},b.curveTo=function(t,e,i,n,r){for(var s=r[r.length-2],o=r[r.length-1],a=h._segmentsCount(b.curveLength(s,o,t,e,i,n)),u=0,l=0,c=1;c<=a;++c){var d=c/a;u=s+(t-s)*d,l=o+(e-o)*d,r.push(u+(t+(i-t)*d-u)*d,l+(e+(n-e)*d-l)*d)}};var x=function(){this.reset()};x.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},x.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},x.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0};var w={};w[r.l.POLY]=l,w[r.l.CIRC]=c,w[r.l.ELIP]=c,w[r.l.RECT]=d,w[r.l.RREC]=p;var S=[],T=[],k={buildPoly:l,buildCircle:c,buildRectangle:d,buildRoundedRectangle:p,FILL_COMMANDS:w,BATCH_POOL:S,DRAW_CALL_POOL:T,buildLine:m,buildComplexPoly:function(t,e){var i=t.points.slice();if(!(i.length<6)){var n=e.indices;e.points=i,e.alpha=t.fillAlpha,e.color=Object(s.hex2rgb)(t.fillColor);for(var r=1/0,o=-1/0,a=1/0,h=-1/0,u=0,l=0,c=0;c<i.length;c+=2)r=(u=i[c])<r?u:r,o=u>o?u:o,a=(l=i[c+1])<a?l:a,h=l>h?l:h;i.push(r,a,o,a,o,h,r,h);for(var d=i.length/2,p=0;p<d;p++)n.push(p)}},bezierCurveTo:function(t,e,i,n,r,s,o,a,h,u){void 0===u&&(u=[]);var l=0,c=0,d=0,p=0,f=0;u.push(t,e);for(var g=1,m=0;g<=h;++g)d=(c=(l=1-(m=g/h))*l)*l,f=(p=m*m)*m,u.push(d*t+3*c*m*i+3*l*p*r+f*o,d*e+3*c*m*n+3*l*p*s+f*a);return u},Star:v,ArcUtils:y,BezierUtils:_,QuadraticUtils:b,BatchPart:x},C=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=n,this.type=t.type,this.points=[],this.holes=[]};C.prototype.clone=function(){return new C(this.shape,this.fillStyle,this.lineStyle,this.matrix)},C.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var E=new r.g,O=new a.a,I=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new a.a,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={bounds:{configurable:!0}};return i.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,T.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var i=this.batches[e];i.reset(),S.push(i)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,n){var r=new C(t,e,i,n);return this.graphicsData.push(r),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var i=new C(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=n.lineStyle,n.holes.push(i),this.dirty++,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var n=e[i];if(n.fillStyle.visible&&(n.shape&&(n.matrix?n.matrix.applyInverse(t,E):E.copyFrom(t),n.shape.contains(E.x,E.y)))){var r=!1;if(n.holes)for(var s=0;s<n.holes.length;s++){if(n.holes[s].shape.contains(E.x,E.y)){r=!0;break}}if(!r)return!0}}return!1},e.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,e=this.graphicsData,i=null,n=null;this.batches.length>0&&(n=(i=this.batches[this.batches.length-1]).style);for(var r=this.shapeIndex;r<e.length;r++){this.shapeIndex++;var s=e[r],a=s.fillStyle,h=s.lineStyle;w[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var u=0;u<2;u++){var l=0===u?a:h;if(l.visible){var c=l.texture.baseTexture,d=this.indices.length,p=this.points.length/2;c.wrapMode=o.n.REPEAT,0===u?this.processFill(s):this.processLine(s);var f=this.points.length/2-p;0!==f&&(i&&!this._compareStyles(n,l)&&(i.end(d,p),i=null),i||((i=S.pop()||new x).begin(l,d,p),this.batches.push(i),n=l),this.addUvs(this.points,t,l.texture,p,f,l.matrix))}}}if(i){var g=this.indices.length,m=this.points.length/2;i.end(g,m)}0!==this.batches.length?(this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],n=i.fillStyle,r=i.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(r&&!r.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var n=t[e],r=0;r<n.size;r++){var s=n.start+r;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}},e.prototype.isBatchable=function(){for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++n.e._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,T.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,s=T.pop();s||((s=new n.f).textures=new n.k),s.textures.count=0,s.start=0,s.size=0,s.type=o.c.TRIANGLES;var a=0,h=null,u=0,l=!1,c=o.c.TRIANGLES,d=0;this.drawCalls.push(s);for(var p=0;p<this.batches.length;p++){var f=this.batches[p],g=f.style,m=g.texture.baseTexture;l!==!!g.native&&(c=(l=!!g.native)?o.c.LINES:o.c.TRIANGLES,h=null,a=8,t++),h!==m&&(h=m,m._batchEnabled!==t&&(8===a&&(t++,a=0,s.size>0&&((s=T.pop())||((s=new n.f).textures=new n.k),this.drawCalls.push(s)),s.start=d,s.size=0,s.textures.count=0,s.type=c),m.touched=1,m._batchEnabled=t,m._batchLocation=a,m.wrapMode=10497,s.textures.elements[s.textures.count++]=m,a++)),s.size+=f.size,d+=f.size,u=m._batchLocation,this.addColors(i,g.color,g.alpha,f.attribSize),this.addTextureIds(r,u,f.attribSize)}n.e._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,n=this.textureIds,r=new ArrayBuffer(3*t.length*4),s=new Float32Array(r),o=new Uint32Array(r),a=0,h=0;h<t.length/2;h++)s[a++]=t[2*h],s[a++]=t[2*h+1],s[a++]=e[2*h],s[a++]=e[2*h+1],o[a++]=i[h],s[a++]=n[h];this._buffer.update(r),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),l.triangulate(t,this)):w[t.type].triangulate(t,this)},e.prototype.processLine=function(t){m(t,this);for(var e=0;e<t.holes.length;e++)m(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];w[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=O,i=r.d.IDENTITY;this._bounds.clear(),e.clear();for(var n=0;n<this.graphicsData.length;n++){var s=this.graphicsData[n],o=s.shape,a=s.type,h=s.lineStyle,u=s.matrix||r.d.IDENTITY,l=0;if(h&&h.visible){var c=h.alignment;l=h.width,a===r.l.POLY?l*=.5+Math.abs(.5-c):l*=Math.max(0,c)}i!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=u),a===r.l.RECT||a===r.l.RREC?e.addFramePad(o.x,o.y,o.x+o.width,o.y+o.height,l,l):a===r.l.CIRC?e.addFramePad(o.x,o.y,o.x,o.y,o.radius+l,o.radius+l):a===r.l.ELIP?e.addFramePad(o.x,o.y,o.x,o.y,o.width+l,o.height+l):t.addVerticesMatrix(i,o.points,0,o.points.length,l,l)}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var n=t[2*i],r=t[2*i+1];t[2*i]=e.a*n+e.c*r+e.tx,t[2*i+1]=e.b*n+e.d*r+e.ty}},e.prototype.addColors=function(t,e,i,n){for(var r=(e>>16)+(65280&e)+((255&e)<<16),o=Object(s.premultiplyTint)(r,i);n-- >0;)t.push(o)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,n,r,s){for(var o=0,a=e.length,h=i.frame;o<r;){var u=t[2*(n+o)],l=t[2*(n+o)+1];if(s){var c=s.a*u+s.c*l+s.tx;l=s.b*u+s.d*l+s.ty,u=c}o++,e.push(u/h.width,l/h.height)}var d=i.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,i,a,r)},e.prototype.adjustUvs=function(t,e,i,n){for(var r=e.baseTexture,s=1e-6,o=i+2*n,a=e.frame,h=a.width/r.width,u=a.height/r.height,l=a.x/a.width,c=a.y/a.height,d=Math.floor(t[i]+s),p=Math.floor(t[i+1]+s),f=i+2;f<o;f+=2)d=Math.min(d,Math.floor(t[f]+s)),p=Math.min(p,Math.floor(t[f+1]+s));l-=d,c-=p;for(var g=i;g<o;g+=2)t[g]=(t[g]+l)*h,t[g+1]=(t[g+1]+c)*u},Object.defineProperties(e.prototype,i),e}(n.g);I.BATCHABLE_SIZE=100;var P=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(u),M=new Float32Array(3),A={},R=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new I,this.geometry.refCount++,this.shader=null,this.state=n.C.for2d(),this._fillStyle=new u,this._lineStyle=new P,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=o.b.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t},i.fill.get=function(){return this._fillStyle},i.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t){if("number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){Object(s.deprecation)("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3],a=arguments[4],h=arguments[5],u=arguments[6];t={width:e,texture:i,color:r,alpha:o,matrix:a,alignment:h,native:u},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:n.E.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1},t),this.currentPath&&this.startPoly();var l=t.width>0&&t.alpha>0;return l?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:l},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new r.h,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new r.h,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,n=i[i.length-2],r=i[i.length-1];return n===t&&r===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,n){this._initCurve();var r=this.currentPath.points;return 0===r.length&&this.moveTo(0,0),b.curveTo(t,e,i,n,r),this},e.prototype.bezierCurveTo=function(t,e,i,n,r,s){return this._initCurve(),_.curveTo(t,e,i,n,r,s,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,n,r){this._initCurve(t,e);var s=this.currentPath.points,o=y.curveTo(t,e,i,n,r,s);if(o){var a=o.cx,h=o.cy,u=o.radius,l=o.startAngle,c=o.endAngle,d=o.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,i,n,s,o){if(void 0===o&&(o=!1),n===s)return this;if(!o&&s<=n?s+=r.f:o&&n<=s&&(n+=r.f),0===s-n)return this;var a=t+Math.cos(n)*i,h=e+Math.sin(n)*i,u=this.geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var c=Math.abs(l[l.length-2]-a),d=Math.abs(l[l.length-1]-h);c<u&&d<u||l.push(a,h)}else this.moveTo(a,h),l=this.currentPath.points;return y.arc(a,h,t,e,i,n,s,o,l),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:n.E.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof n.E){Object(s.deprecation)("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];t={texture:e,color:i,alpha:r,matrix:o},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:n.E.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var a=t.alpha>0;return a?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:a},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,n){return this.drawShape(new r.j(t,e,i,n))},e.prototype.drawRoundedRect=function(t,e,i,n,s){return this.drawShape(new r.k(t,e,i,n,s))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new r.a(t,e,i))},e.prototype.drawEllipse=function(t,e,i,n){return this.drawShape(new r.c(t,e,i,n))},e.prototype.drawPolygon=function(t){var e=arguments,i=t,n=!0;if(i.points&&(n=i.closeStroke,i=i.points),!Array.isArray(i)){i=new Array(arguments.length);for(var s=0;s<i.length;++s)i[s]=e[s]}var o=new r.h(i);return o.closeStroke=n,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,i,n,r,s){return void 0===s&&(s=0),this.drawPolygon(new v(t,e,i,n,r,s))},e.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){return 1===this.geometry.graphicsData.length&&this.geometry.graphicsData[0].shape.type===r.l.RECT&&!this.geometry.graphicsData[0].lineWidth},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this.geometry,e=this.blendMode;this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.vertexData=new Float32Array(t.points);for(var i=0,n=t.batches.length;i<n;i++){var r=t.batches[i],o=r.style.color,a=new Float32Array(this.vertexData.buffer,4*r.attribStart*2,2*r.attribSize),h=new Float32Array(t.uvsFloat32.buffer,4*r.attribStart*2,2*r.attribSize),u={vertexData:a,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*r.start,r.size),uvs:h,_batchRGB:Object(s.hex2rgb)(o),_tintRGB:o,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[i]=u}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this.geometry,n=this.tint,r=this.worldAlpha,s=e.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(n>>16&255)/255*r,s.tint[1]=(n>>8&255)/255*r,s.tint[2]=(255&n)/255*r,s.tint[3]=r,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,h=o.length;a<h;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var i=e.textures,n=e.type,r=e.size,s=e.start,o=i.count,a=0;a<o;a++)t.texture.bind(i.elements[a],a);t.geometry.draw(n,r,s)},e.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!A[i]){for(var s=new Int32Array(16),o=0;o<16;o++)s[o]=o;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new r.d,default:n.H.from({uSamplers:s},!0)},h=t.plugins[i]._shader.program;A[i]=new n.A(h,a)}e=A[i]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry;if(t.graphicsData.length){var e=t.bounds,i=e.minX,n=e.minY,r=e.maxX,s=e.maxY;this._bounds.addFrame(this.transform,i,n,r,s)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Object(s.hex2rgb)(this.tint,M),e=0;e<this.batches.length;e++){var i=this.batches[e],n=i._batchRGB,r=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);i._tintRGB=(r>>16)+(65280&r)+((255&r)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,i=t.b,n=t.c,r=t.d,s=t.tx,o=t.ty,a=this.geometry.points,h=this.vertexData,u=0,l=0;l<a.length;l+=2){var c=a[l],d=a[l+1];h[u++]=e*c+n*d+s,h[u++]=r*d+i*c+o}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,i),e}(a.b);R._TEMP_POINT=new r.g},Z6CA:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("wp0G"),r=i("0/xZ"),s=function(t){function e(e,i){var n=new r.d;e.renderable=!1,t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,null==i&&(i=20),this.scale=new r.g(i,i)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={map:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var r=this.maskSprite.transform.worldTransform,s=Math.sqrt(r.a*r.a+r.b*r.b),o=Math.sqrt(r.c*r.c+r.d*r.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=r.a/s,this.uniforms.rotation[1]=r.b/s,this.uniforms.rotation[2]=r.c/o,this.uniforms.rotation[3]=r.d/o),t.applyFilter(this,e,i,n)},i.map.get=function(){return this.uniforms.mapSampler},i.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,i),e}(n.n)},Z6CL:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".add-selected[data-v-6e7d1ae7] {\n  -webkit-filter: none;\n          filter: none;\n}",""])},ZE2f:function(t,e,i){"use strict";i.d(e,"a",(function(){return O})),i.d(e,"b",(function(){return E})),i.d(e,"c",(function(){return I})),i.d(e,"d",(function(){return C}));var n=i("u62O"),r=i.n(n),s=i("1eSL"),o=i.n(s);function a(){}function h(t,e,i,n){var r=0,s=t.length;!function o(a){a||r===s?i&&i(a):n?setTimeout((function(){e(t[r++],o)}),1):e(t[r++],o)}()}function u(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function l(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,n={_tasks:[],concurrency:e,saturated:a,unsaturated:a,buffer:e/4,empty:a,drain:a,error:a,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){i=0,n.drain=a,n.started=!1,n._tasks=[]},unshift:function(t,e){r(t,!0,e)},process:function(){for(;!n.paused&&i<n.concurrency&&n._tasks.length;){var e=n._tasks.shift();0===n._tasks.length&&n.empty(),(i+=1)===n.concurrency&&n.saturated(),t(e.data,u(s(e)))}},length:function(){return n._tasks.length},running:function(){return i},idle:function(){return n._tasks.length+i===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var t=1;t<=n.concurrency;t++)n.process()}}};function r(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(n.started=!0,null==t&&n.idle())setTimeout((function(){return n.drain()}),1);else{var r={data:t,callback:"function"==typeof i?i:a};e?n._tasks.unshift(r):n._tasks.push(r),setTimeout((function(){return n.process()}),1)}}function s(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&n.error(arguments[0],t.data),i<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}var c={};function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,i){return e&&d(t.prototype,e),i&&d(t,i),t}var f=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),g=null;function m(){}var v=function(){function t(e,i,n){if("string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=m,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.a,this.onProgress=new o.a,this.onComplete=new o.a,this.onAfterMiddleware=new o.a}t.setExtensionLoadType=function(e,i){y(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){y(t._xhrTypeMap,e,i)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(i)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:f&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=i,n},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(_(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(_(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(_(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,i="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===n&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(i,"text/xml")}else{var s=document.createElement("div");s.innerHTML=i,this.data=s}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,g||(g=document.createElement("a")),g.href=t;var i=!(t=r()(g.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&n===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var n=t.indexOf("?"),r=t.indexOf("#"),s=Math.min(n>-1?n:t.length,r>-1?r:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},p(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function y(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function _(t){return t.toString().replace("object ","")}v.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},v.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},v.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},v.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},v._loadTypeMap={gif:v.LOAD_TYPE.IMAGE,png:v.LOAD_TYPE.IMAGE,bmp:v.LOAD_TYPE.IMAGE,jpg:v.LOAD_TYPE.IMAGE,jpeg:v.LOAD_TYPE.IMAGE,tif:v.LOAD_TYPE.IMAGE,tiff:v.LOAD_TYPE.IMAGE,webp:v.LOAD_TYPE.IMAGE,tga:v.LOAD_TYPE.IMAGE,svg:v.LOAD_TYPE.IMAGE,"svg+xml":v.LOAD_TYPE.IMAGE,mp3:v.LOAD_TYPE.AUDIO,ogg:v.LOAD_TYPE.AUDIO,wav:v.LOAD_TYPE.AUDIO,mp4:v.LOAD_TYPE.VIDEO,webm:v.LOAD_TYPE.VIDEO},v._xhrTypeMap={xhtml:v.XHR_RESPONSE_TYPE.DOCUMENT,html:v.XHR_RESPONSE_TYPE.DOCUMENT,htm:v.XHR_RESPONSE_TYPE.DOCUMENT,xml:v.XHR_RESPONSE_TYPE.DOCUMENT,tmx:v.XHR_RESPONSE_TYPE.DOCUMENT,svg:v.XHR_RESPONSE_TYPE.DOCUMENT,tsx:v.XHR_RESPONSE_TYPE.DOCUMENT,gif:v.XHR_RESPONSE_TYPE.BLOB,png:v.XHR_RESPONSE_TYPE.BLOB,bmp:v.XHR_RESPONSE_TYPE.BLOB,jpg:v.XHR_RESPONSE_TYPE.BLOB,jpeg:v.XHR_RESPONSE_TYPE.BLOB,tif:v.XHR_RESPONSE_TYPE.BLOB,tiff:v.XHR_RESPONSE_TYPE.BLOB,webp:v.XHR_RESPONSE_TYPE.BLOB,tga:v.XHR_RESPONSE_TYPE.BLOB,json:v.XHR_RESPONSE_TYPE.JSON,text:v.XHR_RESPONSE_TYPE.TEXT,txt:v.XHR_RESPONSE_TYPE.TEXT,ttf:v.XHR_RESPONSE_TYPE.BUFFER,otf:v.XHR_RESPONSE_TYPE.BUFFER},v.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var b=window.URL||window.webkitURL;var x={caching:function(t,e){var i=this;c[t.url]?(t.data=c[t.url],t.complete()):t.onComplete.once((function(){return c[i.url]=i.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===v.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=b.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=v.TYPE.IMAGE,void(t.data.onload=function(){b.revokeObjectURL(i),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var n=[0,0,0],r=[0,0,0,0],s=0;s<n.length;++s)i<t.length?n[s]=255&t.charCodeAt(i++):n[s]=0;switch(r[0]=n[0]>>2,r[1]=(3&n[0])<<4|n[1]>>4,r[2]=(15&n[1])<<2|n[2]>>6,r[3]=63&n[2],i-(t.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(var o=0;o<r.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r[o])}return e}(t.xhr.responseText),t.type=v.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},w=/(#[\w-]+)?$/,S=function(){function t(e,i){var n=this;void 0===e&&(e=""),void 0===i&&(i=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return n._loadResource(t,e)},this._queue=l(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new o.a,this.onError=new o.a,this.onLoad=new o.a,this.onStart=new o.a,this.onComplete=new o.a;for(var r=0;r<t._defaultBeforeMiddleware.length;++r)this.pre(t._defaultBeforeMiddleware[r]);for(var s=0;s<t._defaultAfterMiddleware.length;++s)this.use(t._defaultAfterMiddleware[s])}var e=t.prototype;return e.add=function(t,e,i,n){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"==typeof t&&(n=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(n=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new v(t,e,i),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=i.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var h=s.progressChunk*(o.length+1)/(o.length+2);s.children.push(this.resources[t]),s.progressChunk=h;for(var u=0;u<o.length;++u)o[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,i=r()(t,{strictMode:!0});if(e=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=w.exec(e)[0];-1!==(e=e.substr(0,e.length-n.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=n}return e},e._loadResource=function(t,e){var i=this;t._dequeue=e,h(this._beforeMiddleware,(function(e,n){e.call(i,t,(function(){n(t.isComplete?{}:null)}))}),(function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),h(this._afterMiddleware,(function(i,n){i.call(e,t,n)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},p(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();S._defaultBeforeMiddleware=[],S._defaultAfterMiddleware=[],S.pre=function(t){return S._defaultBeforeMiddleware.push(t),S},S.use=function(t){return S._defaultAfterMiddleware.push(t),S};var T=i("qoEl"),k=i("wp0G"),C=function(){};C.use=function(t,e){t.data&&t.type===v.TYPE.IMAGE&&(t.texture=k.E.fromLoader(t.data,t.url,t.name)),e()};var E=function(t){function e(i,n){var r=this;t.call(this,i,n),T.EventEmitter.call(this);for(var s=0;s<e._plugins.length;++s){var o=e._plugins[s],a=o.pre,h=o.use;a&&this.pre(a),h&&this.use(h)}this.onStart.add((function(t){return r.emit("start",t)})),this.onProgress.add((function(t,e){return r.emit("progress",t,e)})),this.onError.add((function(t,e,i){return r.emit("error",t,e,i)})),this.onLoad.add((function(t,e){return r.emit("load",t,e)})),this.onComplete.add((function(t,e){return r.emit("complete",t,e)})),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},i.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,i),e}(S);Object.assign(E.prototype,T.EventEmitter.prototype),E._plugins=[],E.registerPlugin=function(t){return E._plugins.push(t),t.add&&t.add(),E},E.registerPlugin({use:x.parsing}),E.registerPlugin(C);var O=function(){};O.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?E.shared:new E},O.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var I=v},"aET+":function(t,e,i){var n,r,s={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},h=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var n=a.call(this,t,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,l=0,c=[],d=i("9tPo");function p(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=s[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(_(n.parts[o],e))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(_(n.parts[o],e));s[n.id]={id:n.id,refs:1,parts:a}}}}function f(t,e){for(var i=[],n={},r=0;r<t.length;r++){var s=t[r],o=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};n[o]?n[o].parts.push(a):i.push(n[o]={id:o,parts:[a]})}return i}function g(t,e){var i=h(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),c.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=h(t.insertAt.before,i);i.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function _(t,e){var i,n,r,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var o=l++;i=u||(u=v(e)),n=w.bind(null,i,o,!1),r=w.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),n=T.bind(null,i,e),r=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(e),n=S.bind(null,i),r=function(){m(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=f(t,e);return p(i,e),function(t){for(var n=[],r=0;r<i.length;r++){var o=i[r];(a=s[o.id]).refs--,n.push(a)}t&&p(f(t,e),e);for(r=0;r<n.length;r++){var a;if(0===(a=n[r]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete s[a.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function S(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function T(t,e,i){var n=i.css,r=i.sourceMap,s=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||s)&&(n=d(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}},aSns:function(t,e,i){"use strict";var n=i("GrlX"),r=i("uxXc"),s=[].slice,o=["keyword","gray","hex"],a={};Object.keys(r).forEach((function(t){a[s.call(r[t].labels).sort().join("")]=t}));var h={};function u(t,e){if(!(this instanceof u))return new u(t,e);if(e&&e in o&&(e=null),e&&!(e in r))throw new Error("Unknown model: "+e);var i,l;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof u)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var c=n.get(t);if(null===c)throw new Error("Unable to parse color from string: "+t);this.model=c.model,l=r[this.model].channels,this.color=c.value.slice(0,l),this.valpha="number"==typeof c.value[l]?c.value[l]:1}else if(t.length){this.model=e||"rgb",l=r[this.model].channels;var d=s.call(t,0,l);this.color=p(d,l),this.valpha="number"==typeof t[l]?t[l]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var f=Object.keys(t);"alpha"in t&&(f.splice(f.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=f.sort().join("");if(!(g in a))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=a[g];var m=r[this.model].labels,v=[];for(i=0;i<m.length;i++)v.push(t[m[i]]);this.color=p(v)}if(h[this.model])for(l=r[this.model].channels,i=0;i<l;i++){var y=h[this.model][i];y&&(this.color[i]=y(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(t,e,i){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(h[t]||(h[t]=[]))[e]=i})),t=t[0],function(n){var r;return arguments.length?(i&&(n=i(n)),(r=this[t]()).color[e]=n,r):(r=this[t]().color[e],i&&(r=i(r)),r)}}function c(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t){return Array.isArray(t)?t:[t]}function p(t,e){for(var i=0;i<e;i++)"number"!=typeof t[i]&&(t[i]=0);return t}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in n.to?this:this.rgb(),i=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return n.to[e.model](i)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),i=1===e.valpha?e.color:e.color.concat(this.valpha);return n.to.rgb.percent(i)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=r[this.model].channels,i=r[this.model].labels,n=0;n<e;n++)t[i[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new u(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:l("rgb",0,c(255)),green:l("rgb",1,c(255)),blue:l("rgb",2,c(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:l("hsl",1,c(100)),lightness:l("hsl",2,c(100)),saturationv:l("hsv",1,c(100)),value:l("hsv",2,c(100)),chroma:l("hcg",1,c(100)),gray:l("hcg",2,c(100)),white:l("hwb",1,c(100)),wblack:l("hwb",2,c(100)),cyan:l("cmyk",0,c(100)),magenta:l("cmyk",1,c(100)),yellow:l("cmyk",2,c(100)),black:l("cmyk",3,c(100)),x:l("xyz",0,c(100)),y:l("xyz",1,c(100)),z:l("xyz",2,c(100)),l:l("lab",0,c(100)),a:l("lab",1),b:l("lab",2),keyword:function(t){return arguments.length?new u(t):r[this.model].keyword(this.color)},hex:function(t){return arguments.length?new u(t):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return u.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),i=e.color[0];return i=(i=(i+t)%360)<0?360+i:i,e.color[0]=i,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var i=t.rgb(),n=this.rgb(),r=void 0===e?.5:e,s=2*r-1,o=i.alpha()-n.alpha(),a=((s*o==-1?s:(s+o)/(1+s*o))+1)/2,h=1-a;return u.rgb(a*i.red()+h*n.red(),a*i.green()+h*n.green(),a*i.blue()+h*n.blue(),i.alpha()*r+n.alpha()*(1-r))}},Object.keys(r).forEach((function(t){if(-1===o.indexOf(t)){var e=r[t].channels;u.prototype[t]=function(){if(this.model===t)return new u(this);if(arguments.length)return new u(arguments,t);var i="number"==typeof arguments[e]?e:this.valpha;return new u(d(r[this.model][t].raw(this.color)).concat(i),t)},u[t]=function(i){return"number"==typeof i&&(i=p(s.call(arguments),e)),new u(i,t)}}})),t.exports=u},adrF:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".is-spritesheet-preview[data-v-251429a5] {\n  background-position: 0 0;\n  background-size: auto;\n  background-color: transparent;\n}\n.is-modifier-stat[data-v-251429a5] {\n  padding: 0 !important;\n  margin: 0 !important;\n  position: relative;\n}\n.is-modifier-img[data-v-251429a5] {\n  width: 100%;\n  position: relative;\n}\n.is-modifier-text[data-v-251429a5] {\n  position: absolute;\n  top: 1.25vmin;\n  right: 1rem;\n  color: #FFFFFF;\n  font-weight: bold;\n  font-size: 2.75vmin;\n  mix-blend-mode: difference;\n}\n.is-health[data-v-251429a5], .is-stress[data-v-251429a5] {\n  right: 0.5rem;\n}\n.is-health.is-smaller[data-v-251429a5], .is-stress.is-smaller[data-v-251429a5] {\n  font-size: 2vmin;\n  top: 1.75vmin;\n}\n.is-health[data-v-251429a5]:after {\n  color: #FBEE00;\n  content: attr(data-content);\n}\n.is-stress[data-v-251429a5]:after {\n  color: #5dfa00;\n  content: attr(data-content);\n}\n.is-modifier-progress[data-v-251429a5] {\n  position: absolute;\n  height: 90%;\n  margin-left: 25%;\n}\n.tile.is-vertical > .tile.is-child.is-modifier-stat[data-v-251429a5]:not(:last-child) {\n  padding: 0 !important;\n  margin: 0 !important;\n}",""])},bIaz:function(t,e,i){"use strict";var n=i("gXc8");i.n(n).a},bUC5:function(t,e,i){"use strict";i.r(e);var n=i("XuX8"),r=i.n(n),s=i("L2JU");function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,n;return e=t,n=[{key:"reloadPage",value:function(t){console.log(t),alert("Page must be reloaded"),location.href="/game"}},{key:"raiseError",value:function(e){var i="There was an error with that action, please try again or contact an admin";if(null!=e.response){switch(e.response.status){case 404:return void alert("The requested resource could not be found");case 401:return alert("You need to be logged in to do that"),void window.location.assign(window.location)}null!=e.response.data.message&&(i=t.handleGenericError(e.response.data)),!0===e.response.data.should_reload&&(location.href="/")}else console.log(e),console.trace();alert(i)}},{key:"handleGenericError",value:function(t){console.log(t);var e=t.message;if(null!=t.errors)for(var i in t.errors)if(t.errors.hasOwnProperty(i)){var n=t.errors[i];for(var r in n)n.hasOwnProperty(r)&&(e+="\n"+n[r])}return e}}],(i=null)&&o(e.prototype,i),n&&o(e,n),t}(),h=i("IqKQ"),u=i("HlzF"),l=i.n(u);function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,n;return e=t,n=[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={src:["/".concat(t.file_name)],volume:t.volume,loop:!!t.is_looped,html5:!0,preload:e};void 0!==t.duration&&null!==t.duration&&(i.sprite={__default:[0,t.duration]});var n=new l.a.Howl(i);return n.dbId=t.id,n.name=t.name,n.nickname=t.nickname||t.name,n.baseVolume=t.volume,n.fadeStopIDs=[],n.on("fade",(function(t){null!=n.fadeStopIDs.find((function(e){return e==t}))&&(n.stop(t),n.off("end"))})),n}}],(i=null)&&c(e.prototype,i),n&&c(e,n),t}();class p{constructor(t){this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",broadcaster:"pusher",csrfToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(t),this.connect()}setOptions(t){return this.options=Object.assign(this._defaultOptions,t),this.csrfToken()&&(this.options.auth.headers["X-CSRF-TOKEN"]=this.csrfToken()),t}csrfToken(){let t;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}class f{listenForWhisper(t,e){return this.listen(".client-"+t,e)}notification(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}stopListeningForWhisper(t){return this.stopListening(".client-"+t)}}class g{constructor(t){this.setNamespace(t)}format(t){return"."===t.charAt(0)||"\\"===t.charAt(0)?t.substr(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}setNamespace(t){this.namespace=t}}class m extends f{constructor(t,e,i){super(),this.name=e,this.pusher=t,this.options=i,this.eventFormatter=new g(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(t,e){return this.on(this.eventFormatter.format(t),e),this}stopListening(t){return this.subscription.unbind(this.eventFormatter.format(t)),this}on(t,e){return this.subscription.bind(t,e),this}}class v extends m{whisper(t,e){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,e),this}}class y extends m{whisper(t,e){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,e),this}}class _ extends m{here(t){return this.on("pusher:subscription_succeeded",e=>{t(Object.keys(e.members).map(t=>e.members[t]))}),this}joining(t){return this.on("pusher:member_added",e=>{t(e.info)}),this}leaving(t){return this.on("pusher:member_removed",e=>{t(e.info)}),this}whisper(t,e){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,e),this}}class b extends f{constructor(t,e,i){super(),this.events={},this.name=e,this.socket=t,this.options=i,this.eventFormatter=new g(this.options.namespace),this.subscribe(),this.configureReconnector()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(t,e){return this.on(this.eventFormatter.format(t),e),this}stopListening(t){const e=this.eventFormatter.format(t);return this.socket.removeListener(e),delete this.events[e],this}on(t,e){let i=(t,i)=>{this.name==t&&e(i)};this.socket.on(t,i),this.bind(t,i)}configureReconnector(){const t=()=>{this.subscribe()};this.socket.on("reconnect",t),this.bind("reconnect",t)}bind(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)}unbind(){Object.keys(this.events).forEach(t=>{this.events[t].forEach(e=>{this.socket.removeListener(t,e)}),delete this.events[t]})}}class x extends b{whisper(t,e){return this.socket.emit("client event",{channel:this.name,event:`client-${t}`,data:e}),this}}class w extends x{here(t){return this.on("presence:subscribed",e=>{t(e.map(t=>t.user_info))}),this}joining(t){return this.on("presence:joining",e=>t(e.user_info)),this}leaving(t){return this.on("presence:leaving",e=>t(e.user_info)),this}}class S extends f{subscribe(){}unsubscribe(){}listen(t,e){return this}stopListening(t){return this}on(t,e){return this}}class T extends S{whisper(t,e){return this}}class k extends S{here(t){return this}joining(t){return this}leaving(t){return this}whisper(t,e){return this}}class C extends p{constructor(){super(...arguments),this.channels={}}connect(){void 0!==this.options.client?this.pusher=this.options.client:this.pusher=new Pusher(this.options.key,this.options)}listen(t,e,i){return this.channel(t).listen(e,i)}channel(t){return this.channels[t]||(this.channels[t]=new m(this.pusher,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new v(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}encryptedPrivateChannel(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new y(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new _(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"presence-"+t].forEach((t,e)=>{this.leaveChannel(t)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class E extends p{constructor(){super(...arguments),this.channels={}}connect(){let t=this.getSocketIO();return this.socket=t(this.options.host,this.options),this.socket}getSocketIO(){if(void 0!==this.options.client)return this.options.client;if("undefined"!=typeof io)return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(t,e,i){return this.channel(t).listen(e,i)}channel(t){return this.channels[t]||(this.channels[t]=new b(this.socket,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new x(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new w(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"presence-"+t].forEach(t=>{this.leaveChannel(t)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class O extends p{constructor(){super(...arguments),this.channels={}}connect(){}listen(t,e,i){return new S}channel(t){return new S}privateChannel(t){return new T}presenceChannel(t){return new k}leave(t){}leaveChannel(t){}socketId(){return"fake-socket-id"}disconnect(){}}var I=class{constructor(t){this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(t){return this.connector.channel(t)}connect(){"pusher"==this.options.broadcaster?this.connector=new C(this.options):"socket.io"==this.options.broadcaster?this.connector=new E(this.options):"null"==this.options.broadcaster?this.connector=new O(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}disconnect(){this.connector.disconnect()}join(t){return this.connector.presenceChannel(t)}leave(t){this.connector.leave(t)}leaveChannel(t){this.connector.leaveChannel(t)}listen(t,e,i){return this.connector.listen(t,e,i)}private(t){return this.connector.privateChannel(t)}encryptedPrivate(t){return this.connector.encryptedPrivateChannel(t)}socketId(){return this.connector.socketId()}registerInterceptors(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup()}registerVueRequestInterceptor(){Vue.http.interceptors.push((t,e)=>{this.socketId()&&t.headers.set("X-Socket-ID",this.socketId()),e()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(t=>(this.socketId()&&(t.headers["X-Socket-Id"]=this.socketId()),t))}registerjQueryAjaxSetup(){void 0!==jQuery.ajax&&jQuery.ajaxPrefilter((t,e,i)=>{this.socketId()&&i.setRequestHeader("X-Socket-Id",this.socketId())})}};i("eC5B");function P(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var M=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.isConnected=!1,this.game.vueInstance.socketConnected=!1,this.vueInstance=app.__vue__.$children[0],this.Echo=new I({broadcaster:"pusher",key:"3c159913-6314-4ada-8e96-6a174e849d5c",wsHost:window.location.hostname,wsPort:6001,disableStats:!0,encrypted:"https:"==window.location.protocol,enabledTransports:["ws","wss"]}),this.Echo.connector.pusher.connection.bind("connected",(function(){i.isConnected=!0,i.game.vueInstance.socketConnected=!0})),this.Echo.connector.pusher.connection.bind("error",(function(){i.isConnected=!1,i.game.vueInstance.socketConnected=!1})),this.Echo.connector.pusher.connection.bind("connecting",(function(){i.isConnected=!1,i.game.vueInstance.socketConnected=!1})),this.Echo.connector.pusher.connection.bind("disconnected",(function(){i.isConnected=!1,i.game.vueInstance.socketConnected=!1})),this.Echo.connector.pusher.connection.bind("unavailable",(function(){i.isConnected=!1,i.game.vueInstance.socketConnected=!1})),this.Echo.connector.pusher.connection.bind("failed",(function(){i.isConnected=!1,i.game.vueInstance.socketConnected=!1})),this.Echo.private("game."+this.vueInstance.mapID).listen("PlayerPositionUpdated",(function(t){i.updatePlayerPosition(t)})).listen("PlayerChangedMap",(function(t){i.removePlayerFromMap(t)})).listen("PlayerImageUpdated",(function(t){i.updatePlayerImages(t)})).listen("MapWasReset",(function(t){i.redirectUser(t)})).listen("MapUpdated",(function(t){i.updateMapData(t)})).listen("MapCellUpdated",(function(t){i.updateMapCell(t)})).listen("PlayerHasEaten",(function(t){var e=i.game.sprites.players.find((function(e){return e.id==t.avatar_id}));if(null!=e){var n=i.game.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(null!=n){var r=Math.abs(n.gridX-e.gridX)+Math.abs(n.gridY-e.gridY);if(!(n.getHearingRange()<r)){var s=i.game.customPlaylists.find((function(t){return"AC_eating"==t.name}));if(null!=s){var o=Math.floor(Math.random()*s.sounds.length);s.sounds[o].play()}}}}})).listen("ShowPlayerModifier",(function(t){var e=i.game.sprites.players.find((function(e){return e.id==t.avatar_id}));null!=e&&e.notice.showModifierSprites(t.modifiers)})).listen("ChatMessageReceived",(function(t){i.pushNewMessage(t)})).listen("PlayerTyping",(function(t){i.showPlayerAsTyping(t)})).listen("PlayerActioning",(function(t){i.doPlayerAction(t)})).listen("PlayerDied",(function(t){i.game.killPlayer(t.avatar_id,t.skeleton_id)})).listen("SkeletonRemoved",(function(t){i.game.removeSkeleton(t.x,t.y)})).listen("PlayerStateChanged",(function(t){var e=i.game.sprites.players.find((function(e){return e.id==t.avatar_id}));void 0!==e&&(null!=t.is_sleeping&&e.setSleeping(t.is_sleeping),null!=t.is_washing&&e.setWashing(t.is_washing))})),this.Echo.private("user."+this.vueInstance.userID).listen("UserGainedRolls",(function(t){i.game.showRollsNotification()})),this.Echo.private("global").listen("ModifiersUpdated",(function(t){i.game.vueInstance.updateModifiers()}))}var e,i,n;return e=t,(i=[{key:"disconnect",value:function(){this.Echo.disconnect()}},{key:"redirectUser",value:function(t){alert(t.message),location.href="/"}},{key:"updatePlayerPosition",value:function(t){null!=this.game&&null!=this.game.updatePlayerPosition&&this.game.updatePlayerPosition(t.position)}},{key:"doPlayerAction",value:function(t){if(null!=this.game){var e=this.game.sprites.players.find((function(e){return e.id==t.avatar_id}));null!=e&&(e.turnPlayer(t.direction,!0),1==t.basic?e.basicAction():e.action())}}},{key:"removePlayerFromMap",value:function(t){null!=this.game&&null!=this.game.removePlayer&&this.game.removePlayer(t.position.avatar_id,t.position.teleport_x,t.position.teleport_y)}},{key:"updatePlayerImages",value:function(t){null!=this.game&&null!=this.game.updatePlayerSprites&&(this.game.updatePlayerSprites(t.player),null!=this.vueInstance.selected_avatar&&this.vueInstance.selected_avatar.id==t.player.id&&(this.vueInstance.selected_avatar.file=t.player.avatar_file),1==t.player.has_aged&&1==this.vueInstance.inspectOpen&&(this.vueInstance.inspectOpen=!1,this.vueInstance.statsOverviewOpen=!1,this.vueInstance.slotsOverviewOpen=!1,this.game.menuOpen=!1,this.game.recenterCamera()))}},{key:"updateMapData",value:function(t){null!=this.game&&null!=this.game.mapData&&(this.game.mapData.weather_id=t.weather_id,this.game.mapData.season=t.season)}},{key:"updateMapCell",value:function(t){if(null!=this.game){var e=this.game.cells.find((function(e){return e.id==t.cell.id}));if(null!=e&&(e.checkChanges(t.cell),null!=t.cell.changed_by)){var i=this.game.sprites.players.find((function(e){return e.id==t.cell.changed_by}));if(null!=i&&(i.notice.showBuilding(),Math.abs(i.gridX-e.x)+Math.abs(i.gridY-e.y)<2)){i.checkFacingDirection(e.x,e.y);var n=e.x===i.gridX&&e.y===i.gridY;i.basicAction(!1,n),this.game.playRandomBuilderSound()}}}}},{key:"pushNewMessage",value:function(t){if(null!=this.game&&null!=this.game.sprites.players){var e=this.game.sprites.players.find((function(e){return e.id==t.avatar_id}));if(null!=e){e.notice.hideTyping();var i=this.game.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(null!=i){var n=Math.abs(e.gridX-i.gridX)+Math.abs(e.gridY-i.gridY);t.message.includes("!!!")&&(t.message=t.message.toUpperCase());var r=this.game.getChatRange(e,t.message);if(e.notice.showTalking(t.message.split(" ").length),!(n>r)){e.voice.play(t.message,t.message.split(" ").length);var s=Math.round(Math.random()*(this.game.sounds.chat.messages.length-1));this.game.sounds.chat.messages[s].play();var o={index:this.vueInstance.chatIndex,message:t.message,avatar_file:e.avatarSpriteFile,name:e.notice.nameText};this.vueInstance.messages.push(o),this.vueInstance.chatIndex++}}}}}},{key:"showPlayerAsTyping",value:function(t){if(null!=this.game&&null!=this.game.sprites.players){var e=this.game.sprites.players.find((function(e){return e.id==t.id}));null!=e&&null!=this.game.sprites.players.find((function(t){return 1==t.isCurrentUser}))&&e.notice.showTyping()}}}])&&P(e.prototype,i),n&&P(e,n),t}();function A(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var R=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,n;return e=t,n=[{key:"findPath",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=i.board,s=Math.abs,o=(Math.max,Math.pow,Math.sqrt,r[0].length),a=r.length,h=o*a,u=c,l=function(){};function c(t,e){return s(t.x-e.x)+s(t.y-e.y)}function d(t,e){var i=e-1,n=e+1,r=t+1,s=t-1,h=i>-1&&p(t,i,t,e),u=n<a&&p(t,n,t,e),c=r<o&&p(r,e,t,e),d=s>-1&&p(s,e,t,e),f=[];return h&&f.push({x:t,y:i}),c&&f.push({x:r,y:e}),u&&f.push({x:t,y:n}),d&&f.push({x:s,y:e}),l(h,u,c,d,i,n,r,s,f),f}function p(t,e,s,o){return null!=r[t]&&null!=r[t][e]&&i.isTileWalkable(t,e)&&(!i.hasPlayer(t,e)||n)&&i.heightDifference(s,o,t,e)<2}function f(t,e){return{Parent:t,value:e.x+e.y*o,x:e.x,y:e.y,f:0,g:0}}function g(){for(var i,n,r,s,o,a,l,c,p=f(null,{x:t[0],y:t[1]}),g=f(null,{x:e[0],y:e[1]}),m=new Array(h),v=[p],y=[],_=[];s=v.length;){for(o=h,a=-1,l=0;l<s;l++)v[l].f<o&&(o=v[l].f,a=l);if((n=v.splice(a,1)[0]).value===g.value){r=y[y.push(n)-1];do{_.push([r.x,r.y])}while(r=r.Parent);m=y=v=[],_.reverse()}else{for(l=0,c=(i=d(n.x,n.y)).length;l<c;l++)m[(r=f(n,i[l])).value]||(r.g=n.g+u(i[l],n),r.f=r.g+u(i[l],g),v.push(r),m[r.value]=!0);y.push(n)}}return _}return g()}}],(i=null)&&A(e.prototype,i),n&&A(e,n),t}();function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var F=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(D(this,t),(this instanceof t?this.constructor:void 0)===t)throw new TypeError("Cannot construct GridObject instances directly");this.gridX=0,this.gridY=0,this.gridZ=0,this.offsetX=0,this.offsetY=0,this.gridWidth=1,this.gridHeight=1,this.widthMultiplier=1,this.heightMultiplier=1,this.isMoving=!1,this.newLocation=void 0,this.oldSprite=void 0,this.sprite=void 0,this.currentPhase=0,this.phases=[],this.xAnchor=.5,this.yAnchor=.5,this.isAnimated=e,this.natureParticles=[]}var e,i,n;return e=t,(i=[{key:"getCurrentPhaseDetails",value:function(){var t=this,e=this.phases.find((function(e){return e.id==t.currentPhase}));return null!=e&&e}},{key:"hasPhases",value:function(){return!!this.phases.length}},{key:"setOffset",value:function(t,e){this.offsetX=t,this.offsetY=e}},{key:"setPosition",value:function(t,e,i,n){var r=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this.getCurrentPhaseDetails();this.sprite.x=t+this.offsetX+o.x_offset,this.sprite.y=e+this.offsetY+o.y_offset,this.gridX=i,this.gridY=n,this.sprite.gridX=i,this.sprite.gridY=n,this.gridZ=s,null!=this.stepParticle&&(this.stepParticle.setPosition(t,e,i,n,s),this.stepParticle.removeSprite(),this.stepParticle.loadSprite(this.game.tileGroup,this.game.diff)),null!=this.lightParticle&&(this.lightParticle.setPosition(t,e,i,n,s),this.lightParticle.removeSprite(),this.lightParticle.loadSprite(this.game.tileGroup,this.game.diff)),this.natureParticles.length>0&&this.natureParticles.forEach((function(o){o.setPosition(t,e,i,n,s),o.removeSprite(),o.loadSprite(r.game.tileGroup,r.game.diff)}))}},{key:"updateGridSizing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.gridWidth=t,this.gridHeight=e}},{key:"updateSizeMultiplier",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.widthMultiplier=t,this.heightMultiplier=e}},{key:"getZ",value:function(){return this.getCustomZ(this.gridX,this.gridY)}},{key:"getCustomZ",value:function(t,e){var i=t+e+this.gridZ;switch(this.game.gridRotation){case 0:break;case 90:i=Math.abs(this.game.gridMaxY-e)+t+this.gridZ;break;case 180:i=Math.abs(this.game.gridMaxX-t)+Math.abs(this.game.gridMaxY-e)+this.gridZ;break;case 270:i=Math.abs(this.game.gridMaxX-t)+e+this.gridZ}return(this.isGround||this.isTopper)&&0==this.gridZ&&i--,i+=this.getCurrentPhaseDetails().z_offset}},{key:"insertSprite",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.getCurrentPhaseDetails();this.sprite=new h.AnimatedSprite(e.textures);var i=0;if(t||(i=Math.round(Math.random()*(this.sprite.totalFrames-1))),this.isWall)this.setFrameIndex();else{this.sprite.gotoAndPlay(i);var n=Math.random()*(e.max_speed-e.min_speed+1);this.sprite.animationSpeed*=n<e.min_speed?e.min_speed:n,null!=this.currentSkew&&(0!=this.currentSkew.max_skew_x&&0!=this.currentSkew.min_skew_x&&(this.sprite.skew.x+=Math.random()*this.currentSkew.max_skew_x,this.sprite.skewNumberX=this.currentSkew.max_skew_amount_x,Math.random()>.5&&(this.sprite.skewNumberX=-this.currentSkew.max_skew_amount_x)),0!=this.currentSkew.max_skew_y&&0!=this.currentSkew.min_skew_y&&(this.sprite.skew.y+=Math.random()*this.currentSkew.max_skew_y,this.sprite.skewNumberY=this.currentSkew.max_skew_amount_y,Math.random()>.5&&(this.sprite.skewNumberY=-this.currentSkew.max_skew_amount_y)))}}},{key:"loadSprite",value:function(t,e){this.sprite.height=3*e*this.heightMultiplier,this.sprite.width=3*e*this.widthMultiplier,this.sprite.zIndex=this.getZ(),t.addChild(this.sprite),this.hasAnchor&&(this.sprite.anchor.set(this.xAnchor,this.yAnchor),this.sprite.x+=this.sprite.width*this.xAnchor,this.sprite.y+=this.sprite.height*this.yAnchor,null!=this.currentSkew&&(0!=this.currentSkew.max_skew_x&&0!=this.currentSkew.min_skew_x&&(this.sprite.skew.x+=Math.random()*this.currentSkew.max_skew_x,this.sprite.skewNumberX=this.currentSkew.max_skew_amount_x,Math.random()>.5&&(this.sprite.skewNumberX=-this.currentSkew.max_skew_amount_x)),0!=this.currentSkew.max_skew_y&&0!=this.currentSkew.min_skew_y&&(this.sprite.skew.y+=Math.random()*this.currentSkew.max_skew_y,this.sprite.skewNumberY=this.currentSkew.max_skew_amount_y,Math.random()>.5&&(this.sprite.skewNumberY=-this.currentSkew.max_skew_amount_y))))}},{key:"setAnchor",value:function(t,e){this.hasAnchor=!0,this.xAnchor=t,this.yAnchor=e}},{key:"removeSprite",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=this.sprite.parent?(this.sprite.parent.removeChild(this.sprite),t&&(this.sprite.destroy(),this.sprite=void 0)):console.log(this)}},{key:"setRotationLocation",value:function(t,e){var i=this.getCurrentPhaseDetails();t+=this.offsetX+i.x_offset,e+=this.offsetY+i.y_offset,null!=this.stepOffset&&(t+=this.stepOffset.xMoved,e+=this.stepOffset.yMoved,this.stepOffset.zMoved=0);var n=Math.abs(this.sprite.x-t)/20,r=Math.abs(this.sprite.y-e)/20;this.newLocation={x:t,y:e,startX:this.sprite.x,startY:this.sprite.y,rateX:n,rateY:r,pass:0},this.isMoving=!0}},{key:"spinRound",value:function(){var t=this;if(this.isMoving){if(this.newLocation.x==this.sprite.x&&this.newLocation.y==this.sprite.y){if(this.newLocation.pass<10)return void this.newLocation.pass++;this.sprite.zIndex=this.getZ(),null!=this.oldSprite&&(this.oldSprite.zIndex=this.getZ()),null!=this.stepParticle&&(this.stepParticle.sprite.zIndex=this.stepParticle.getZ()),null!=this.lightParticle&&(this.lightParticle.sprite.zIndex=this.lightParticle.getZ()),this.natureParticles.length>0&&this.natureParticles.forEach((function(t){t.sprite.zIndex=t.getZ()})),this.isMoving=!1}Math.abs(this.newLocation.x-this.sprite.x)<=this.newLocation.rateX+1&&(this.sprite.x=this.newLocation.x),this.newLocation.x>this.sprite.x&&(this.sprite.x+=this.newLocation.rateX),this.newLocation.x<this.sprite.x&&(this.sprite.x-=this.newLocation.rateX),Math.abs(this.newLocation.y-this.sprite.y)<=this.newLocation.rateY+1&&(this.sprite.y=this.newLocation.y),this.newLocation.y>this.sprite.y&&(this.sprite.y+=this.newLocation.rateY),this.newLocation.y<this.sprite.y&&(this.sprite.y-=this.newLocation.rateY),null!=this.oldSprite&&(this.oldSprite.x=this.sprite.x,this.oldSprite.y=this.sprite.y),null!=this.stepParticle&&(this.stepParticle.sprite.x=this.sprite.x-this.offsetX+this.stepParticle.offsetX,this.stepParticle.sprite.y=this.sprite.y-this.offsetY+this.stepParticle.offsetY,this.hasAnchor&&(this.stepParticle.sprite.x-=this.sprite.width*this.xAnchor,this.stepParticle.sprite.y-=this.sprite.height*this.yAnchor)),null!=this.lightParticle&&(this.lightParticle.sprite.x=this.sprite.x-this.offsetX+this.lightParticle.offsetX,this.lightParticle.sprite.y=this.sprite.y-this.offsetY+this.lightParticle.offsetY,this.hasAnchor&&(this.lightParticle.sprite.x-=this.sprite.width*this.xAnchor,this.lightParticle.sprite.y-=this.sprite.height*this.yAnchor)),this.natureParticles.length>0&&this.natureParticles.forEach((function(e){e.sprite.x=t.sprite.x-t.offsetX+e.offsetX,e.sprite.y=t.sprite.y-t.offsetY+e.offsetY,t.hasAnchor&&(e.sprite.x-=t.sprite.width*t.xAnchor,e.sprite.y-=t.sprite.height*t.yAnchor),e.hasAnchor&&(e.sprite.x+=e.sprite.width*e.xAnchor,e.sprite.y+=e.sprite.height*e.yAnchor)})),this.newLocation.pass++,10==this.newLocation.pass&&(this.sprite.zIndex=this.getZ(),null!=this.oldSprite&&(this.oldSprite.zIndex=this.getZ()),null!=this.stepParticle&&(this.stepParticle.sprite.zIndex=this.stepParticle.getZ()),null!=this.lightParticle&&(this.lightParticle.sprite.zIndex=this.lightParticle.getZ()),this.natureParticles.length>0&&this.natureParticles.forEach((function(t){t.sprite.zIndex=t.getZ()})))}}}])&&L(e.prototype,i),n&&L(e,n),t}();function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function j(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(o,t);var e,i,n,r,s=(e=o,function(){var t,i=X(e);if(z()){var n=X(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return j(this,t)});function o(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];B(this,o),(e=s.call(this,l)).game=r,e.isFlipped=c,e.texture=t,e.poses=i,e.loadPhases(!0,u,c);var d=e.game.getCurrentPoseState(),p=e.game.getCurrentPoseState(!0);1==h&&(d=p),null!=a&&(d=p=a);var f=e.phases.find((function(t){return t.type==d}));return(null!=f||null!=(f=e.phases.find((function(t){return t.type==p}))))&&(e.currentPhase=f.id),e.hasAnchor=null!=n.normal,e.skews=n,e.currentSkew=e.skews.normal,e.insertSprite(),e}return i=o,(n=[{key:"loadPhases",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.phases=[];var n=this.poses,r=0;1==e&&Math.random()>.5&&(r=12,this.isFlipped=!0),1==i&&(r=12);for(var s=0;s<n.length;s++){for(var o=[],a=0;a<n[s].frames.length;a++){var u=n[s].frames[a].height,l=n[s].frames[a].width,c=n[s].frames[a].image_x,d=n[s].frames[a].image_y,p=n[s].frames[a].time,f=n[s].frames[a].x_rotation;r>0&&(f=r),o.push({texture:new h.Texture(this.texture,new h.Rectangle(c,d,l,u),null,null,f),time:p})}var g={id:n[s].id,name:n[s].name,type:n[s].type,min_speed:n[s].min_speed,max_speed:n[s].max_speed,x_offset:n[s].x_offset,y_offset:n[s].y_offset,z_offset:n[s].z_offset,textures:o};this.phases.push(g)}this.phases.length||this.addEmptyPhase(),t&&(this.currentPhase=this.phases[0].id)}},{key:"addEmptyPhase",value:function(){this.phases=[{id:0,name:"Standard",x_offset:0,y_offset:0,z_offset:0,type:"spring_pose_id",min_speed:1,max_speed:1,textures:[{texture:new h.Texture(this.texture,new h.Rectangle(0,0,this.texture.width,this.texture.height)),time:99999}]}]}}])&&U(i.prototype,n),r&&U(i,r),o}(F),q=i("vDqi"),W=i.n(q);function V(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var G=function(){function t(e,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e;var r={fontFamily:"Open Sans, Arial",fontStyle:"normal",fontWeight:"400",fontSize:18,fill:this.player.isCurrentUser?"0xF1C40F":"0xFFFFFF",width:100,stroke:"0x000000",strokeThickness:4};this.nameText=i,this.name=new h.Text(i,r),this.player.game.tileGroup.addChild(this.name),this.typingTimer=0,this.talkingTimer=0,this.buildingTimer=0;for(var s=[],o=0;o<7;o++)s.push({texture:new h.Texture(this.player.game.resourceList.typing.texture,new h.Rectangle(128*o,0,128,140)),time:67});this.typingSprite=new h.AnimatedSprite(s),this.typingSprite.height=2*this.player.game.diff,this.typingSprite.width=2*this.player.game.diff,this.typingSprite.visible=!1,this.player.game.tileGroup.addChild(this.typingSprite);for(var a=[],u=0;u<11;u++)a.push({texture:new h.Texture(this.player.game.resourceList.talking.texture,new h.Rectangle(128*u,0,128,140)),time:67});this.talkingSprite=new h.AnimatedSprite(a),this.talkingSprite.height=2*this.player.game.diff,this.talkingSprite.width=2*this.player.game.diff,this.talkingSprite.visible=!1,this.player.game.tileGroup.addChild(this.talkingSprite);for(var l=[],c=0;c<21;c++){var d=100;switch(c){case 0:case 4:case 11:case 12:d=167;break;case 5:case 6:case 7:case 9:case 15:case 16:case 17:case 19:d=33;break;case 8:case 10:case 18:case 20:d=67}l.push({texture:new h.Texture(this.player.game.resourceList.building.texture,new h.Rectangle(128*c,0,128,140)),time:d})}this.buildingSprite=new h.AnimatedSprite(l),this.buildingSprite.height=3*this.player.game.diff,this.buildingSprite.width=3*this.player.game.diff,this.buildingSprite.visible=!1,this.player.game.tileGroup.addChild(this.buildingSprite);for(var p=[],f=0;f<17;f++){var g=83;switch(f){case 0:case 13:case 14:g=50;break;case 15:case 16:g=33;break;case 1:case 2:case 11:case 12:g=67}p.push({texture:new h.Texture(this.player.game.resourceList.sleeping.texture,new h.Rectangle(200*f,0,200,200)),time:g})}this.sleepingSprite1=new h.AnimatedSprite(p),this.sleepingSprite1.height=3*this.player.game.diff,this.sleepingSprite1.width=3*this.player.game.diff,this.sleepingSprite1.visible=!1,this.player.game.tileGroup.addChild(this.sleepingSprite1),this.sleepingSprite2=new h.AnimatedSprite(p),this.sleepingSprite2.height=3*this.player.game.diff,this.sleepingSprite2.width=3*this.player.game.diff,this.sleepingSprite2.visible=!1,this.player.game.tileGroup.addChild(this.sleepingSprite2),this.sleepingSprite3=new h.AnimatedSprite(p),this.sleepingSprite3.height=3*this.player.game.diff,this.sleepingSprite3.width=3*this.player.game.diff,this.sleepingSprite3.visible=!1,this.player.game.tileGroup.addChild(this.sleepingSprite3),this.sleepingOffsets=[{x:0,y:0},{x:-15,y:0},{x:15,y:0}],this.sleepingSprite1.onFrameChange=function(){6===n.sleepingSprite1.currentFrame&&!1===n.sleepingSprite2.playing&&(n.sleepingSprite2.visible=!0,n.sleepingSprite2.play()),12===n.sleepingSprite1.currentFrame&&!1===n.sleepingSprite3.playing&&(n.sleepingSprite3.visible=!0,n.sleepingSprite3.play())},this.sleepingSprite1.onLoop=function(){n.sleepingOffsets[0].x=Math.round(5*Math.random()),n.sleepingOffsets[0].y=Math.round(5*Math.random()),Math.random()>.5&&(n.sleepingOffsets[0].x=-n.sleepingOffsets[0].x),Math.random()>.5&&(n.sleepingOffsets[0].y=-n.sleepingOffsets[0].y)},this.sleepingSprite2.onLoop=function(){n.sleepingOffsets[1].x=-10-Math.round(10*Math.random()),n.sleepingOffsets[1].y=-Math.round(10*Math.random())},this.sleepingSprite3.onLoop=function(){n.sleepingOffsets[2].x=10+Math.round(10*Math.random()),n.sleepingOffsets[2].y=-Math.round(10*Math.random())};for(var m=[],v=0;v<17;v++)m.push({texture:new h.Texture(this.player.game.resourceList.bubble1.texture,new h.Rectangle(200*v,0,200,200)),time:67});this.bubbleSprite1=new h.AnimatedSprite(m),this.bubbleSprite1.height=3*this.player.game.diff,this.bubbleSprite1.width=3*this.player.game.diff,this.bubbleSprite1.anchor.x=.5,this.bubbleSprite1.visible=!1,this.player.game.tileGroup.addChild(this.bubbleSprite1),m=[];for(var y=0;y<17;y++)m.push({texture:new h.Texture(this.player.game.resourceList.bubble2.texture,new h.Rectangle(200*y,0,200,200)),time:67});this.bubbleSprite2=new h.AnimatedSprite(m),this.bubbleSprite2.height=3*this.player.game.diff,this.bubbleSprite2.width=3*this.player.game.diff,this.bubbleSprite2.anchor.x=.5,this.bubbleSprite2.visible=!1,this.player.game.tileGroup.addChild(this.bubbleSprite2),m=[];for(var _=0;_<17;_++)m.push({texture:new h.Texture(this.player.game.resourceList.bubble3.texture,new h.Rectangle(200*_,0,200,200)),time:67});this.bubbleSprite3=new h.AnimatedSprite(m),this.bubbleSprite3.height=3*this.player.game.diff,this.bubbleSprite3.width=3*this.player.game.diff,this.bubbleSprite3.anchor.x=.5,this.bubbleSprite3.visible=!1,this.player.game.tileGroup.addChild(this.bubbleSprite3),m=[];for(var b=0;b<17;b++)m.push({texture:new h.Texture(this.player.game.resourceList.bubble4.texture,new h.Rectangle(200*b,0,200,200)),time:67});this.bubbleSprite4=new h.AnimatedSprite(m),this.bubbleSprite4.height=3*this.player.game.diff,this.bubbleSprite4.width=3*this.player.game.diff,this.bubbleSprite4.anchor.x=.5,this.bubbleSprite4.visible=!1,this.player.game.tileGroup.addChild(this.bubbleSprite4),m=[];for(var x=0;x<17;x++)m.push({texture:new h.Texture(this.player.game.resourceList.bubble5.texture,new h.Rectangle(200*x,0,200,200)),time:67});this.bubbleSprite5=new h.AnimatedSprite(m),this.bubbleSprite5.height=3*this.player.game.diff,this.bubbleSprite5.width=3*this.player.game.diff,this.bubbleSprite5.anchor.x=.5,this.bubbleSprite5.visible=!1,this.player.game.tileGroup.addChild(this.bubbleSprite5),m=[];for(var w=0;w<17;w++)m.push({texture:new h.Texture(this.player.game.resourceList.bubble6.texture,new h.Rectangle(200*w,0,200,200)),time:67});this.bubbleSprite6=new h.AnimatedSprite(m),this.bubbleSprite6.height=3*this.player.game.diff,this.bubbleSprite6.width=3*this.player.game.diff,this.bubbleSprite6.anchor.x=.5,this.bubbleSprite6.visible=!1,this.player.game.tileGroup.addChild(this.bubbleSprite6),m=[];for(var S=0;S<17;S++)m.push({texture:new h.Texture(this.player.game.resourceList.bubble7.texture,new h.Rectangle(200*S,0,200,200)),time:67});for(var T in this.bubbleSprite7=new h.AnimatedSprite(m),this.bubbleSprite7.height=3*this.player.game.diff,this.bubbleSprite7.width=3*this.player.game.diff,this.bubbleSprite7.anchor.x=.5,this.bubbleSprite7.visible=!1,this.player.game.tileGroup.addChild(this.bubbleSprite7),this.bubbleOffsets=[{x:0,y:0},{x:-15,y:0},{x:15,y:0},{x:5,y:-5},{x:-5,y:5},{x:0,y:-15},{x:0,y:15}],this.bubbleSprite1.onFrameChange=function(){3===n.bubbleSprite1.currentFrame&&!1===n.bubbleSprite2.playing&&(n.bubbleSprite2.visible=!0,n.bubbleSprite2.play()),6===n.bubbleSprite1.currentFrame&&!1===n.bubbleSprite3.playing&&(n.bubbleSprite3.visible=!0,n.bubbleSprite3.play()),9===n.bubbleSprite1.currentFrame&&!1===n.bubbleSprite4.playing&&(n.bubbleSprite4.visible=!0,n.bubbleSprite4.play()),11===n.bubbleSprite1.currentFrame&&!1===n.bubbleSprite5.playing&&(n.bubbleSprite5.visible=!0,n.bubbleSprite5.play()),13===n.bubbleSprite1.currentFrame&&!1===n.bubbleSprite6.playing&&(n.bubbleSprite6.visible=!0,n.bubbleSprite6.play()),16===n.bubbleSprite1.currentFrame&&!1===n.bubbleSprite7.playing&&(n.bubbleSprite7.visible=!0,n.bubbleSprite7.play())},this.bubbleSprite1.onLoop=function(){!1===n.player.isWashing&&(n.bubbleSprite1.stop(),n.bubbleSprite1.visible=!1),n.bubbleOffsets[0].x=Math.round(10*Math.random()),n.bubbleOffsets[0].y=Math.round(10*Math.random()),Math.random()>.5&&(n.bubbleOffsets[0].x=-n.bubbleOffsets[0].x),Math.random()>.5&&(n.bubbleOffsets[0].y=-n.bubbleOffsets[0].y),Math.random()>.5&&(n.bubbleSprite1.scale.x*=-1),n.bubbleOffsets[0].x+=n.bubbleSprite1.width/2},this.bubbleSprite2.onLoop=function(){!1===n.player.isWashing&&(n.bubbleSprite2.stop(),n.bubbleSprite2.visible=!1),n.bubbleOffsets[1].x=-15-Math.round(15*Math.random()),n.bubbleOffsets[1].y=-Math.round(15*Math.random()),Math.random()>.5&&(n.bubbleSprite2.scale.x*=-1),n.bubbleOffsets[1].x+=n.bubbleSprite2.width/2},this.bubbleSprite3.onLoop=function(){!1===n.player.isWashing&&(n.bubbleSprite3.stop(),n.bubbleSprite3.visible=!1),n.bubbleOffsets[2].x=15+Math.round(15*Math.random()),n.bubbleOffsets[2].y=-Math.round(15*Math.random()),Math.random()>.5&&(n.bubbleSprite3.scale.x*=-1),n.bubbleOffsets[2].x+=n.bubbleSprite3.width/2},this.bubbleSprite4.onLoop=function(){!1===n.player.isWashing&&(n.bubbleSprite4.stop(),n.bubbleSprite4.visible=!1),n.bubbleOffsets[3].x=Math.round(10*Math.random()),n.bubbleOffsets[3].y=-Math.round(10*Math.random()),Math.random()>.5&&(n.bubbleSprite4.scale.x*=-1),n.bubbleOffsets[3].x+=n.bubbleSprite4.width/2},this.bubbleSprite5.onLoop=function(){!1===n.player.isWashing&&(n.bubbleSprite5.stop(),n.bubbleSprite5.visible=!1),n.bubbleOffsets[4].x=-Math.round(10*Math.random()),n.bubbleOffsets[4].y=Math.round(10*Math.random()),Math.random()>.5&&(n.bubbleSprite5.scale.x*=-1),n.bubbleOffsets[4].x+=n.bubbleSprite5.width/2},this.bubbleSprite6.onLoop=function(){!1===n.player.isWashing&&(n.bubbleSprite6.stop(),n.bubbleSprite6.visible=!1),n.bubbleOffsets[5].x=Math.round(6*Math.random()),n.bubbleOffsets[5].y=-Math.round(10*Math.random()),Math.random()>.5&&(n.bubbleSprite6.scale.x*=-1),n.bubbleOffsets[5].x+=n.bubbleSprite6.width/2},this.bubbleSprite7.onLoop=function(){!1===n.player.isWashing&&(n.bubbleSprite7.stop(),n.bubbleSprite7.visible=!1),n.bubbleOffsets[6].x=Math.round(6*Math.random()),n.bubbleOffsets[6].y=Math.round(10*Math.random()),Math.random()>.5&&(n.bubbleSprite7.scale.x*=-1),n.bubbleOffsets[6].x+=n.bubbleSprite7.width/2},this.modifierSprites={bleed:{sprite:new h.Sprite(this.player.game.resourceList.bleedModifier.texture),timer:0},hunger:{sprite:new h.Sprite(this.player.game.resourceList.hungerModifier.texture),timer:0},thirst:{sprite:new h.Sprite(this.player.game.resourceList.thirstModifier.texture),timer:0},hygiene:{sprite:new h.Sprite(this.player.game.resourceList.hygieneModifier.texture),timer:0},medicine:{sprite:new h.Sprite(this.player.game.resourceList.medicineModifier.texture),timer:0},infection:{sprite:new h.Sprite(this.player.game.resourceList.infectionModifier.texture),timer:0},temperature:{sprite:new h.Sprite(this.player.game.resourceList.temperatureModifier.texture),timer:0},constitution:{sprite:new h.Sprite(this.player.game.resourceList.constitutionModifier.texture),timer:0},joy:{sprite:new h.Sprite(this.player.game.resourceList.joyModifier.texture),timer:0},pain:{sprite:new h.Sprite(this.player.game.resourceList.painModifier.texture),timer:0},rest:{sprite:new h.Sprite(this.player.game.resourceList.restModifier.texture),timer:0},social:{sprite:new h.Sprite(this.player.game.resourceList.socialModifier.texture),timer:0},beauty:{sprite:new h.Sprite(this.player.game.resourceList.beautyModifier.texture),timer:0},comfort:{sprite:new h.Sprite(this.player.game.resourceList.comfortModifier.texture),timer:0},bravery:{sprite:new h.Sprite(this.player.game.resourceList.braveryModifier.texture),timer:0},self_control:{sprite:new h.Sprite(this.player.game.resourceList.self_controlModifier.texture),timer:0}},this.modifierSprites){this.player.game.tileGroup.addChild(this.modifierSprites[T].sprite),this.modifierSprites[T].sprite.visible=!1;var k={fontFamily:"Open Sans, Arial",fontStyle:"normal",fontWeight:"400",fontSize:18,fill:"0x00FF00",width:100,stroke:"0x000000",strokeThickness:4},C=new h.Text("+1",k);this.modifierSprites[T].positiveValue=C,k.fill="0xFF0012",C=new h.Text("-1",k),this.modifierSprites[T].negativeValue=C,this.player.game.tileGroup.addChild(this.modifierSprites[T].positiveValue),this.player.game.tileGroup.addChild(this.modifierSprites[T].negativeValue),this.modifierSprites[T].positiveValue.visible=!1,this.modifierSprites[T].negativeValue.visible=!1,this.modifierSprites[T].turnClock=new h.Sprite(this.player.game.resourceList.modifierClock.texture),k.fill="0xFFFFFF",k.fontSize=14,C=new h.Text("x1",k),this.modifierSprites[T].turnValue=C,this.player.game.tileGroup.addChild(this.modifierSprites[T].turnClock),this.player.game.tileGroup.addChild(this.modifierSprites[T].turnValue),this.modifierSprites[T].turnClock.visible=!1,this.modifierSprites[T].turnValue.visible=!1}}var e,i,n;return e=t,(i=[{key:"tick",value:function(){if(void 0!==this.player.sprite&&null!=this.player.sprite){this.typingTimer>0&&this.typingTimer--,this.typingTimer<=0&&this.typingSprite.visible&&this.hideTyping(),this.talkingTimer>0&&this.talkingTimer--,this.talkingTimer<=0&&this.talkingSprite.visible&&this.hideTalking(),this.buildingTimer>0&&this.buildingTimer--,this.buildingTimer<=0&&this.buildingSprite.visible&&this.hideBuilding();var t=0;try{t=.4*this.player.sprite.height}catch(t){return}for(var e in this.name.visible&&(t-=.1*this.player.sprite.height,this.name.x=this.player.sprite.x+this.player.sprite.width/2-this.name.width/2,this.name.y=this.player.sprite.y-t,t+=.3*this.player.sprite.height,this.name.tint=this.player.sprite.tint,this.name.zIndex=this.player.sprite.zIndex),this.typingSprite.visible&&(t+=.2*this.player.sprite.height,this.typingSprite.x=this.player.sprite.x+this.player.sprite.width/2-this.typingSprite.width/2,this.typingSprite.y=this.player.sprite.y-t,t-=.2*this.player.sprite.height,this.typingSprite.tint=this.player.sprite.tint,this.typingSprite.zIndex=this.player.sprite.zIndex),this.talkingSprite.visible&&(t+=.2*this.player.sprite.height,this.talkingSprite.x=this.player.sprite.x+this.player.sprite.width/2-this.talkingSprite.width/2,this.talkingSprite.y=this.player.sprite.y-t,t-=.2*this.player.sprite.height,this.talkingSprite.tint=this.player.sprite.tint,this.talkingSprite.zIndex=this.player.sprite.zIndex),this.buildingSprite.visible&&((this.talkingSprite.visible||this.typingSprite.visible)&&(t+=.3*this.player.sprite.height),this.buildingSprite.x=this.player.sprite.x+this.player.sprite.width/2-this.buildingSprite.width/2,this.buildingSprite.y=this.player.sprite.y-t,this.buildingSprite.tint=this.player.sprite.tint,this.buildingSprite.zIndex=this.player.sprite.zIndex),!0===this.player.isSleepingState()&&!1===this.sleepingSprite1.visible&&(this.sleepingSprite1.visible=!0,this.sleepingSprite1.play()),!1===this.player.isSleepingState()&&!0===this.sleepingSprite1.visible&&(this.sleepingSprite1.visible=!1,this.sleepingSprite2.visible=!1,this.sleepingSprite3.visible=!1,this.sleepingSprite1.stop(),this.sleepingSprite2.stop(),this.sleepingSprite3.stop()),!0===this.player.isWashing&&!1===this.bubbleSprite1.visible&&(this.bubbleSprite1.visible=!0,this.bubbleSprite1.play()),!0===this.player.isWashing&&(this.bubbleSprite1.x=this.player.sprite.x+this.bubbleOffsets[0].x,this.bubbleSprite1.y=this.player.sprite.y+this.bubbleOffsets[0].y,this.bubbleSprite2.x=this.player.sprite.x+this.bubbleOffsets[1].x,this.bubbleSprite2.y=this.player.sprite.y+this.bubbleOffsets[1].y,this.bubbleSprite3.x=this.player.sprite.x+this.bubbleOffsets[2].x,this.bubbleSprite3.y=this.player.sprite.y+this.bubbleOffsets[2].y,this.bubbleSprite4.x=this.player.sprite.x+this.bubbleOffsets[3].x,this.bubbleSprite4.y=this.player.sprite.y+this.bubbleOffsets[3].y,this.bubbleSprite5.x=this.player.sprite.x+this.bubbleOffsets[4].x,this.bubbleSprite5.y=this.player.sprite.y+this.bubbleOffsets[4].y,this.bubbleSprite6.x=this.player.sprite.x+this.bubbleOffsets[5].x,this.bubbleSprite6.y=this.player.sprite.y+this.bubbleOffsets[5].y,this.bubbleSprite7.x=this.player.sprite.x+this.bubbleOffsets[6].x,this.bubbleSprite7.y=this.player.sprite.y+this.bubbleOffsets[6].y,this.bubbleSprite1.tint=this.player.sprite.tint,this.bubbleSprite1.zIndex=this.player.sprite.zIndex+.4,this.bubbleSprite2.tint=this.player.sprite.tint,this.bubbleSprite2.zIndex=this.player.sprite.zIndex+.4,this.bubbleSprite3.tint=this.player.sprite.tint,this.bubbleSprite3.zIndex=this.player.sprite.zIndex+.4,this.bubbleSprite4.tint=this.player.sprite.tint,this.bubbleSprite4.zIndex=this.player.sprite.zIndex+.4,this.bubbleSprite5.tint=this.player.sprite.tint,this.bubbleSprite5.zIndex=this.player.sprite.zIndex+.4,this.bubbleSprite6.tint=this.player.sprite.tint,this.bubbleSprite6.zIndex=this.player.sprite.zIndex+.4,this.bubbleSprite7.tint=this.player.sprite.tint,this.bubbleSprite7.zIndex=this.player.sprite.zIndex+.4),this.sleepingSprite1.visible&&(this.sleepingSprite1.x=this.player.sprite.x+this.player.sprite.width/2-this.sleepingSprite1.width/2+this.sleepingOffsets[0].x-5,this.sleepingSprite1.y=this.player.sprite.y+this.sleepingOffsets[0].y-5,this.sleepingSprite2.x=this.player.sprite.x+this.player.sprite.width/2-this.sleepingSprite1.width/2+this.sleepingOffsets[1].x-5,this.sleepingSprite2.y=this.player.sprite.y+this.sleepingOffsets[1].y-5,this.sleepingSprite3.x=this.player.sprite.x+this.player.sprite.width/2-this.sleepingSprite1.width/2+this.sleepingOffsets[2].x-5,this.sleepingSprite3.y=this.player.sprite.y+this.sleepingOffsets[2].y-5,this.sleepingSprite1.tint=this.player.sprite.tint,this.sleepingSprite1.zIndex=this.player.sprite.zIndex,this.sleepingSprite2.tint=this.player.sprite.tint,this.sleepingSprite2.zIndex=this.player.sprite.zIndex,this.sleepingSprite3.tint=this.player.sprite.tint,this.sleepingSprite3.zIndex=this.player.sprite.zIndex),t=.4*this.player.sprite.height+this.name.height,this.modifierSprites)this.modifierSprites[e].sprite.y=this.player.sprite.y-t,this.modifierSprites[e].sprite.x=this.player.sprite.x+this.player.sprite.width/2-this.modifierSprites[e].sprite.width/2,this.modifierSprites[e].positiveValue.y=this.modifierSprites[e].sprite.y+4,this.modifierSprites[e].positiveValue.x=this.modifierSprites[e].sprite.x+(this.modifierSprites[e].sprite.width-this.modifierSprites[e].positiveValue.width)-4,this.modifierSprites[e].negativeValue.y=this.modifierSprites[e].sprite.y+4,this.modifierSprites[e].negativeValue.x=this.modifierSprites[e].sprite.x+(this.modifierSprites[e].sprite.width-this.modifierSprites[e].negativeValue.width)-4,this.modifierSprites[e].turnClock.y=this.modifierSprites[e].sprite.y+this.modifierSprites[e].sprite.height-this.modifierSprites[e].turnClock.height-3,this.modifierSprites[e].turnClock.x=this.modifierSprites[e].sprite.x+this.modifierSprites[e].sprite.width-this.modifierSprites[e].turnClock.width-this.modifierSprites[e].turnValue.width-3,this.modifierSprites[e].turnValue.y=this.modifierSprites[e].turnClock.y-2,this.modifierSprites[e].turnValue.x=this.modifierSprites[e].turnClock.x+this.modifierSprites[e].turnClock.width,this.modifierSprites[e].timer>0&&this.modifierSprites[e].timer--,0===this.modifierSprites[e].timer&&(this.modifierSprites[e].sprite.visible=!1,this.modifierSprites[e].positiveValue.visible=!1,this.modifierSprites[e].negativeValue.visible=!1,this.modifierSprites[e].turnClock.visible=!1,this.modifierSprites[e].turnValue.visible=!1),this.modifierSprites[e].sprite.visible&&(t+=this.modifierSprites[e].sprite.height),this.modifierSprites[e].sprite.zIndex=this.player.sprite.zIndex+.1,this.modifierSprites[e].sprite.gridX=this.player.sprite.gridX,this.modifierSprites[e].sprite.gridY=this.player.sprite.gridY,this.modifierSprites[e].positiveValue.zIndex=this.player.sprite.zIndex+.1,this.modifierSprites[e].positiveValue.gridX=this.player.sprite.gridX,this.modifierSprites[e].positiveValue.gridY=this.player.sprite.gridY,this.modifierSprites[e].negativeValue.zIndex=this.player.sprite.zIndex+.1,this.modifierSprites[e].negativeValue.gridX=this.player.sprite.gridX,this.modifierSprites[e].negativeValue.gridY=this.player.sprite.gridY,this.modifierSprites[e].turnClock.zIndex=this.player.sprite.zIndex+.1,this.modifierSprites[e].turnClock.gridX=this.player.sprite.gridX,this.modifierSprites[e].turnClock.gridY=this.player.sprite.gridY,this.modifierSprites[e].turnValue.zIndex=this.player.sprite.zIndex+.1,this.modifierSprites[e].turnValue.gridX=this.player.sprite.gridX,this.modifierSprites[e].turnValue.gridY=this.player.sprite.gridY,this.modifierSprites[e].sprite.alpha=this.player.sprite.alpha,this.modifierSprites[e].positiveValue.alpha=this.player.sprite.alpha,this.modifierSprites[e].negativeValue.alpha=this.player.sprite.alpha,this.modifierSprites[e].turnClock.alpha=this.player.sprite.alpha,this.modifierSprites[e].turnValue.alpha=this.player.sprite.alpha;this.name.gridX=this.player.gridX,this.name.gridY=this.player.gridY,this.typingSprite.gridX=this.player.gridX,this.typingSprite.gridY=this.player.gridY,this.talkingSprite.gridX=this.player.gridX,this.talkingSprite.gridY=this.player.gridY,this.buildingSprite.gridX=this.player.gridX,this.buildingSprite.gridY=this.player.gridY,this.sleepingSprite1.gridX=this.player.gridX,this.sleepingSprite1.gridY=this.player.gridY,this.sleepingSprite2.gridX=this.player.gridX,this.sleepingSprite2.gridY=this.player.gridY,this.sleepingSprite3.gridX=this.player.gridX,this.sleepingSprite3.gridY=this.player.gridY,this.bubbleSprite1.gridX=this.player.gridX,this.bubbleSprite1.gridY=this.player.gridY,this.bubbleSprite2.gridX=this.player.gridX,this.bubbleSprite2.gridY=this.player.gridY,this.bubbleSprite3.gridX=this.player.gridX,this.bubbleSprite3.gridY=this.player.gridY,this.bubbleSprite4.gridX=this.player.gridX,this.bubbleSprite4.gridY=this.player.gridY,this.bubbleSprite5.gridX=this.player.gridX,this.bubbleSprite5.gridY=this.player.gridY,this.bubbleSprite6.gridX=this.player.gridX,this.bubbleSprite6.gridY=this.player.gridY,this.bubbleSprite7.gridX=this.player.gridX,this.bubbleSprite7.gridY=this.player.gridY,this.name.alpha=this.player.sprite.alpha,this.typingSprite.alpha=this.player.sprite.alpha,this.talkingSprite.alpha=this.player.sprite.alpha,this.buildingSprite.alpha=this.player.sprite.alpha,this.sleepingSprite1.alpha=this.player.sprite.alpha,this.sleepingSprite2.alpha=this.player.sprite.alpha,this.sleepingSprite3.alpha=this.player.sprite.alpha,this.bubbleSprite1.alpha=this.player.sprite.alpha,this.bubbleSprite2.alpha=this.player.sprite.alpha,this.bubbleSprite3.alpha=this.player.sprite.alpha,this.bubbleSprite4.alpha=this.player.sprite.alpha,this.bubbleSprite5.alpha=this.player.sprite.alpha,this.bubbleSprite6.alpha=this.player.sprite.alpha,this.bubbleSprite7.alpha=this.player.sprite.alpha}}},{key:"showBuilding",value:function(){this.hideName(),this.buildingTimer=200,this.buildingSprite.visible=!0,this.buildingSprite.play()}},{key:"hideBuilding",value:function(){this.buildingSprite.visible=!1,this.buildingSprite.stop()}},{key:"showTalking",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.talkingTimer=90,t>3&&(this.talkingTimer=225),t>9&&(this.talkingTimer=540),this.hideName(),this.talkingSprite.visible=!0,this.talkingSprite.play()}},{key:"hideTalking",value:function(){this.talkingSprite.visible=!1,this.talkingSprite.stop()}},{key:"showTyping",value:function(){this.hideName(),this.typingTimer=600,this.typingSprite.visible=!0,this.typingSprite.play()}},{key:"hideTyping",value:function(){this.typingSprite.visible=!1,this.typingSprite.stop()}},{key:"setName",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&this.hideName()}},{key:"showName",value:function(){this.name.visible=!0}},{key:"hideName",value:function(){this.name.visible=!1}},{key:"showModifierSprites",value:function(t){var e=this;t.forEach((function(t){e.modifierSprites[t.modifier].sprite.visible=!0,e.modifierSprites[t.modifier].timer=120;var i=e.player.isCurrentUser?t.amount:"???";t.amount>0&&("???"!==i&&(i="+".concat(i)),e.modifierSprites[t.modifier].positiveValue.text=i,e.modifierSprites[t.modifier].positiveValue.visible=!0,e.modifierSprites[t.modifier].negativeValue.visible=!1),t.amount<0&&("???"!==i&&(i="-".concat(i)),e.modifierSprites[t.modifier].negativeValue.text=i,e.modifierSprites[t.modifier].negativeValue.visible=!0,e.modifierSprites[t.modifier].positiveValue.visible=!1),e.modifierSprites[t.modifier].turnClock.visible=!0,e.modifierSprites[t.modifier].turnValue.text="x".concat(t.turns),e.modifierSprites[t.modifier].turnValue.visible=!0}))}}])&&V(e.prototype,i),n&&V(e,n),t}();function $(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var K=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.voice=void 0;var n=this.player.game.voices.find((function(t){return t.id==i}));null!=n&&(this.voice=n)}var e,i,n;return e=t,(i=[{key:"update",value:function(t){var e=this.player.game.voices.find((function(e){return e.id==t}));this.voice=e}},{key:"play",value:function(t,e){if(null!=this.voice){var i=[];if(t.match(/[a-z]/i)&&t.toUpperCase()===t&&this.voice.playlists.scream.sounds.forEach((function(t){i.push(t)})),t.includes("...")&&this.voice.playlists.annoyed.sounds.forEach((function(t){i.push(t)})),t.toLowerCase().startsWith("oh ")&&this.voice.playlists.surprised.sounds.forEach((function(t){i.push(t)})),t.match(/(?:ha){2,}/)&&this.voice.playlists.amused.sounds.forEach((function(t){i.push(t)})),t.includes("!")&&(this.voice.playlists.fast.sounds.forEach((function(t){i.push(t)})),t.includes("!!!")&&(i=this.voice.playlists.scream.sounds)),t.match(/^\([^\(\)]+\)$/)&&(i=this.voice.playlists.whisper.sounds),0==i.length&&(i=e<4?this.voice.playlists.short.sounds:this.voice.playlists.long.sounds),0!=i.length){var n=Math.floor(Math.random()*i.length);i[n].play()}}}}])&&$(e.prototype,i),n&&$(e,n),t}();function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tt(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?et(t):e}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(o,t);var e,i,n,r,s=(e=o,function(){var t,i=nt(e);if(it()){var n=nt(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return tt(this,t)});function o(t,e,i,n,r,a,u,l,c){var d,p=arguments.length>9&&void 0!==arguments[9]&&arguments[9];J(this,o),(d=s.call(this,t,e,i,l,n)).id=r,d.spriteFilename=void 0,d.avatarSpriteFile=void 0,d.direction=u,d.actualDirection=u,d.currentState=n,d.isCurrentUser=p,d.targetLocation=void 0,d.instantMove=!1,d.weaponType="standing_",d.stats={sight:0,hearing:5,movement:5,noise:5},d.isSleeping=!1,d.isSitting=!1,d.isKneeling=!1,d.isMoving=!1,d.isPosing=!1,d.isWalking=!1,d.isWashing=!1,d.walkSpeed=12,d.washingSound=void 0,d.washingSoundId=void 0,d.awaitingVolume=0;var f=d.game.customPlaylists.find((function(t){return"AC_washing"==t.name}));void 0!==f&&(d.washingSound=f.sounds[Math.floor(Math.random()*f.sounds.length)]),d.stackPlacement={},d.stackRemoval={},d.stackForage={},d.stackInteraction={},d.stackAction={},d.stackWash=!1,d.stackSleep=!1,d.stackExamineCell={},d.stackExamineStructure={};for(var g=[],m=0;m<10;m++)g.push({texture:new h.Texture(d.game.resourceList.player_base.texture,new h.Rectangle(128*m,0,128,128)),time:50});d.base_sprite=new h.AnimatedSprite(g),d.notice=new G(et(d),a),d.voice=new K(et(d),c);for(var v=[],y=0;y<14;y++)v.push({texture:new h.Texture(d.game.resourceList.washing.texture,new h.Rectangle(200*y,0,200,200)),time:67});return d.washingSprite=new h.AnimatedSprite(v),d.game.loadAnim(d.washingSprite,d.sprite.x,d.sprite.y-25,d.gridX,d.gridY,d.getZ()+.3),d.washingSprite.visible=!1,d}return i=o,(n=[{key:"setAvatarImage",value:function(t){this.avatarSpriteFile=t}},{key:"setWeaponType",value:function(t){this.weaponType=t}},{key:"setEquipment",value:function(t){this.equipment=t}},{key:"getBaseSprite",value:function(){return this.base_sprite}},{key:"updateSpriteFiles",value:function(t,e){this.spriteFilename=null!=t&&""!=t?t:"/img/game/FodderTest_SS.png",this.avatarSpriteFile=e,this.texture=h.Texture.from(this.spriteFilename),this.loadAvi()}},{key:"loadAvi",value:function(){var t=this;this.loadPhases(!1);var e=this.getCurrentPhaseDetails(),i=this.sprite.x,n=this.sprite.y;this.game.tileGroup.removeChild(this.sprite),this.sprite=new h.AnimatedSprite(e.textures);var r=this.game.cells.find((function(e){return e.x==t.gridX&&e.y==t.gridY}));this.sprite.tint=r.tileTint,this.game.loadAnim(this.sprite,i,n,this.gridX,this.gridY,this.getZ())}},{key:"tick",value:function(){this.checkMovement(),null!=this.sprite&&(this.updateStateSprites(),this.checkWashingSound(),this.notice.tick())}},{key:"updateStateSprites",value:function(){if(this.isWashing&&!1===this.washingSprite.visible&&(this.washingSprite.visible=!0,Math.random()>.5&&(this.washingSprite.scale.x*=-1)),!1===this.isWashing&&this.washingSprite.visible&&(this.washingSprite.visible=!1),void 0!==this.washingSprite&&!1!==this.washingSprite.visible){var t=0,e=-5;"W"!==this.direction&&"S"!==this.direction||(t=-7,e=-5),"S"===this.direction&&(t=-10),"N"===this.direction&&(t=-3),this.washingSprite.scale.x<0&&(t+=this.washingSprite.width+10),this.washingSprite.alpha=this.sprite.alpha,this.washingSprite.tint=this.sprite.tint,this.washingSprite.x=this.sprite.x+t,this.washingSprite.y=this.sprite.y+e,this.washingSprite.zIndex=this.sprite.zIndex+.3}}},{key:"checkWashingSound",value:function(){if(!this.game.isReloading){var t=this.game.checkInHearingRange(this.gridX,this.gridY),e=this.game.getPlayerAbsDifference(this.gridX,this.gridY);0==e&&(e=1),!1===this.isWashing&&(t=!1);var i=this.washingSound.baseVolume/e*(this.game.settings.sfxVolume/100);if(null==this.washingSoundID||t||(this.awaitingVolume=0,this.washingSound.volume(this.washingSound.volume(this.washingSoundID),this.washingSoundID),this.washingSound.fadeStopIDs.push(this.washingSoundID),this.washingSound.fade(this.washingSound.volume(this.washingSoundID),0,2e3,this.washingSoundID),this.washingSoundID=void 0),null==this.washingSoundID&&t&&i>0&&(this.awaitingVolume=i,this.washingSoundID=this.washingSound.play("__default"),this.washingSound.volume(0,this.washingSoundID),this.washingSound.seek(Math.random()*this.washingSound.duration(),this.washingSoundID),this.washingSound.fade(0,i,2e3,this.washingSoundID)),null!=this.washingSoundID&&t&&i!=this.awaitingVolume){this.awaitingVolume=i;var n=2e3;this.game.settings.sfxSettingChanged&&(n=10),this.washingSound.volume(this.washingSound.volume(this.washingSoundID),this.washingSoundID),this.washingSound.fade(this.washingSound.volume(this.washingSoundID),i,n,this.washingSoundID)}}}},{key:"moveSprite",value:function(t,e){this.sprite.x=t,this.sprite.y=e}},{key:"getFacingDirection",value:function(t,e){if(0==t){if(0==e)return this.direction;if(1==e)return"S";if(-1==e)return"N"}return 1==t?-1==e?"NE":1==e?"SE":"E":-1==t?-1==e?"NW":1==e?"SW":"W":void 0}},{key:"getRotationDirection",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(e&&(this.actualDirection=t),this.game.gridRotation){case 0:return t;case 90:switch(t){case"N":t="E";break;case"NE":t="SE";break;case"NW":t="NE";break;case"E":t="S";break;case"S":t="W";break;case"SE":t="SW";break;case"SW":t="NW";break;case"W":t="N"}return t;case 180:switch(t){case"N":t="S";break;case"NE":t="SW";break;case"NW":t="SE";break;case"E":t="W";break;case"S":t="N";break;case"SE":t="NW";break;case"SW":t="NE";break;case"W":t="E"}return t;case 270:switch(t){case"N":t="W";break;case"NE":t="NW";break;case"NW":t="SW";break;case"E":t="N";break;case"S":t="E";break;case"SE":t="NE";break;case"SW":t="SE";break;case"W":t="S"}return t}}},{key:"getBasicDirection",value:function(t){return"NE"==t||"NW"==t?"N":"SE"==t||"SW"==t?"S":t}},{key:"turnPlayer",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getOffset(),s=this.sprite.x-r.x,o=this.sprite.y-r.y,a=this.sprite.zIndex;t=this.getRotationDirection(t);var u="";if(u="standing_",this.isWalking&&(u="walking_",t=this.getBasicDirection(t)),this.isSleepingState()&&(u="down_",t=this.getBasicDirection(t)),!0===this.isWashing&&(u="kneeling_",t=this.getBasicDirection(t)),(u+=t)!=this.currentState||t!=this.direction||n){this.direction=t,this.currentState=u;var l=this.phases.find((function(t){return t.type==e.currentState})),c={x:0,y:0};null!=l&&(this.currentPhase=l.id,c.x=l.x_offset,c.y=l.y_offset);var d=this.getCurrentPhaseDetails();this.game.tileGroup.removeChild(this.sprite);var p=this.sprite.alpha;this.sprite.destroy(),this.sprite=new h.AnimatedSprite(d.textures),this.sprite.alpha=p;var f=this.game.cells.find((function(t){return t.x==e.gridX&&t.y==e.gridY}));this.sprite.tint=f.tileTint,i||(a=this.getZ()),this.game.loadAnim(this.sprite,s+c.x,o+c.y,this.gridX,this.gridY,a)}}},{key:"getCurrentState",value:function(){return this.isWalking?"walking":this.isSleepingState()?"sleeping":this.isSitting?"sitting":this.isKneeling?"kneeling":this.isWashing?"washing":"standing"}},{key:"getCurrentPoseState",value:function(){return this.isWalking?"walking_":this.isSleepingState()?"down_":this.isSitting?"sitting_":this.isKneeling?"kneeling_":"standing_"}},{key:"actionTest",value:function(){var t=this,e=this;if(!e.isMoving&&null==e.action_sprite){e.isCurrentUser&&(e.game.isMoving=!0,e.isPosing=!0);var i=this.currentState,n=this.currentPhase;this.currentState=this.currentState.replace("standing_",this.weaponType),this.currentState==this.weaponType+"NE"&&(this.currentState=this.weaponType+"N"),this.currentState==this.weaponType+"NW"&&(this.currentState=this.weaponType+"N"),this.currentState==this.weaponType+"SE"&&(this.currentState=this.weaponType+"S"),this.currentState==this.weaponType+"SW"&&(this.currentState=this.weaponType+"S");var r=this.phases.find((function(e){return e.type==t.currentState}));null!=r&&(this.currentPhase=r.id);var s=this.getCurrentPhaseDetails();this.currentState=i,this.currentPhase=n;var o=this.sprite.x,a=this.sprite.y;this.sprite.visible=!1,this.action_sprite=new h.AnimatedSprite(s.textures),this.action_sprite.alpha=this.sprite.alpha;var u=this.game.cells.find((function(e){return e.x==t.gridX&&e.y==t.gridY}));this.action_sprite.tint=u.tileTint,this.game.loadAnim(this.action_sprite,o,a,this.gridX,this.gridY,this.getZ()),this.action_sprite.onLoop=function(){e.game.tileGroup.removeChild(e.action_sprite),e.action_sprite.destroy(),e.action_sprite=void 0,e.sprite.visible=!0,e.isCurrentUser&&(e.game.isMoving=!1,e.isPosing=!1)},this.action_sprite.onFrameChange=function(){if(null!=e.action_sprite){var t=e.action_sprite.currentFrame,i=e.poses.find((function(t){return t.id==r.id}));if(i.frames[t].sound_id){var n=e.game.customSounds.find((function(e){return e.dbId==i.frames[t].sound_id}));null!=n&&e.game.playIfInRange(n,e.gridX,e.gridY)}}}}}},{key:"action",value:function(){var t=this,e=this;if(!e.isMoving&&null==e.action_sprite){e.isCurrentUser&&(e.game.isMoving=!0,e.isPosing=!0);var i=this.currentState,n=this.currentPhase;this.currentState=this.currentState.replace("standing_",this.weaponType),this.currentState==this.weaponType+"NE"&&(this.currentState=this.weaponType+"N"),this.currentState==this.weaponType+"NW"&&(this.currentState=this.weaponType+"N"),this.currentState==this.weaponType+"SE"&&(this.currentState=this.weaponType+"S"),this.currentState==this.weaponType+"SW"&&(this.currentState=this.weaponType+"S");var r=this.phases.find((function(e){return e.type==t.currentState}));null!=r&&(this.currentPhase=r.id),this.showStepForAction(!1);var s=this.getCurrentPhaseDetails();this.currentState=i,this.currentPhase=n;var o=this.sprite.x,u=this.sprite.y;this.sprite.visible=!1,this.action_sprite=new h.AnimatedSprite(s.textures),this.action_sprite.alpha=this.sprite.alpha;var l=this.game.cells.find((function(e){return e.x==t.gridX&&e.y==t.gridY}));this.action_sprite.tint=l.tileTint,this.game.loadAnim(this.action_sprite,o,u,this.gridX,this.gridY,this.getZ()),this.action_sprite.onLoop=function(){if(null!=e.action_sprite&&(e.game.tileGroup.removeChild(e.action_sprite),e.action_sprite.destroy(),e.action_sprite=void 0,e.sprite.visible=!0,e.isCurrentUser)){if(e.game.isMoving=!1,e.isPosing=!1,null==e.game.vueInstance.activeCell)return;W.a.post("/action",{x:e.game.vueInstance.activeCell.x,y:e.game.vueInstance.activeCell.y}).then((function(t){void 0!==t.data.file_name&&(e.game.vueInstance.addMaterialDrop(t.data),e.game.playMaterialDropSound())})).catch(a.raiseError)}},this.action_sprite.onFrameChange=function(){if(null!=e.action_sprite){var t=e.action_sprite.currentFrame,i=e.poses.find((function(t){return t.id==r.id}));if(i.frames[t].sound_id){var n=e.game.customSounds.find((function(e){return e.dbId==i.frames[t].sound_id}));null!=n&&e.game.playIfInRange(n,e.gridX,e.gridY)}}}}}},{key:"basicAction",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;if(!n.isMoving&&null==n.action_sprite){n.isCurrentUser&&(n.game.isMoving=!0,n.isPosing=!0);var r=this.currentState,s=this.currentPhase;this.currentState=this.currentState.replace("standing_","pick_up_"),"pick_up_NE"==this.currentState&&(this.currentState="pick_up_N"),"pick_up_NW"==this.currentState&&(this.currentState="pick_up_N"),"pick_up_SE"==this.currentState&&(this.currentState="pick_up_S"),"pick_up_SW"==this.currentState&&(this.currentState="pick_up_S");var o=this.phases.find((function(e){return e.type==t.currentState}));null!=o&&(this.currentPhase=o.id);var u=0,l=e?0:-40,c=e?0:10;"pick_up_N"==this.currentState&&(u=12,l=e?-10:40,c=e?-10:-20),"pick_up_E"==this.currentState&&(u=12,l=e?l:45),"pick_up_W"==this.currentState&&(l=e?5:-35,c=-15),i&&(l=0,c=0),this.showStepForAction(i);var d=this.getCurrentPhaseDetails();this.currentState=r,this.currentPhase=s;var p=this.sprite.x,f=this.sprite.y;this.sprite.visible=!1,this.action_sprite=new h.AnimatedSprite(d.textures),this.action_sprite.alpha=this.sprite.alpha;var g=this.game.cells.find((function(e){return e.x==t.gridX&&e.y==t.gridY}));this.action_sprite.tint=g.tileTint,this.game.loadAnim(this.action_sprite,p,f,this.gridX,this.gridY,this.getZ()),e?this.displayPickupAnimation(p,f,l,c,u):this.displayBuilderAnimation(p,f,l,c,u),this.action_sprite.onLoop=function(){if(null!=n.action_sprite&&(n.game.tileGroup.removeChild(n.action_sprite),n.action_sprite.destroy(),n.action_sprite=void 0,n.sprite.visible=!0,n.isCurrentUser)){if(n.game.isMoving=!1,n.isPosing=!1,null==n.game.vueInstance.activeCell||!e)return;W.a.post("/action/basic",{x:n.game.vueInstance.activeCell.x,y:n.game.vueInstance.activeCell.y}).then((function(t){void 0!==t.data.file_name&&(n.game.vueInstance.addMaterialDrop(t.data),n.game.playMaterialDropSound())})).catch(a.raiseError)}},this.action_sprite.onFrameChange=function(){if(null!=n.action_sprite){var t=n.action_sprite.currentFrame,e=n.poses.find((function(t){return t.id==o.id}));if(e.frames[t].sound_id){var i=n.game.customSounds.find((function(i){return i.dbId==e.frames[t].sound_id}));null!=i&&n.game.playIfInRange(i,n.gridX,n.gridY)}}}}}},{key:"showStepForAction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.gridX,i=this.gridY;switch(this.actualDirection){case"N":i=this.gridY-1;break;case"S":i=this.gridY+1;break;case"E":e=this.gridX+1;break;case"W":e=this.gridX-1}t&&(e=this.gridX,i=this.gridy);var n=this.game.cells.find((function(t){return t.x==e&&t.y==i}));void 0!==n&&n.setTileSkew("stepped")}},{key:"displayPickupAnimation",value:function(t,e,i,n,r){for(var s=[],o=0;o<13;o++){var a=33;switch(o){case 0:a=83;break;case 1:case 2:case 10:case 11:case 12:a=67}s.push({texture:new h.Texture(this.game.resourceList.pick_up.texture,new h.Rectangle(200*o,0,200,200),null,null,r),time:a})}var u=new h.AnimatedSprite(s);this.game.loadAnim(u,t+i,e+n,this.gridX,this.gridY,this.getZ()+.3),u.alpha=this.sprite.alpha,u.tint=this.sprite.tint,u.onLoop=function(){u.destroy()}}},{key:"displayBuilderAnimation",value:function(t,e,i,n,r){for(var s=[],o=0;o<13;o++){var a=67;switch(o){case 6:case 9:case 10:case 12:case 13:a=50;break;case 4:case 5:case 7:case 8:a=33}s.push({texture:new h.Texture(this.game.resourceList.builder.texture,new h.Rectangle(200*o,0,200,200),null,null,r),time:a})}var u=new h.AnimatedSprite(s);this.game.loadAnim(u,t+i,e+n,this.gridX,this.gridY,this.getZ()+1),u.onLoop=function(){u.destroy()}}},{key:"setWashing",value:function(t){this.isWashing!=t&&(this.isWashing=t,this.turnPlayer(this.actualDirection))}},{key:"setSleeping",value:function(t){if(this.isSleeping!=t)if(this.isSleeping=t,this.turnPlayer(this.actualDirection),this.isSleeping&&this.isCurrentUser)this.game.reloadGame();else if(!this.isSleeping&&this.isCurrentUser)for(var e=Math.round(3*Math.random());e>0;)this.game.vueInstance.isBlackedOut=!0,this.game.rotateCommand(!0),e--}},{key:"isSleepingState",value:function(){return!(!this.isSleeping||this.game.mapData.is_dreamland)}},{key:"getOffset",value:function(){var t=this,e=this.phases.find((function(e){return e.type==t.currentState})),i={x:0,y:0};return null!=e&&(i.x=e.x_offset,i.y=e.y_offset),i}},{key:"getEquippedArchetype",value:function(){if(null!=this.equipment&&null!=this.equipment.archetype)return this.equipment.archetype}},{key:"movePlayer",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isSleepingState()&&this.isCurrentUser&&W.a.post("/avatar/wake"),!1===this.isCurrentUser&&this.isSleepingState()&&(this.isSleeping=!1),!1===this.isCurrentUser&&this.isWashing&&(this.isWashing=!1),null!=this.action_sprite&&(this.action_sprite.parent.removeChild(this.action_sprite),this.action_sprite.destroy(),this.action_sprite=void 0),i||(this.stackPlacement={},this.stackRemoval={},this.stackForage={},this.stackInteraction={},this.stackAction={},this.stackSleep=!1,this.stackWash=!1,this.stackExamineCell={},this.stackExamineStructure={}),null!=this.targetLocation&&this.targetLocation.x==t&&this.targetLocation.y==e)return n&&(this.targetLocation.removeAfter=!0),!1;var r=R.findPath([this.gridX,this.gridY],[t,e],this.game,!0);if(!(r.length<2)||i){if(r.length>1&&this.isCurrentUser&&!i){if(r.length>this.getMovementRange()+1&&this.game.isBattleMode)return;if(this.game.showMarkers(0,0,-1),this.game.tileGroup.removeChild(this.base_sprite),!i)return this.sendPosition(t,e),!0}return this.isMoving=!0,this.isWalking=!0,this.targetLocation={x:t,y:e,path:r,fromSocket:i,removeAfter:n},!0}}},{key:"removePlayer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isCurrentUser||e){for(var i in this.game.tileGroup.removeChild(this.sprite),this.game.tileGroup.removeChild(this.notice.name),this.game.tileGroup.removeChild(this.notice.typingSprite),this.game.tileGroup.removeChild(this.notice.talkingSprite),this.game.tileGroup.removeChild(this.notice.buildingSprite),this.game.tileGroup.removeChild(this.notice.sleepingSprite1),this.game.tileGroup.removeChild(this.notice.sleepingSprite2),this.game.tileGroup.removeChild(this.notice.sleepingSprite3),this.game.tileGroup.removeChild(this.notice.bubbleSprite1),this.game.tileGroup.removeChild(this.notice.bubbleSprite2),this.game.tileGroup.removeChild(this.notice.bubbleSprite3),this.game.tileGroup.removeChild(this.notice.bubbleSprite4),this.game.tileGroup.removeChild(this.notice.bubbleSprite5),this.game.tileGroup.removeChild(this.notice.bubbleSprite6),this.game.tileGroup.removeChild(this.notice.bubbleSprite7),this.sprite.destroy(),this.notice.name.destroy(),this.notice.typingSprite.destroy(),this.notice.talkingSprite.destroy(),this.notice.buildingSprite.destroy(),this.notice.sleepingSprite1.destroy(),this.notice.sleepingSprite2.destroy(),this.notice.sleepingSprite3.destroy(),this.notice.bubbleSprite1.destroy(),this.notice.bubbleSprite2.destroy(),this.notice.bubbleSprite3.destroy(),this.notice.bubbleSprite4.destroy(),this.notice.bubbleSprite5.destroy(),this.notice.bubbleSprite6.destroy(),this.notice.bubbleSprite7.destroy(),this.modifierSprites)this.game.tileGroup.removeChild(this.modifierSprites[i].sprite),this.modifierSprites[i].sprite.destroy(),this.game.tileGroup.removeChild(this.modifierSprites[i].positiveValue),this.modifierSprites[i].positiveValue.destroy(),this.game.tileGroup.removeChild(this.modifierSprites[i].negativeValue),this.modifierSprites[i].negativeValue.destroy(),this.game.tileGroup.removeChild(this.modifierSprites[i].turnClock),this.modifierSprites[i].turnClock.destroy(),this.game.tileGroup.removeChild(this.modifierSprites[i].turnValue),this.modifierSprites[i].turnValue.destroy();this.game.sprites.players=this.game.sprites.players.filter((function(e){return e.id!=t.id})),this.sprite=void 0}else this.game.reloadGame()}},{key:"checkMovement",value:function(){var t=this;if(void 0!==this.targetLocation&&null!=this.targetLocation.path[0]&&null!=this.targetLocation.path[0][0]&&!this.game.isRotating)if(this.isWalking&&!this.isMoving&&(this.isMoving=!0),this.targetLocation.x!==this.gridX||this.targetLocation.y!==this.gridY){var e=this.getOffset(),i=this.game.boardCoordinates["x".concat(this.targetLocation.path[0][0],"y").concat(this.targetLocation.path[0][1])];if(this.gridX===this.targetLocation.path[0][0]&&this.gridY===this.targetLocation.path[0][1]){if(this.game.cells.find((function(e){return e.x==t.gridX&&e.y==t.gridY})).stopStepOffset(),this.targetLocation.path.shift(),this.targetLocation.path.length<1)return;i=this.game.boardCoordinates["x".concat(this.targetLocation.path[0][0],"y").concat(this.targetLocation.path[0][1])];var n=this.checkDifference(this.gridX,this.gridY,this.targetLocation.path[0][0],this.targetLocation.path[0][1]),r=this.getFacingDirection(n.x,n.y);this.turnPlayer(r,!0),this.targetLocation.xStep=(i.x-(this.sprite.x-e.x))/this.walkSpeed,this.targetLocation.yStep=(i.y-(this.sprite.y-e.y))/this.walkSpeed,this.targetLocation.stepCount=0}var s=this.game.cells.find((function(e){return e.x==t.targetLocation.path[0][0]&&e.y==t.targetLocation.path[0][1]}));s.setTileSkew("stepped"),s.startStepOffset(),s.isInFog()&&!this.isCurrentUser&&(this.sprite.alpha=0),this.sprite.tint=s.tileTint,this.game.checkPlayersBehind(),this.game.biome.checkCritterSpook(this.targetLocation.path[0][0],this.targetLocation.path[0][1]);var o=this.sprite.x+this.targetLocation.xStep,a=this.sprite.y+this.targetLocation.yStep;if(this.moveSprite(o,a),this.targetLocation.stepCount++,this.targetLocation.stepCount==this.walkSpeed){this.gridX=this.targetLocation.path[0][0],this.gridY=this.targetLocation.path[0][1];var h=this.gridX,u=this.gridY;if(this.targetLocation.path.length>1){var l=this.checkDifference(this.gridX,this.gridY,this.targetLocation.path[1][0],this.targetLocation.path[1][1]),c=this.getFacingDirection(l.x,l.y);switch(this.game.gridRotation){case 0:"S"==c&&h++,"E"==c&&u++;break;case 90:"S"==c&&h++}this.turnPlayer(c,!0)}this.sprite.zIndex=this.getCustomZ(h,u),e=this.getOffset(),this.moveSprite(i.x+e.x,i.y+e.y)}this.isCurrentUser&&(this.game.centerCamera(o,a),this.game.selectedPlayer=void 0)}else{var d=!this.targetLocation.fromSocket,p=this.targetLocation.removeAfter;this.targetLocation=void 0,this.isMoving=!1,this.isWalking=!1,this.turnPlayer(this.actualDirection);var f=this.game.cells.find((function(e){return e.x==t.gridX&&e.y==t.gridY}));if(p)return f.stopStepOffset(),void this.removePlayer();if(f.setTileSkew("stepped",!0),f.stopStepOffset(),f.startStepOffset(!0),d&&this.sendPosition(),this.isCurrentUser&&this.game.showPlayerAvatar(),void 0!==this.stackPlacement.cellId){var g=this.game.cells.find((function(e){return e.id==t.stackPlacement.cellId}));this.game.heightDifference(g.x,g.y,this.gridX,this.gridY)<=this.game.getAllowedHeight(g.x,g.y,!0)&&this.game.placeOnMap(this.stackPlacement.cellId,this.stackPlacement.itemType,this.stackPlacement.itemId,this.stackPlacement.isStructure,this.stackPlacement.isWall),this.stackPlacement={}}if(void 0!==this.stackRemoval.cellId){var m=this.game.cells.find((function(e){return e.id==t.stackRemoval.cellId}));this.game.heightDifference(m.x,m.y,this.gridX,this.gridY)<=this.game.getAllowedHeight(m.x,m.y,!1,!0)&&this.game.removeFromMap(this.stackRemoval.cellId,this.stackRemoval.type),this.stackRemoval={}}if(void 0!==this.stackForage.x){var v=this.game.cells.find((function(e){return e.x==t.stackForage.x&&e.y==t.stackForage.y}));if(this.stackForage={},null==v)return;this.checkFacingDirection(v.x,v.y),W.a.post("/action/perform/basic",{direction:this.actualDirection})}if(void 0!==this.stackInteraction.x){var y=this.game.cells.find((function(e){return e.x==t.stackInteraction.x&&e.y==t.stackInteraction.y}));if(this.stackInteraction={},null==y)return;this.checkFacingDirection(y.x,y.y),this.game.doInteraction(y.x,y.y)}if(void 0!==this.stackAction.x){var _=this.game.cells.find((function(e){return e.x==t.stackAction.x&&e.y==t.stackAction.y}));if(this.stackAction={},null==_)return;this.checkFacingDirection(_.x,_.y),W.a.post("/action/perform",{direction:this.actualDirection})}if(!0===this.stackSleep&&(this.stackSleep=!1,this.goToSleep()),!0===this.stackWash&&(this.stackWash=!1,W.a.post("/avatar/wash")),null!=this.stackExamineCell.id){var b=this.stackExamineCell;this.stackExamineCell={},this.checkFacingDirection(b.x,b.y),this.game.examineCell(b)}if(null!=this.stackExamineStructure.id){var x=this.stackExamineStructure;this.stackExamineStructure={},this.checkFacingDirection(x.gridX,x.gridY),this.game.examineStructure(x)}}}},{key:"checkDifference",value:function(t,e,i,n){var r={x:0,y:0};return i-t>0?r.x=1:i-t<0&&(r.x=-1),n-e>0?r.y=1:n-e<0&&(r.y=-1),r}},{key:"getHearingRange",value:function(){return this.stats.hearing+this.game.clock.hearingModifier()}},{key:"getVisionRange",value:function(){var t=this,e=this.game.cells.find((function(e){return e.x==t.gridX&&e.y==t.gridY})),i=this.stats.sight+this.game.clock.brightnessModifier()+e.getVisionModifier();return this.isSleepingState()&&i>1?1:i}},{key:"getMovementRange",value:function(){return this.stats.movement}},{key:"setInstantMove",value:function(){if(null!=this.action_sprite)return this.action_sprite.parent.removeChild(this.action_sprite),this.action_sprite.destroy(),this.action_sprite=void 0,this.game.isMoving=!1,void(this.isPosing=!1);null!=this.targetLocation&&null!=this.targetLocation.stepCount&&(this.targetLocation.stepCount=9)}},{key:"goToSleep",value:function(){W.a.post("/avatar/sleep").catch((function(t){void 0!==t.response.data&&"Avatar can't sleep yet"==t.response.data.message&&alert(t.response.data.message)}))}},{key:"checkFacingDirection",value:function(t,e){if((t!=this.gridX||e!=this.gridY)&&!this.isWashing){var i=this.checkDifference(this.gridX,this.gridY,t,e),n=this.getFacingDirection(i.x,i.y);this.getRotationDirection(n,!1)!=this.direction&&(this.turnPlayer(n),this.sendPosition())}}},{key:"sendPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;null!=t&&null!=e||(t=this.gridX,e=this.gridY),this.isCurrentUser&&(this.isWashing||W.a.put("/position",{x_pos:t,y_pos:e,direction:this.actualDirection}).then((function(t){})).catch(a.raiseError))}}])&&Q(i.prototype,n),r&&Q(i,r),o}(Y);function ot(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var at=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.faces=[new h.Sprite.from("/img/game/clock/day_1_fix.png"),new h.Sprite.from("/img/game/clock/day_2_fix.png"),new h.Sprite.from("/img/game/clock/day_3_fix.png"),new h.Sprite.from("/img/game/clock/day_4_fix.png"),new h.Sprite.from("/img/game/clock/day_5_fix.png"),new h.Sprite.from("/img/game/clock/day_6_fix.png"),new h.Sprite.from("/img/game/clock/night_1_fix.png"),new h.Sprite.from("/img/game/clock/night_2_fix.png"),new h.Sprite.from("/img/game/clock/night_3_fix.png"),new h.Sprite.from("/img/game/clock/night_4_fix.png"),new h.Sprite.from("/img/game/clock/night_5_fix.png"),new h.Sprite.from("/img/game/clock/night_6_fix.png")],this.colors=[15487284,15769916,14600556,14807187,12447113,9619057,8373711,4368113,4822479,7565765,9861829,11816387],this.thermostats=[new h.Sprite.from("/img/game/thermostat/cold_1_fixed.png"),new h.Sprite.from("/img/game/thermostat/cold_2_fixed.png"),new h.Sprite.from("/img/game/thermostat/cold_3_fixed.png"),new h.Sprite.from("/img/game/thermostat/temperate_fixed.png"),new h.Sprite.from("/img/game/thermostat/hot_1_fixed.png"),new h.Sprite.from("/img/game/thermostat/hot_2_fixed.png"),new h.Sprite.from("/img/game/thermostat/hot_3_fixed.png")],this.heights=[new h.Sprite.from("/img/game/heights/height_1_fixed.png"),new h.Sprite.from("/img/game/heights/height_2_fixed.png"),new h.Sprite.from("/img/game/heights/height_3_fixed.png"),new h.Sprite.from("/img/game/heights/height_4_fixed.png"),new h.Sprite.from("/img/game/heights/height_5_fixed.png"),new h.Sprite.from("/img/game/heights/height_6_fixed.png"),new h.Sprite.from("/img/game/heights/height_7_fixed.png"),new h.Sprite.from("/img/game/heights/height_8_fixed.png"),new h.Sprite.from("/img/game/heights/height_9_fixed.png"),new h.Sprite.from("/img/game/heights/height_10_fixed.png")],this.brightnessLevels=[3,4,5,6,5,4,3,2,1,0,1,2],this.hearingLevels=[0,-1,-2,-3,-2,-1,0,1,2,3,2,1],this.temperatures=[0,1,2,3,2,1,0,-1,-2,-3,-2,-1],this.resize(this.game.diff),this.timer_face=void 0,this.timer_back=void 0,this.alt_clock_color=3355443,this.use_alt_timer=!1,this.timer_swapped=!0}var e,i,n;return e=t,(i=[{key:"brightnessModifier",value:function(){var t=Math.floor(Math.floor(this.game.time.getTime())/2);return null!=this.brightnessLevels[t]?this.brightnessLevels[t]:0}},{key:"hearingModifier",value:function(){var t=Math.floor(Math.floor(this.game.time.getTime())/2);return null!=this.hearingLevels[t]?this.hearingLevels[t]:0}},{key:"getCurrentTemperature",value:function(){var t=Math.floor(Math.floor(this.game.time.getTime())/2);return this.temperatures[t]}},{key:"getThermostatSprite",value:function(){switch(this.getCurrentTemperature()){case-1:return this.thermostats[0];case-2:return this.thermostats[1];case-3:return this.thermostats[2];case 0:return this.thermostats[3];case 1:return this.thermostats[4];case 2:return this.thermostats[5];case 3:return this.thermostats[6];default:return this.thermostats[3]}}},{key:"getHeightSprite",value:function(){var t=this,e=this.game.cells.find((function(e){return e.x==t.game.cursorPosition.x&&e.y==t.game.cursorPosition.y}));return null==e||null==this.heights[e.height]?this.heights[0]:this.heights[e.height]}},{key:"resize",value:function(t){var e=this;this.diff=t/25,this.faces.forEach((function(t){t.width=5*e.diff,t.height=5*e.diff})),this.thermostats.forEach((function(t){t.width=5*e.diff,t.height=5*e.diff})),this.heights.forEach((function(t){t.width=5*e.diff,t.height=5*e.diff}))}},{key:"update",value:function(){var t=this;if(this.game.clockContainer.removeChild(this.timer_face),this.game.clockContainer.removeChild(this.timer_back),this.faces.forEach((function(e){t.game.clockContainer.removeChild(e)})),this.thermostats.forEach((function(e){t.game.clockContainer.removeChild(e)})),this.heights.forEach((function(e){t.game.clockContainer.removeChild(e)})),null==this.game.mapData||!this.game.mapData.is_dreamland){var e=this.game.time.getTime(!0)/15*360,i=2.5*this.diff*.81,n=Math.floor(Math.floor(this.game.time.getTime()/2));Math.floor(e)||this.timer_swapped||(this.use_alt_timer=!this.use_alt_timer,this.timer_swapped=!0),Math.floor(e)&&(this.timer_swapped=!1),void 0===this.game.mapData||this.game.mapData.is_structure||(this.timer_face=this.drawPie(i,i/.81,360,this.use_alt_timer?this.colors[n]:this.alt_clock_color),this.game.clockContainer.addChild(this.timer_face),this.timer_back=this.drawPie(i,i/.81,e,this.use_alt_timer?this.alt_clock_color:this.colors[n]),this.game.clockContainer.addChild(this.timer_back),this.game.clockContainer.addChild(this.faces[n])),this.game.clockContainer.addChild(this.getThermostatSprite()),this.game.clockContainer.addChild(this.getHeightSprite())}}},{key:"drawPie",value:function(t,e,i,n){var r=new h.Graphics;return r.beginFill(n),r.moveTo(e,e),r.lineTo(e,0),r.arc(e,e,t,this.calcDeg(0),this.calcDeg(i)),r}},{key:"calcDeg",value:function(t){return Math.PI/180*(t-90)}}])&&ot(e.prototype,i),n&&ot(e,n),t}();function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ct(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(o,t);var e,i,n,r,s=(e=o,function(){var t,i=pt(e);if(dt()){var n=pt(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ct(this,t)});function o(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return ut(this,o),(e=s.call(this,t,i,n,r,null,h,a,u,l)).isInteractable=!1,e.isSolid=!1,e.isLit=!1,e.isGround=!1,e.isTopper=!1,e.isObject=!1,e.isHideable=!1,e.isWalkable=!0,e.isVegetation=a,e.isPlant=!1,e.stepTimer=0,e.playStepAnimation=!1,e.isTopBlock=!1,e.canWash=!1,e.lightRange=0,e.natureParticles=[],e.lightParticle=void 0,e.stepParticle=void 0,e.stepSounds=void 0,e.stepSnowSounds=void 0,e.stepSoundPlaying=!1,e.stepOffset=void 0,e.skewOnly=!1,e.sound=void 0,e.playingSoundID=void 0,e.id=void 0,e}return i=o,(n=[{key:"checkParticles",value:function(){var t=this;if(60==this.stepTimer&&this.sprite.alpha>0){if(null!=this.stepSounds&&!this.stepSoundPlaying&&!this.skewOnly)if(this.stepSoundPlaying=!0,null!=this.game.weather.currentWeather&&this.game.weather.currentWeather.isSnow&&this.stepSnowSounds.length){var e=Math.floor(Math.random()*this.stepSnowSounds.length);this.game.playIfInRange(this.stepSnowSounds[e],this.gridX,this.gridY)}else{var i=Math.floor(Math.random()*this.stepSounds.length);this.game.playIfInRange(this.stepSounds[i],this.gridX,this.gridY)}null==this.stepParticle||0!=this.stepParticle.sprite.playing||this.skewOnly||(this.stepParticle.sprite.visible=!0,this.stepParticle.sprite.gotoAndPlay(0),this.stepParticle.sprite.onLoop=function(){t.stepParticle.sprite.stop(),t.stepParticle.sprite.visible=!1})}this.skewOnly&&(this.skewOnly=!1),0==this.stepTimer&&this.stepSoundPlaying&&(this.stepSoundPlaying=!1)}},{key:"doSkew",value:function(){if(null!=this.currentSkew){var t=this.currentSkew;0!=t.max_skew_x&&0!=t.min_skew_x&&(this.sprite.skew.x>t.max_skew_x&&(this.sprite.skewNumberX=-t.max_skew_amount_x),this.sprite.skew.x<t.min_skew_x&&(this.sprite.skewNumberX=t.max_skew_amount_x),this.sprite.skew.x+=this.sprite.skewNumberX),0!=t.max_skew_y&&0!=t.min_skew_y&&(this.sprite.skew.y>t.max_skew_y&&(this.sprite.skewNumberY=-t.max_skew_amount_y),this.sprite.skew.y<t.min_skew_y&&(this.sprite.skewNumberY=t.max_skew_amount_y),this.sprite.skew.y+=this.sprite.skewNumberY)}0!=this.natureParticles.length&&this.natureParticles.forEach((function(t){t.doSkew()}))}},{key:"doOffset",value:function(){null==this.stepOffset||this.isMoving||(1==this.stepOffset.active?(Math.abs(this.stepOffset.x-this.stepOffset.xMoved)>=Math.abs(this.stepOffset.x/20)&&(this.sprite.x+=this.stepOffset.x/20,this.stepOffset.xMoved+=this.stepOffset.x/20),Math.abs(this.stepOffset.y-this.stepOffset.yMoved)>=Math.abs(this.stepOffset.y/20)&&(this.sprite.y+=this.stepOffset.y/20,this.stepOffset.yMoved+=this.stepOffset.y/20),Math.abs(this.stepOffset.z-this.stepOffset.zMoved)>=Math.abs(this.stepOffset.z/20)&&(this.sprite.zIndex+=this.stepOffset.z/20,this.stepOffset.zMoved+=this.stepOffset.z/20)):(Math.abs(this.stepOffset.x-this.stepOffset.xMoved)<Math.abs(this.stepOffset.x)&&(this.sprite.x-=this.stepOffset.x/20,this.stepOffset.xMoved-=this.stepOffset.x/20),Math.abs(this.stepOffset.y-this.stepOffset.yMoved)<Math.abs(this.stepOffset.y)&&(this.sprite.y-=this.stepOffset.y/20,this.stepOffset.yMoved-=this.stepOffset.y/20),Math.abs(this.stepOffset.z-this.stepOffset.zMoved)<Math.abs(this.stepOffset.z)&&(this.sprite.zIndex-=this.stepOffset.z/20,this.stepOffset.zMoved-=this.stepOffset.z/20)))}},{key:"startStepOffset",value:function(){null==this.stepOffset||this.stepOffset.active||(this.stepOffset.active=!0)}},{key:"stopStepOffset",value:function(){null!=this.stepOffset&&this.stepOffset.active&&(this.stepOffset.active=!1)}},{key:"setCurrentSkew",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(t="stepped")&&(this.stepTimer=e?10:60,this.skewOnly=i),this.currentSkew=this.skews[t]}},{key:"setSteppingParticle",value:function(t){var e=new o(this.game.resourceList["tile"+t.id].texture,this.game.extractPoses(t),[],this.game,!1);e.setOffset(t.x_offset,t.y_offset),e.updateSizeMultiplier(t.grid_width,t.grid_height),e.setPosition(this.sprite.x-this.offsetX,this.sprite.y-this.offsetY,this.gridX,this.gridY,t.z_offset),e.loadSprite(this.game.tileGroup,this.game.diff),e.sprite.stop(),e.sprite.visible=!1,this.stepParticle=e}},{key:"setLightingParticle",value:function(t){var e=new o(this.game.resourceList["tile"+t.id].texture,this.game.extractPoses(t),[],this.game,!1);e.setOffset(t.x_offset,t.y_offset),e.updateSizeMultiplier(t.grid_width,t.grid_height),e.setPosition(this.sprite.x-this.offsetX,this.sprite.y-this.offsetY,this.gridX,this.gridY,t.z_offset),e.loadSprite(this.game.tileGroup,this.game.diff),e.sprite.alpha=0,this.lightParticle=e}},{key:"setSteppingSounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.stepSounds=t,this.stepSnowSounds=e}},{key:"setStepOffset",value:function(t,e,i){this.stepOffset={x:t,y:e,z:i,xMoved:0,yMoved:0,zMoved:0,active:!1}}},{key:"removeStepParticle",value:function(){null!=this.stepParticle&&(this.stepParticle.sprite.parent.removeChild(this.stepParticle.sprite),this.stepParticle.sprite.destroy(),this.stepParticle=void 0)}},{key:"setNatureParticles",value:function(t){var e=this;t.forEach((function(t){var i=e.game.tiles.find((function(e){return e.id==t})),n=[];if(null!=i.normal_skew_id){var r=e.game.skews.find((function(t){return t.id==i.normal_skew_id}));n.normal=r}if(null!=i.stepped_skew_id){var s=e.game.skews.find((function(t){return t.id==i.stepped_skew_id}));n.stepped=s}if(null!=i.windy_skew_id){var a=e.game.skews.find((function(t){return t.id==i.windy_skew_id}));n.windy=a}var h=new o(e.game.resourceList["tile"+i.id].texture,e.game.extractPoses(i),n,e.game,!1,!1,i.is_animated,e.isFlipped);h.setOffset(i.x_offset,i.y_offset),h.updateSizeMultiplier(i.grid_width,i.grid_height),h.setPosition(e.sprite.x-e.offsetX,e.sprite.y-e.offsetY,e.gridX,e.gridY,i.z_offset),h.loadSprite(e.game.tileGroup,e.game.diff),h.sprite.animationSpeed=e.sprite.animationSpeed,h.sprite.gotoAndStop(e.sprite.currentFrame),h.sprite.alpha=0,e.natureParticles.push(h)}))}},{key:"removeNatureParticles",value:function(){0!=this.natureParticles.length&&(this.natureParticles.forEach((function(t){t.sprite.parent.removeChild(t.sprite),t.sprite.destroy()})),this.natureParticles=[])}},{key:"changeWeather",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.phases.find((function(e){return e.type==t}));if((null==r||r.id!=this.currentPhase)&&(null!=r&&(!i&&this.isTopBlock||!this.isGround)||null!=(r=this.phases.find((function(t){return t.type==e})))&&r.id!=this.currentPhase)){this.currentPhase=r.id;var s=this.sprite.currentFrame,o=this.sprite.tint,a=this.sprite.x,h=this.sprite.y,u=this.sprite.gridX,l=this.sprite.gridY,c=this.sprite.parent;this.oldSprite=this.sprite,this.insertSprite(),this.sprite.tint=o,this.sprite.alpha=0,this.loadSprite(c,32),this.sprite.x=a,this.sprite.y=h,this.sprite.gridX=u,this.sprite.gridY=l,this.isAnimated?this.sprite.gotoAndPlay(s):this.sprite.gotoAndStop(s),n&&(this.sprite.visible=!1,this.sprite.stop(),this.sprite.alpha=this.oldSprite.alpha,this.fadeIn()),null!=this.stepParticle&&this.stepParticle.changeWeather(t,e,i,!0),null!=this.lightParticle&&this.lightParticle.changeWeather(t,e,i,!0),this.natureParticles.length>0&&this.natureParticles.forEach((function(n){n.changeWeather(t,e,i)}))}}},{key:"fadeIn",value:function(){null!=this.oldSprite&&(this.sprite.alpha>=1&&null!=this.oldSprite||null!=this.oldSprite&&this.sprite.alpha>=this.oldSprite.alpha?this.removeOldSprite():this.sprite.alpha+=.02)}},{key:"removeOldSprite",value:function(){this.sprite.alpha=this.oldSprite.alpha,null!=this.oldSprite.parent&&this.oldSprite.parent.removeChild(this.oldSprite),this.oldSprite.destroy(),this.oldSprite=void 0}}])&&lt(i.prototype,n),r&&lt(i,r),o}(Y);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _t(t,e,i){return(_t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function bt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(o,t);var e,i,n,r,s=(e=o,function(){var t,i=wt(e);if(xt()){var n=wt(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return bt(this,t)});function o(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;vt(this,o),(e=s.call(this,t,i,[],n,null,!1,!1,!1)).isStructure=!0,e.isInteractable=!1,e.isSolid=!0,e.isLit=!1,e.isGround=!1,e.isAnimated=!1,e.isTopper=!1,e.isObject=!1,e.isHideable=!1,e.isWalkable=!1,e.isVegetation=!1,e.stepTimer=0,e.playStepAnimation=!1,e.isTopBlock=!1,e.hasMap=!1,e.lightRange=0,e.lightParticle=void 0,e.id=void 0,e.posePrefix=r;var a=e.posePrefix+e.game.gridRotation+"_normal",u=e.phases.find((function(t){return t.name==a}));return null==u?bt(e):(null!=e.oldSprite&&e.removeOldSprite(),e.currentPhase=u.id,e.oldSprite=e.sprite,e.sprite=new h.AnimatedSprite(u.textures),e.sprite.x=e.oldSprite.x,e.sprite.y=e.oldSprite.y,e.sprite.zIndex=e.oldSprite.zIndex,e.sprite.alpha=e.oldSprite.alpha,e.sprite.tint=e.oldSprite.tint,e.loadSprite(e.game.tileGroup,e.game.diff),e.removeOldSprite(),e)}return i=o,(n=[{key:"canHaveStorage",value:function(){return!0}},{key:"checkParticles",value:function(){}},{key:"doSkew",value:function(){}},{key:"doOffset",value:function(){}},{key:"spinRound",value:function(){if(_t(wt(o.prototype),"spinRound",this).call(this),10==this.newLocation.pass){var t=this.posePrefix+this.game.gridRotation+"_normal",e=this.phases.find((function(e){return e.name==t}));if(null==e)return;null!=this.oldSprite&&this.removeOldSprite(),this.currentPhase=e.id,this.oldSprite=this.sprite,this.sprite=new h.AnimatedSprite(e.textures),this.sprite.x=this.oldSprite.x,this.sprite.y=this.oldSprite.y,this.sprite.gridX=this.oldSprite.gridX,this.sprite.gridY=this.oldSprite.gridY,this.sprite.zIndex=this.oldSprite.zIndex,this.sprite.alpha=this.oldSprite.alpha,this.sprite.tint=this.oldSprite.tint,this.loadSprite(this.oldSprite.parent,this.game.diff),this.removeOldSprite()}}},{key:"setLightingParticle",value:function(t){var e=new Tile(this.game.resourceList["tile"+t.id].texture,this.game.extractPoses(t),[],this.game,!1);e.setOffset(t.x_offset,t.y_offset),e.updateGridSizing(t.grid_width,t.grid_height),e.updateSizeMultiplier(t.height_multiplier,t.width_multiplier),e.setPosition(this.sprite.x-this.offsetX,this.sprite.y-this.offsetY,this.gridX,this.gridY,t.z_offset),e.loadSprite(this.game.tileGroup,this.game.diff),this.lightParticle=e}},{key:"changeWeather",value:function(t,e,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3],e=this.posePrefix+this.game.gridRotation+"_normal",t=t.includes("_snow")?this.posePrefix+this.game.gridRotation+"_snow":e;var n=this.phases.find((function(e){return e.name==t}));if((null==n||n.id!=this.currentPhase)&&(null!=n&&(!i&&this.isTopBlock||!this.isGround)||null!=(n=this.phases.find((function(t){return t.name==e})))&&n.id!=this.currentPhase)){this.currentPhase=n.id;var r=this.sprite.currentFrame,s=this.sprite.tint,o=this.sprite.x,a=this.sprite.y,h=this.sprite.gridX,u=this.sprite.gridY,l=this.sprite.parent;this.oldSprite=this.sprite,this.insertSprite(),this.sprite.tint=s,this.sprite.alpha=0,this.loadSprite(l,32),this.sprite.x=o,this.sprite.y=a,this.sprite.gridX=h,this.sprite.gridY=u,this.sprite.gotoAndPlay(r)}}},{key:"fadeIn",value:function(){null!=this.oldSprite&&(this.sprite.alpha>=1&&null!=this.oldSprite||null!=this.oldSprite&&this.sprite.alpha>=this.oldSprite.alpha?this.removeOldSprite():this.sprite.alpha+=.02)}},{key:"removeOldSprite",value:function(){this.sprite.alpha=this.oldSprite.alpha,null!=this.oldSprite.parent&&this.oldSprite.parent.removeChild(this.oldSprite),this.oldSprite.destroy(),this.oldSprite=void 0}},{key:"setRotationLocation",value:function(t,e){var i=this,n=this.getCurrentPhaseDetails();n=n.name.includes("_normal")?this.phases.find((function(t){return t.name=="".concat(i.posePrefix).concat(i.game.gridRotation,"_normal")})):this.phases.find((function(t){return t.name=="".concat(i.posePrefix).concat(i.game.gridRotation,"_snow")})),t+=this.offsetX+n.x_offset,e+=this.offsetY+n.y_offset,null!=this.stepOffset&&(this.stepOffset.xMoved=0,this.stepOffset.yMoved=0,this.stepOffset.zMoved=0);var r=Math.abs(this.sprite.x-t)/20,s=Math.abs(this.sprite.y-e)/20;this.newLocation={x:t,y:e,startX:this.sprite.x,startY:this.sprite.y,rateX:r,rateY:s,pass:0},this.isMoving=!0}},{key:"removeNatureParticles",value:function(){}},{key:"hasCraftingTypes",value:function(){return this.archetype.archetype_craftings.length>0}},{key:"hasRefiningTypes",value:function(){return this.archetype.archetype_refinings.length>0}}])&&yt(i.prototype,n),r&&yt(i,r),o}(Y);function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ot(t,e,i){return(Ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function It(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function At(t,e){return(At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}(o,t);var e,i,n,r,s=(e=o,function(){var t,i=Mt(e);if(Pt()){var n=Mt(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return It(this,t)});function o(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;Ct(this,o),(e=s.call(this,t,i,[],n,null,!1,!1,!1)).isWall=!0,e.isStructure=!1,e.isInteractable=!1,e.isSolid=!0,e.isLit=!1,e.isGround=!1,e.isAnimated=!1,e.isTopper=!1,e.isObject=!1,e.isHideable=!1,e.isWalkable=!1,e.isVegetation=!1,e.stepTimer=0,e.playStepAnimation=!1,e.isTopBlock=!1,e.hasMap=!1,e.lightRange=0,e.lightParticle=void 0,e.id=void 0;var r=e.phases.find((function(t){return t.type==e.getPhaseTypeFromMapSize()}));if(null==r)return It(e);var a=e.getFrameFromRotationAndLocation();return null!=e.oldSprite&&e.removeOldSprite(),e.currentPhase=r.id,e.oldSprite=e.sprite,e.sprite=new h.AnimatedSprite(r.textures),null===a?e.sprite.visible=!1:e.sprite.gotoAndStop(a),e.sprite.x=e.oldSprite.x,e.sprite.y=e.oldSprite.y,e.sprite.zIndex=e.oldSprite.zIndex,e.sprite.alpha=e.oldSprite.alpha,e.sprite.tint=e.oldSprite.tint,e.loadSprite(e.game.tileGroup,e.game.diff),e.removeOldSprite(),e}return i=o,(n=[{key:"getFrameFromRotationAndLocation",value:function(){var t=null;return 0===this.game.gridRotation&&(this.gridX>0&&0===this.gridY&&(t=2),this.gridY>0&&0===this.gridX&&(t=0),0===this.gridX&&0===this.gridY&&(t=1)),90===this.game.gridRotation&&(0===this.gridX&&this.gridY<this.game.board.length-1&&(t=2),this.gridY===this.game.board.length-1&&this.gridX>0&&(t=0),0===this.gridX&&this.gridY===this.game.board.length-1&&(t=1)),180===this.game.gridRotation&&(this.gridX<this.game.board[0].length-1&&this.gridY===this.game.board.length-1&&(t=2),this.gridY<this.game.board.length-1&&this.gridX===this.game.board[0].length-1&&(t=0),this.gridX===this.game.board[0].length-1&&this.gridY===this.game.board.length-1&&(t=1)),270===this.game.gridRotation&&(this.gridX===this.game.board[0].length-1&&this.gridY>0&&(t=2),0===this.gridY&&this.gridX<this.game.board[0].length-1&&(t=0),this.gridX===this.game.board[0].length-1&&0===this.gridY&&(t=1)),null===t?null:(this.game.time.getTime()>11&&(t+=3),t)}},{key:"getPhaseTypeFromMapSize",value:function(){return this.game.board.length>9||this.game.board[0].length>9?(this.updateSizeMultiplier(1,4),"spring_pose_id"):this.game.board.length>5||this.game.board[0].length>5?(this.updateSizeMultiplier(1,3),"summer_pose_id"):this.game.board.length>2||this.game.board[0].length>2?(this.updateSizeMultiplier(1,2),"fall_pose_id"):(this.updateSizeMultiplier(1,.75),"winter_pose_id")}},{key:"checkParticles",value:function(){}},{key:"doSkew",value:function(){}},{key:"doOffset",value:function(){}},{key:"spinRound",value:function(){Ot(Mt(o.prototype),"spinRound",this).call(this),10===this.newLocation.pass&&this.setFrameIndex()}},{key:"setFrameIndex",value:function(){var t=this.getFrameFromRotationAndLocation();null!==t?(this.sprite.visible=!0,this.sprite.gotoAndStop(t)):this.sprite.visible=!1}},{key:"setLightingParticle",value:function(t){var e=new Tile(this.game.resourceList["tile"+t.id].texture,this.game.extractPoses(t),[],this.game,!1);e.setOffset(t.x_offset,t.y_offset),e.updateGridSizing(t.grid_width,t.grid_height),e.updateSizeMultiplier(t.height_multiplier,t.width_multiplier),e.setPosition(this.sprite.x-this.offsetX,this.sprite.y-this.offsetY,this.gridX,this.gridY,t.z_offset),e.loadSprite(this.game.tileGroup,this.game.diff),this.lightParticle=e}},{key:"changeWeather",value:function(t,e,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3]}},{key:"fadeIn",value:function(){null!=this.oldSprite&&(this.sprite.alpha>=1&&null!=this.oldSprite||null!=this.oldSprite&&this.sprite.alpha>=this.oldSprite.alpha?this.removeOldSprite():this.sprite.alpha+=.02)}},{key:"removeOldSprite",value:function(){this.sprite.alpha=this.oldSprite.alpha,null!=this.oldSprite.parent&&this.oldSprite.parent.removeChild(this.oldSprite),this.oldSprite.destroy(),this.oldSprite=void 0}},{key:"setRotationLocation",value:function(t,e){var i=this.getPhaseTypeFromMapSize(),n=this.phases.find((function(t){return t.type===i}));void 0===n&&(n=this.phases[0]),t+=this.offsetX+n.x_offset,e+=this.offsetY+n.y_offset,null!=this.stepOffset&&(this.stepOffset.xMoved=0,this.stepOffset.yMoved=0,this.stepOffset.zMoved=0);var r=Math.abs(this.sprite.x-t)/20,s=Math.abs(this.sprite.y-e)/20;this.newLocation={x:t,y:e,startX:this.sprite.x,startY:this.sprite.y,rateX:r,rateY:s,pass:0},this.isMoving=!0}},{key:"removeNatureParticles",value:function(){}},{key:"hasCraftingTypes",value:function(){return this.archetype.archetype_craftings.length>0}},{key:"hasRefiningTypes",value:function(){return this.archetype.archetype_refinings.length>0}}])&&Et(i.prototype,n),r&&Et(i,r),o}(Y);function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ht(t,e){return!e||"object"!==zt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(o,t);var e,i,n,r,s=(e=o,function(){var t,i=qt(e);if(Yt()){var n=qt(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return Ht(this,t)});function o(t,e,i,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=s.call(this,t,e,i,n,null,void 0,!0)).lightRange=0,r.spookRange=3,r.isSpooked=!1,r.playlists={},r.idleSound=void 0,r.isCritter=!0,r.instantSpook=!1,r}return i=o,(n=[{key:"setIdlePlaylist",value:function(t){this.playlists.idle=t}},{key:"setEntrancePlaylist",value:function(t){this.playlists.enter=t}},{key:"setExitPlaylist",value:function(t){this.playlists.exit=t}},{key:"checkSpook",value:function(t,e){var i=this;if(!(this.isSpooked||Math.abs(t-this.gridX)+Math.abs(e-this.gridY)>this.spookRange)){this.isSpooked=!0;var n=this.poses.find((function(t){return"exit_pose"==t.name})),r=this.sprite.x,s=this.sprite.y,o=this.sprite.alpha,a=this.sprite.tint;if(this.instantSpook){if(this.removeSprite(!0),null==n)return;if(this.currentPhase=n.id,this.insertSprite(!0),this.setPosition(r-this.offsetX,s-this.offsetY,this.gridX,this.gridY,this.gridZ),this.sprite.onLoop=function(){i.removeSprite(!0)},this.loadSprite(this.game.tileGroup,this.game.diff),null!=this.playlists.exit){var h=Math.floor(Math.random()*this.playlists.exit.sounds.length);this.game.playIfInRange(this.playlists.exit.sounds[h],this.gridX,this.gridY)}null!=this.idleSound&&(this.playlists.idle.sounds[this.idleSound.soundID].stop(this.idleSound.playID),this.idleSound=void 0),this.sprite.alpha=o,this.sprite.tint=a}else this.sprite.onLoop=function(){if(i.removeSprite(!0),null!=n){if(i.currentPhase=n.id,i.insertSprite(!0),i.setPosition(r-i.offsetX,s-i.offsetY,i.gridX,i.gridY,i.gridZ),i.sprite.onLoop=function(){i.removeSprite(!0)},i.loadSprite(i.game.tileGroup,i.game.diff),null!=i.playlists.exit){var t=Math.floor(Math.random()*i.playlists.exit.sounds.length);i.game.playIfInRange(i.playlists.exit.sounds[t],i.gridX,i.gridY)}null!=i.idleSound&&(i.playlists.idle.sounds[i.idleSound.soundID].stop(i.idleSound.playID),i.idleSound=void 0),i.sprite.alpha=o,i.sprite.tint=a}}}}},{key:"spawn",value:function(t,e,i,n){var r=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;if(this.setPosition(t,e,i,n,s),this.sprite.alpha=1,this.sprite.onLoop=function(){var o=r.phases.find((function(t){return"idle_pose"==t.name}));if(null!=o){r.currentPhase=o.id;var a=r.sprite.alpha,h=r.sprite.tint;if(r.removeSprite(!0),r.insertSprite(!0),r.setPosition(t,e,i,n,s),r.loadSprite(r.game.tileGroup,r.game.diff),r.sprite.alpha=a,r.sprite.tint=h,null!=r.playlists.idle){var u=Math.floor(Math.random()*r.playlists.idle.sounds.length);r.idleSound={playID:r.playlists.idle.sounds[u].play("__default"),soundID:u}}}else r.removeSprite(!0)},this.loadSprite(this.game.tileGroup,this.game.diff),null!=this.playlists.enter){var o=Math.floor(Math.random()*this.playlists.enter.sounds.length);this.game.playIfInRange(this.playlists.enter.sounds[o],this.gridX,this.gridY)}}},{key:"tick",value:function(){}}])&&Xt(i.prototype,n),r&&Xt(i,r),o}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(o,t);var e,i,n,r,s=(e=o,function(){var t,i=Ut(e);if(Bt()){var n=Ut(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return Nt(this,t)});function o(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];Lt(this,o),(e=s.call(this,l)).game=r,e.textures=t,e.poses=i,e.loadPhases(!0,u);var c=e.game.getCurrentPoseState(),d=e.game.getCurrentPoseState(!0);1==h&&(c=d),null!=a&&(c=d=a);var p=e.phases.find((function(t){return t.type==c}));return(null!=p||null!=(p=e.phases.find((function(t){return t.type==d}))))&&(e.currentPhase=p.id),e.hasAnchor=null!=n.normal,e.skews=n,e.currentSkew=e.skews.normal,e.insertSprite(e.isCritter),e}return i=o,(n=[{key:"loadPhases",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.phases=[];var e=0;Math.random()>.5&&(e=12);for(var i=this.poses,n=0;n<i.length;n++){for(var r=[],s=0;s<i[n].frames.length;s++){var o=i[n].frames[s].height,a=i[n].frames[s].width,u=i[n].frames[s].image_x,l=i[n].frames[s].image_y,c=i[n].frames[s].time,d=i[n].frames[s].x_rotation;e>0&&(d=e),r.push({texture:new h.Texture(this.textures[i[n].name],new h.Rectangle(u,l,a,o),null,null,d),time:c})}var p={id:i[n].id,name:i[n].name,type:i[n].type,min_speed:i[n].min_speed,max_speed:i[n].max_speed,x_offset:i[n].x_offset,y_offset:i[n].y_offset,z_offset:i[n].z_offset,textures:r};this.phases.push(p)}this.phases.length||this.addEmptyPhase(),t&&(this.currentPhase=this.phases[0].id)}},{key:"addEmptyPhase",value:function(){this.phases=[{id:0,name:"Standard",x_offset:0,y_offset:0,z_offset:0,type:"spring_pose_id",min_speed:1,max_speed:1,textures:[{texture:new h.Texture(this.textures[0],new h.Rectangle(0,0,this.textures[0].width,this.textures[0].height)),time:99999}]}]}}])&&Ft(i.prototype,n),r&&Ft(i,r),o}(F)),Gt=i("aSns"),$t=i.n(Gt);function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Jt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Qt=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=n,this.x=e,this.y=i,this.height=0,this.blocks=[],this.topper=void 0,this.wall=void 0,this.objects=[],this.structure=void 0,this.skeleton=void 0,this.teleport=void 0,this.loots=[],this.canTeleport=!1,this.objectOverflow=!1,this.player=void 0,this.critters=[],this.inLitPosition=!1,this.lightSource=[],this.lightStrength=0,this.isVisible=!0,this.hasVisibleMarker=!1,this.tileTint=this.game.tinter.currentTint.dark.rgbNumber()}var e,i,n;return e=t,(i=[{key:"addBlock",value:function(t){t instanceof gt&&(this.blocks.length&&(this.blocks[this.blocks.length-1].isTopBlock=!1,this.blocks[this.blocks.length-1].removeStepParticle()),t.isTopBlock=!0,this.blocks.push(t))}},{key:"addObject",value:function(t){t instanceof gt&&this.objects.push(t)}},{key:"setTopper",value:function(t){return t instanceof gt&&null==this.topper&&(this.blocks.length&&this.blocks[this.blocks.length-1].removeStepParticle(),this.topper=t,!0)}},{key:"setWall",value:function(t){return t instanceof Rt&&null==this.wall&&(this.wall=t,!0)}},{key:"setStructure",value:function(t){return t instanceof Tt&&null==this.structure&&(this.structure=t,!0)}},{key:"clearTopper",value:function(){this.topper=void 0}},{key:"setPlayer",value:function(t){return t instanceof st&&null==this.player&&(this.player=t,!0)}},{key:"clearPlayer",value:function(){this.player=void 0}},{key:"addCritter",value:function(t){t instanceof Vt&&this.critters.push(t)}},{key:"clearCritters",value:function(){this.critters=[]}},{key:"clearUnsetCritters",value:function(){this.critters=this.critters.filter((function(t){return null!=t&&null!=t.sprite}))}},{key:"setSkeleton",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(null==this.skeleton){var n=this.game.tiles.find((function(e){return e.id==t}));if(void 0!==n){var r=this.game.extractPoses(n),s=[];if(null!=n.normal_skew_id){var o=this.game.skews.find((function(t){return t.id==n.normal_skew_id}));s.normal=o}if(null!=n.stepped_skew_id){var a=this.game.skews.find((function(t){return t.id==n.stepped_skew_id}));s.stepped=a}if(null!=n.windy_skew_id){var h=this.game.skews.find((function(t){return t.id==n.windy_skew_id}));s.windy=h}var u=new gt(this.game.resourceList["tile"+n.id].texture,r,s,this.game,!1,!1,n.is_animated);u.id=n.id,u.drops=n.drops,u.isSkeleton=!0,u.setOffset(n.x_offset,n.y_offset);var l=this.blocks[this.blocks.length-1],c=l.sprite.x-l.offsetX,d=l.sprite.y-l.offsetY;l.hasAnchor&&(c-=l.sprite.width*l.xAnchor,d-=l.sprite.height*l.yAnchor),void 0!==i&&(c=i.x,d=i.y),u.setPosition(c,d,this.x,this.y,n.z_offset),u.sprite.alpha=l.sprite.alpha,u.sprite.tint=l.sprite.tint,e&&u.loadSprite(this.game.tileGroup,this.game.diff),this.skeleton=u}}}},{key:"removeSkeleton",value:function(){void 0!==this.skeleton&&(this.skeleton.sprite.parent.removeChild(this.skeleton.sprite),this.skeleton.sprite.destroy(),this.skeleton=void 0)}},{key:"addLoot",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.getLootId(t);if(null!=n){var r=this.game.tiles.find((function(t){return t.id==n}));if(void 0!==r){var s=this.game.extractPoses(r),o=[];if(null!=r.normal_skew_id){var a=this.game.skews.find((function(t){return t.id==r.normal_skew_id}));o.normal=a}if(null!=r.stepped_skew_id){var h=this.game.skews.find((function(t){return t.id==r.stepped_skew_id}));o.stepped=h}if(null!=r.windy_skew_id){var u=this.game.skews.find((function(t){return t.id==r.windy_skew_id}));o.windy=u}var l=[];if(null!=r.cluster_id)for(var c=this.game.clusters.find((function(t){return t.id==r.cluster_id})),d=0;d<c.locations.length;d++)l.push({z_offset:c.locations[d].z_offset,x_offset:c.locations[d].x_offset,y_offset:c.locations[d].y_offset,z_offset_stepped:c.locations[d].z_offset_stepped,x_offset_stepped:c.locations[d].x_offset_stepped,y_offset_stepped:c.locations[d].y_offset_stepped,minimum_amount:c.minimum_amount,is_cluster:!0});l.push({z_offset:r.z_offset,x_offset:r.x_offset,y_offset:r.y_offset,z_offset_stepped:r.z_offset_stepped,x_offset_stepped:r.x_offset_stepped,y_offset_stepped:r.y_offset_stepped,is_cluster:null!=r.cluster_id,minimum_amount:-1}),l.sort((function(){return Math.random()-.5}));for(var p=0;p<l.length;p++){var f=Math.floor(Math.random()*l.length*2);if(l[f],p<=l[p].minimum_amount||!l[p].is_cluster||Math.random()>.75){var g=new gt(this.game.resourceList["tile"+r.id].texture,s,o,this.game,!1,!1,r.is_animated);g.id=r.id,g.lootType=t,g.drops=r.drops,g.isLoot=!0,g.setOffset(l[p].x_offset,l[p].y_offset);var m=this.blocks[this.blocks.length-1],v=m.sprite.x-m.offsetX,y=m.sprite.y-m.offsetY;m.hasAnchor&&(v-=m.sprite.width*m.xAnchor,y-=m.sprite.height*m.yAnchor),void 0!==i&&(v=i.x,y=i.y),g.setPosition(v,y,this.x,this.y,l[p].z_offset),g.sprite.alpha=m.sprite.alpha,g.sprite.tint=m.sprite.tint,e&&g.loadSprite(this.game.tileGroup,this.game.diff),this.loots.push(g)}}}}}},{key:"removeLoots",value:function(t){if(0!==this.loots.length){var e=this.loots.filter((function(e){return e.lootType==t}));0!==e.length&&(e.forEach((function(t){t.sprite.parent.removeChild(t.sprite),t.sprite.destroy(),t.sprite=void 0})),this.loots=this.loots.filter((function(t){return null!=t.sprite})))}}},{key:"getLootId",value:function(t){var e="";switch(t){case"App\\Material":e="loot_material";break;case"App\\Tile":e="loot_tile";break;case"App\\Item":e="loot_item";break;case"App\\Structure":e="loot_structure";break;default:return}var i=this.game.tiles.find((function(t){return t.name==e}));if(null!=i)return i.id}},{key:"topBlock",value:function(){return this.blocks[this.blocks.length-1]}},{key:"tiles",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[],i=0;i<this.blocks.length;i++)e.push(this.blocks[i]);null!=this.topper&&e.push(this.topper),null!=this.wall&&e.push(this.wall),null!=this.skeleton&&e.push(this.skeleton);for(var n=0;n<this.loots.length;n++)e.push(this.loots[n]);null!=this.structure&&e.push(this.structure);for(var r=0;r<this.objects.length;r++)e.push(this.objects[r]);if(!t)return e;for(var s=0;s<this.critters.length;s++)e.push(this.critters[s]);return e}},{key:"nonBlockTiles",value:function(){var t=[];null!=this.topper&&t.push(this.topper),null!=this.skeleton&&t.push(this.skeleton);for(var e=0;e<this.loots.length;e++)t.push(this.loots[e]);null!=this.structure&&t.push(this.structure);for(var i=0;i<this.objects.length;i++)t.push(this.objects[i]);for(var n=0;n<this.critters.length;n++)t.push(this.critters[n]);return t}},{key:"checkEquipmentInteracts",value:function(t){var e=!1;return this.objects.forEach((function(i){i.drops.filter((function(e){return e.archetype_id==t})).length>0&&(e=!0)})),null!=this.topper&&this.topper.drops.filter((function(e){return e.archetype_id==t})).length>0&&(e=!0),null!=this.skeleton&&this.skeleton.drops.filter((function(e){return e.archetype_id==t})).length>0&&(e=!0),this.blocks.length&&this.blocks[this.blocks.length-1].drops.filter((function(e){return e.archetype_id==t})).length>0&&(e=!0),e}},{key:"getHeight",value:function(){return this.blocks.length}},{key:"hasObjects",value:function(){return!!this.objects.length}},{key:"hasSolidObject",value:function(){var t=!1;return this.objects.forEach((function(e){e.isSolid&&(t=!0)})),t}},{key:"hasTileId",value:function(t){if(this.blocks.length&&this.blocks[this.blocks.length-1].id==t)return!0;if(null!=this.topper&&this.topper.id==t)return!0;var e=!1;return this.objects.forEach((function(i){i.id==t&&(e=!0)})),e}},{key:"isInFog",value:function(){var t=this.tiles(!0),e=t.filter((function(t){return null!=t.sprite&&0==t.sprite.alpha&&null==t.oldSprite||null!=t.oldSprite&&0==t.oldSprite.alpha}));return t.length==e.length}},{key:"hasLitTile",value:function(){var t=this.tiles(),e=!1;return t.forEach((function(t){t.isLit&&(e=!0)})),e}},{key:"lightSourceFrom",value:function(t){var e=this,i=!1;t.forEach((function(t){i||null!=(i=e.lightSource.find((function(e){return e.x==t.x&&e.y==t.y})))&&(e.isVisible=!0,e.fadeInTiles())}))}},{key:"updateLightStrength",value:function(t,e,i){this.lightStrength<=t-e&&(this.lightStrength=t-e,null!=i[e]&&(this.tileTint=i[e].rgbNumber()))}},{key:"getMaxLightStrength",value:function(){var t=0;return this.tiles().forEach((function(e){t<e.lightRange&&(t=e.lightRange)})),t}},{key:"tintTiles",value:function(t,e,i){var n=this,r=(Math.abs(e-this.getHeight()),t-i);r<0&&(r=0);var s=e-r,o=e+r+1,a=0;s<1&&(s=1),this.tiles(!0).forEach((function(t){var e=!0;t.isGround&&a++,a<s&&(e=!1),a>o&&(e=!1),t.isCritter&&t.isLit&&(e=!1),e&&null!=t.sprite&&(t.sprite.tint=n.tileTint,t.natureParticles.length>0&&t.natureParticles.forEach((function(t){t.sprite.tint=n.tileTint})))}))}},{key:"isWalkable",value:function(){if(!this.blocks[this.blocks.length-1].isWalkable)return!1;if(null!=this.structure&&!this.structure.isWalkable)return!1;if(this.objectOverflow)return!1;var t=!0;return this.objects.forEach((function(e){e.isSolid&&(t=!1),e.isWalkable||(t=!1)})),t}},{key:"changeWeatherState",value:function(t,e){var i=this;this.tiles().forEach((function(n){n.changeWeather(t,e,null!=i.topper)}))}},{key:"checkFog",value:function(t){var e=this,i=t.getVisionRange();NaN==i&&(i=0);var n=Math.abs(t.gridX-this.x)+Math.abs(t.gridY-this.y)<=i;return this.tiles(!0).forEach((function(t){if(e.isVisible=!0,t.isBehind)return!1;n?(null!=t.oldSprite?t.oldSprite.alpha<1?t.oldSprite.alpha+=.035:t.oldSprite.alpha=1:t.sprite.alpha<1?t.sprite.alpha+=.035:t.sprite.alpha=1,null!=t.lightParticle&&(t.lightParticle.sprite.alpha<1?t.lightParticle.sprite.alpha+=.035:t.lightParticle.sprite.alpha=1),t.natureParticles.length>0&&t.natureParticles.forEach((function(t){t.sprite.alpha<1?t.sprite.alpha+=.035:t.sprite.alpha=1}))):(e.isVisible=!1,null!=t.oldSprite?t.oldSprite.alpha>0?t.oldSprite.alpha-=.035:t.oldSprite.alpha=0:t.sprite.alpha>0?t.sprite.alpha-=.035:t.sprite.alpha=0,null!=t.lightParticle&&(t.lightParticle.sprite.alpha>0?t.lightParticle.sprite.alpha-=.035:t.lightParticle.sprite.alpha=0),t.natureParticles.length>0&&t.natureParticles.forEach((function(t){t.sprite.alpha>0?t.sprite.alpha-=.035:t.sprite.alpha=0})))})),this.hasVisibleMarker&&this.objects.forEach((function(t){t.sprite.alpha=.3,null!=t.oldSprite&&(t.oldSprite.alpha=.3),null!=t.lightParticle&&(t.lightParticle.sprite.alpha=.3),t.natureParticles.length>0&&t.natureParticles.forEach((function(t){t.sprite.alpha=.3}))})),n}},{key:"fadeInTiles",value:function(){this.tiles(!0).forEach((function(t){t.isBehind||(null!=t.lightParticle&&t.lightParticle.sprite.alpha<1&&(t.lightParticle.sprite.alpha+=.07),t.natureParticles.length>0&&t.natureParticles.forEach((function(t){t.sprite.alpha<1&&(t.sprite.alpha+=.07)})),null==t.oldSprite?t.sprite.alpha<1&&(t.sprite.alpha+=.07):t.oldSprite.alpha<1&&(t.oldSprite.alpha+=.07))})),this.hasVisibleMarker&&this.objects.forEach((function(t){t.sprite.alpha=.3,null!=t.oldSprite&&(t.oldSprite.alpha=.3),null!=t.lightParticle&&(t.lightParticle.sprite.alpha=.3),t.natureParticles.length>0&&t.natureParticles.forEach((function(t){t.sprite.alpha=.3}))}))}},{key:"skewTiles",value:function(){this.tiles().forEach((function(t){t.sprite.alpha>0&&(t.checkParticles(),t.doSkew(),t.doOffset()),t.stepTimer>0?t.stepTimer--:t.currentSkew==t.skews.stepped&&(t.currentSkew=t.skews.normal)}))}},{key:"transitionTiles",value:function(){this.tiles(!0).forEach((function(t){null!=t.oldSprite&&t.fadeIn()}))}},{key:"rotateTiles",value:function(){var t=0;return this.tiles(!0).forEach((function(e){e.isMoving&&(e.spinRound(),t++)})),null!=this.previewTile&&this.previewTile.isMoving&&(this.previewTile.spinRound(),t++),t}},{key:"setTileSkew",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.objects.forEach((function(n){n.setCurrentSkew(t,e,i)})),null==this.topper?this.blocks[this.blocks.length-1].setCurrentSkew(t,e,i):this.topper.setCurrentSkew(t,e,i)}},{key:"startStepOffset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t){var e=this.blocks[this.blocks.length-1],i=this.topper;null!=e&&(null==e.stepOffset&&(e.stepOffset={x:0,y:10,z:0,xMoved:0,yMoved:0,zMoved:0,active:!1}),e.startStepOffset()),null!=i&&(null==i.stepOffset&&(i.stepOffset=Zt({active:!0,x:0,y:10,z:0,xMoved:0,yMoved:0,zMoved:0},"active",!1)),i.startStepOffset())}this.objects.forEach((function(t){t.startStepOffset()}))}},{key:"stopStepOffset",value:function(){var t=this.blocks[this.blocks.length-1],e=this.topper;null!=t&&t.stopStepOffset(),null!=e&&e.stopStepOffset(),this.objects.filter((function(t){return 0==t.isWalkable})).length>0||this.objects.forEach((function(t){t.stopStepOffset()}))}},{key:"repositionTiles",value:function(){var t=this,e=this.nonBlockTiles(),i=this.blocks[this.blocks.length-1],n=i.sprite.x-i.offsetX,r=i.sprite.y+i.offsetY;i.hasAnchor&&(n-=i.sprite.width*i.xAnchor,r-=i.sprite.height*i.yAnchor),e.forEach((function(e){e.setPosition(n,r,t.x,t.y,e.gridZ),e.removeSprite(),e.loadSprite(t.game.tileGroup,t.game.diff)})),this.game.sprites.players.filter((function(e){return e.gridX==t.x&&e.gridY==t.y})).forEach((function(e){e.setPosition(n,r,t.x,t.y,e.gridZ),e.removeSprite(),e.loadSprite(t.game.tileGroup,t.game.diff)})),this.game.boardCoordinates["x"+this.x+"y"+this.y].x=n,this.game.boardCoordinates["x"+this.x+"y"+this.y].y=r,this.game.moveCursor()}},{key:"checkChanges",value:function(t){var e=this,i=!1;if(t.blocks.forEach((function(t){var n=e.blocks.find((function(e){return e.height==t.z_position}));if(null!=n&&n.id!=t.id&&console.log("change block"),null==n){var r=e.game.getCurrentPoseState(!0);e.blocks[e.blocks.length-1].changeWeather(r,r,null!=e.topper),e.placeBlock(t.id,t.z_position),i=!0}})),this.blocks.forEach((function(e){null==t.blocks.find((function(t){return t.id==e.id&&t.z_position==e.height}))&&(e.sprite.parent.removeChild(e.sprite),e.sprite.destroy(),e.sprite=void 0,null!=e.playingSoundID&&e.sound.stop(e.playingSoundID),e.removeStepParticle(),null!=e.lightParticle&&(e.lightParticle.sprite.parent.removeChild(e.lightParticle.sprite),e.lightParticle.sprite.destroy(),e.lightParticle.sprite=void 0),i=!0)})),i&&(this.blocks=this.blocks.filter((function(t){return null!=t.sprite})),this.blocks.sort((function(t,e){return t.height-e.height})),this.height=this.blocks.length-1,this.repositionTiles()),null!=this.topper&&this.topper.id!=t.topper&&this.replaceTopper(t.topper),null==this.topper&&null!=t.topper&&this.replaceTopper(t.topper),null!=this.wall&&this.wall.id!=t.wall&&this.replaceWall(t.wall),null==this.wall&&null!=t.wall&&this.replaceWall(t.wall),null!=this.structure&&this.structure.id!=t.structure){if(null!=t.structure_data){var n=this.game.structures.find((function(e){return e.id==t.structure}));null==n&&(this.game.structures.push(t.structure_data),n=t.structure_data),n.file_name,t.structure_data.file_name,this.game.resourceList["structure"+t.structure]={texture:h.Texture.from(t.structure_data.file_name)}}this.replaceStructure(t.structure),null==this.structure&&(this.game.cells.forEach((function(t){t.objectOverflow=!1})),this.game.cells.forEach((function(t){null!=t.structure&&t.structure.updateGridSizing(t.structure.gridWidth,t.structure.gridHeight)})))}if(null==this.structure&&null!=t.structure){if(null!=t.structure_data){var r=this.game.structures.find((function(e){return e.id==t.structure}));null==r&&(this.game.structures.push(t.structure_data),r=t.structure_data),r.file_name,t.structure_data.file_name,this.game.resourceList["structure"+t.structure]={texture:h.Texture.from(t.structure_data.file_name)}}this.replaceStructure(t.structure)}t.storage_types.forEach((function(t){0==e.loots.filter((function(e){return e.lootType==t})).length&&e.addLoot(t)})),this.loots.forEach((function(i){0==t.storage_types.filter((function(t){return t==i.lootType})).length&&e.removeLoots(i.lootType)})),this.objects.forEach((function(i){0==t.objects.filter((function(t){return i.id==t})).length&&e.removeObject(i.id)})),t.objects.forEach((function(t){0==e.objects.filter((function(e){return e.id==t})).length&&e.placeObject(t)})),this.game.cursorPosition.x==this.x&&this.game.cursorPosition.y==this.y&&(this.game.vueInstance.editModalOpen&&this.game.editMode?this.game.showTileEditPreview(this.game.cursorPosition.x,this.game.cursorPosition.y):this.game.vueInstance.editModalOpen&&this.game.showTileEditPreview(-1,-1))}},{key:"showPlantRemovalAnim",value:function(){var t=this.blocks[this.blocks.length-1];if(void 0!==t&&0!=t.sprite.alpha){for(var e=[],i=0;i<12;i++){var n=67;switch(i){case 0:n=100;break;case 1:case 2:n=83;break;case 3:case 6:case 7:n=50}e.push({texture:new h.Texture(this.game.resourceList.plantRemoval.texture,new h.Rectangle(200*i,0,200,200)),time:n})}var r=new h.AnimatedSprite(e);r.height=3*this.game.diff,r.width=3*this.game.diff,r.gridX=this.x,r.gridY=this.y,r.x=t.sprite.x-50,r.y=t.sprite.y-45,r.tint=t.sprite.tint,r.alpha=t.sprite.alpha,r.zIndex=this.game.getCustomZ(this.x,this.y)+.5,r.onLoop=function(){r.parent.removeChild(r),r.destroy()};var s=this.game.customSounds.find((function(t){return"AC_Plant_harvest"==t.name}));void 0!==s&&this.game.playIfInRange(s,this.x,this.y),r.play(),this.game.tileGroup.addChild(r)}}},{key:"setTeleport",value:function(t,e){this.canTeleport=!0;for(var i=[],n=0;n<13;n++)i.push({texture:new h.Texture(this.game.resourceList.teleporter.texture,new h.Rectangle(128*n,0,128,128)),time:67});this.teleport=new h.AnimatedSprite(i),this.teleport.height=3*this.game.diff,this.teleport.width=3*this.game.diff,this.teleport.gridX=this.x,this.teleport.gridY=this.y,this.teleport.x=e.x-50,this.teleport.y=e.y-70,this.teleport.zIndex=this.x+this.y+.5,this.teleport.play(),this.game.tileGroup.addChild(this.teleport)}},{key:"updateTeleport",value:function(){this.canTeleport&&null!=this.teleport&&(this.teleport.x=this.blocks[this.blocks.length-1].sprite.x-50,this.teleport.y=this.blocks[this.blocks.length-1].sprite.y-70,this.teleport.zIndex=this.game.getCustomZ(this.x,this.y)+.4,this.teleport.alpha=this.blocks[this.blocks.length-1].sprite.alpha,this.teleport.tint!=this.blocks[this.blocks.length-1].sprite.tint&&(this.teleport.tint=this.blocks[this.blocks.length-1].sprite.tint))}},{key:"replaceStructure",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=void 0;null!=t&&(n=this.createStructure(t,i)),null!=this.structure&&(this.structure.sprite.parent.removeChild(this.structure.sprite),this.structure.sprite.destroy(),null!=this.structure.lightParticle&&(this.structure.lightParticle.sprite.parent.removeChild(this.structure.lightParticle.sprite),this.structure.lightParticle.sprite.destroy(),this.structure.lightParticle.sprite=void 0),null!=this.structure.playingSoundID&&this.structure.sound.stop(this.structure.playingSoundID),this.structure=void 0),null!=t&&(this.setStructure(n),e&&n.loadSprite(this.game.tileGroup,this.game.diff))}},{key:"createStructure",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.game.structures.find((function(e){return e.id==t}));if(null!=n){n.archetype=this.game.archetypes.find((function(t){return t.id==n.archetype_id}));var r=this.game.extractStructurePoses(n),s=new Tt(this.game.resourceList["structure"+n.id].texture,r,this.game,n.archetype.pose_name);s.id=n.id,s.archetype=n.archetype,s.hasMap=n.has_map,s.updateGridSizing(n.archetype.grid_width,n.archetype.grid_height),(s.gridHeight>1||s.gridWidth>1)&&!i&&this.updateObjectOverflow(s.gridWidth,s.gridHeight),s.updateSizeMultiplier(n.archetype.width_multiplier,n.archetype.height_multiplier),null!=n.archetype.x_offset&&null!=n.archetype.y_offset&&s.setOffset(n.archetype.x_offset,n.archetype.y_offset);var o=null!=n.archetype.z_offset?n.archetype.z_offset:.5,a=this.blocks[this.blocks.length-1],h=a.sprite.x-a.offsetX,u=a.sprite.y-a.offsetY;return a.hasAnchor&&(h-=a.sprite.width*a.xAnchor,u-=a.sprite.height*a.yAnchor),null!=e&&(h=e.x,u=e.y),s.sprite.tint=this.tileTint,s.setPosition(h,u,this.x,this.y,o),i||(s.isWalkable=!1),s}}},{key:"replaceWall",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=void 0;null!=t&&(n=this.createWall(t,i)),null!=this.wall&&(this.wall.sprite.parent.removeChild(this.wall.sprite),this.wall.sprite.destroy(),this.wall.removeStepParticle(),null!=this.wall.lightParticle&&(this.wall.lightParticle.sprite.parent.removeChild(this.wall.lightParticle.sprite),this.wall.lightParticle.sprite.destroy(),this.wall.lightParticle.sprite=void 0),null!=this.wall.playingSoundID&&this.wall.sound.stop(this.wall.playingSoundID),this.wall=void 0),null!=t&&(this.setWall(n),n.sprite.alpha=0,e&&n.loadSprite(this.game.tileGroup,this.game.diff))}},{key:"createWall",value:function(t,e){var i=this.game.tiles.find((function(e){return e.id==t})),n=this.game.extractPoses(i),r=new Rt(this.game.resourceList["tile"+i.id].texture,n,this.game);r.id=i.id,r.setOffset(i.x_offset,i.y_offset);var s=this.blocks[0],o=s.sprite.x-s.offsetX,a=s.sprite.y-s.offsetY;if(s.hasAnchor&&(o-=s.sprite.width*s.xAnchor,a-=s.sprite.height*s.yAnchor),null!=e&&(o=e.x,a=e.y),r.setPosition(o,a,this.x,this.y,i.z_offset),i.is_lit&&(r.isLit=!0,r.lightRange=i.lighting_range),null!=i.light_particle_id){var h=this.game.tiles.find((function(t){return t.id==i.light_particle_id}));r.setLightingParticle(h)}if(r.drops=i.drops,null!=i.sound_id){var u=this.game.customSounds.find((function(t){return t.dbId==i.sound_id}));null!=u&&(r.sound=u)}return null!=this.wall?(r.sprite.alpha=this.wall.sprite.alpha,r.sprite.tint=this.wall.sprite.tint):(r.sprite.alpha=this.blocks[this.blocks.length-1].sprite.alpha,r.sprite.tint=this.blocks[this.blocks.length-1].sprite.tint),r}},{key:"replaceTopper",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=void 0;if(null!=t&&(n=this.createTopper(t,i)),null!=this.topper){this.topper.sprite.parent.removeChild(this.topper.sprite),this.topper.sprite.destroy(),this.topper.removeStepParticle(),null!=this.topper.lightParticle&&(this.topper.lightParticle.sprite.parent.removeChild(this.topper.lightParticle.sprite),this.topper.lightParticle.sprite.destroy(),this.topper.lightParticle.sprite=void 0),null!=this.topper.playingSoundID&&this.topper.sound.stop(this.topper.playingSoundID),this.topper=void 0;var r=this.blocks[this.blocks.length-1],s=this.game.tiles.find((function(t){return t.id==r.id}));if(null!=s.step_particle_id){var o=this.game.tiles.find((function(t){return t.id==s.step_particle_id}));r.setSteppingParticle(o)}}null!=t&&(this.setTopper(n),n.sprite.alpha=0,e&&n.loadSprite(this.game.tileGroup,this.game.diff))}},{key:"createTopper",value:function(t,e){var i=this.game.tiles.find((function(e){return e.id==t})),n=this.game.extractPoses(i),r=[];if(null!=i.normal_skew_id){var s=this.game.skews.find((function(t){return t.id==i.normal_skew_id}));r.normal=s}if(null!=i.stepped_skew_id){var o=this.game.skews.find((function(t){return t.id==i.stepped_skew_id}));r.stepped=o}if(null!=i.windy_skew_id){var a=this.game.skews.find((function(t){return t.id==i.windy_skew_id}));r.windy=a}var h=new gt(this.game.resourceList["tile"+i.id].texture,n,r,this.game,!1,!1,i.is_animated);h.id=i.id,h.isTopper=!0,h.setOffset(i.x_offset,i.y_offset);var u=this.blocks[this.blocks.length-1],l=u.sprite.x-u.offsetX,c=u.sprite.y-u.offsetY;if(u.hasAnchor&&(l-=u.sprite.width*u.xAnchor,c-=u.sprite.height*u.yAnchor),null!=e&&(l=e.x,c=e.y),h.setPosition(l,c,this.x,this.y,i.z_offset),i.is_lit&&(h.isLit=!0,h.lightRange=i.lighting_range),r!=[]&&h.setAnchor(i.x_anchor,i.y_anchor),null!=i.step_particle_id){var d=this.game.tiles.find((function(t){return t.id==i.step_particle_id}));h.setSteppingParticle(d)}if(null!=i.light_particle_id){var p=this.game.tiles.find((function(t){return t.id==i.light_particle_id}));h.setLightingParticle(p)}if(null!=i.step_playlist_id){var f=[],g=[],m=this.game.customPlaylists.find((function(t){return t.id==i.step_playlist_id}));if(null!=m&&(f=m.sounds),i.step_snow_playlist_id){var v=this.game.customPlaylists.find((function(t){return t.id==i.step_snow_playlist_id}));null!=v&&(g=v.sounds)}h.setSteppingSounds(f,g)}if(h.drops=i.drops,null!=i.sound_id){var y=this.game.customSounds.find((function(t){return t.dbId==i.sound_id}));null!=y&&(h.sound=y)}return null!=this.topper?(h.sprite.alpha=this.topper.sprite.alpha,h.sprite.tint=this.topper.sprite.tint):(h.sprite.alpha=this.blocks[this.blocks.length-1].sprite.alpha,h.sprite.tint=this.blocks[this.blocks.length-1].sprite.tint),h}},{key:"removeObject",value:function(t){var e=!1,i=this.objects.filter((function(e){return e.id==t})),n=!1;i.forEach((function(t){t.sprite.parent.removeChild(t.sprite),t.sprite.destroy(),t.sprite=void 0,t.isPlant&&(n=!0),t.removeStepParticle(),null!=t.lightParticle&&(t.lightParticle.sprite.parent.removeChild(t.lightParticle.sprite),t.lightParticle.sprite.destroy(),t.lightParticle.sprite=void 0),t.removeNatureParticles(),null!=t.playingSoundID&&t.sound.stop(t.playingSoundID),t.isLit&&(e=!0)})),n&&this.showPlantRemovalAnim(),this.objects=this.objects.filter((function(t){return null!=t.sprite})),e&&(this.game.tinter.currentTint={dark:$t()({r:this.game.tinter.currentTint.dark.red()+1,g:this.game.tinter.currentTint.dark.green()+1,b:this.game.tinter.currentTint.dark.blue()+1}),light:$t()({r:this.game.tinter.currentTint.light.red()+1,g:this.game.tinter.currentTint.light.green()+1,b:this.game.tinter.currentTint.light.blue()+1})})}},{key:"placeObject",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=this.game.tiles.find((function(e){return e.id==t})),o=this.game.extractPoses(s),a=[];if(null!=s.normal_skew_id){var h=this.game.skews.find((function(t){return t.id==s.normal_skew_id}));a.normal=h}if(null!=s.stepped_skew_id){var u=this.game.skews.find((function(t){return t.id==s.stepped_skew_id}));a.stepped=u}if(null!=s.windy_skew_id){var l=this.game.skews.find((function(t){return t.id==s.windy_skew_id}));a.windy=l}var c=this.blocks[this.blocks.length-1],d=c.sprite.x-c.offsetX,p=c.sprite.y-c.offsetY;c.hasAnchor&&(d-=c.sprite.width*c.xAnchor,p-=c.sprite.height*c.yAnchor),null!=n&&(d=n.x,p=n.y);var f=[];if(null!=s.cluster_id)for(var g=this.game.clusters.find((function(t){return t.id==s.cluster_id})),m=0;m<g.locations.length;m++)f.push({z_offset:g.locations[m].z_offset,x_offset:g.locations[m].x_offset,y_offset:g.locations[m].y_offset,z_offset_stepped:g.locations[m].z_offset_stepped,x_offset_stepped:g.locations[m].x_offset_stepped,y_offset_stepped:g.locations[m].y_offset_stepped,minimum_amount:g.minimum_amount,is_cluster:!0});f.push({z_offset:s.z_offset,x_offset:s.x_offset,y_offset:s.y_offset,z_offset_stepped:s.z_offset_stepped,x_offset_stepped:s.x_offset_stepped,y_offset_stepped:s.y_offset_stepped,is_cluster:null!=s.cluster_id,minimum_amount:-1}),f.sort((function(){return Math.random()-.5}));for(var v=function(t){var n=Math.floor(Math.random()*f.length*2);if(f[n],!(t<=f[t].minimum_amount||!f[t].is_cluster||Math.random()>.75))return"continue";var h=new gt(e.game.resourceList["tile"+s.id].texture,o,a,e.game,s.is_vegetation,!1,s.is_animated);if(h.id=s.id,h.updateSizeMultiplier(s.grid_width,s.grid_height),h.setOffset(f[t].x_offset,f[t].y_offset),h.setPosition(d,p,e.x,e.y,f[t].z_offset),null!=f[t].x_offset_stepped&&null!=f[t].y_offset_stepped&&h.setStepOffset(f[t].x_offset_stepped,f[t].y_offset_stepped,f[t].z_offset_stepped),a!=[]&&h.setAnchor(s.x_anchor,s.y_anchor),s.is_hideable&&(h.isHideable=!0),s.is_lit&&(h.isLit=!0,h.lightRange=s.lighting_range),!s.is_walkable&&r&&(h.isWalkable=!1),0==t){if(null!=s.step_particle_id){var u=e.game.tiles.find((function(t){return t.id==s.step_particle_id}));h.setSteppingParticle(u)}if(null!=s.light_particle_id){var l=e.game.tiles.find((function(t){return t.id==s.light_particle_id}));h.setLightingParticle(l)}if(null!=s.step_playlist_id){var c=[],g=[],m=e.game.customPlaylists.find((function(t){return t.id==s.step_playlist_id}));if(null!=m&&(c=m.sounds),s.step_snow_playlist_id){var v=e.game.customPlaylists.find((function(t){return t.id==s.step_snow_playlist_id}));null!=v&&(g=v.sounds)}h.setSteppingSounds(c,g)}if(s.nature_particles.length>0){s.nature_particles.sort((function(t,e){return t.order-e.order}));var y=s.nature_particles.map((function(t){return t.particle_id}));h.setNatureParticles(y)}}if(h.drops=s.drops,h.isObject=!0,h.isPlant=s.is_plant,null!=s.sound_id){var _=e.game.customSounds.find((function(t){return t.dbId==s.sound_id}));null!=_&&(h.sound=_)}return r&&e.addObject(h),i&&h.loadSprite(e.game.tileGroup,e.game.diff),h.sprite.tint=e.blocks[e.blocks.length-1].sprite.tint,h.natureParticles.length>0&&h.natureParticles.forEach((function(t){t.sprite.tint=h.sprite.tint})),s.is_lit&&i&&(e.game.tinter.currentTint={dark:$t()({r:e.game.tinter.currentTint.dark.red()+1,g:e.game.tinter.currentTint.dark.green()+1,b:e.game.tinter.currentTint.dark.blue()+1}),light:$t()({r:e.game.tinter.currentTint.light.red()+1,g:e.game.tinter.currentTint.light.green()+1,b:e.game.tinter.currentTint.light.blue()+1})}),h.sprite.alpha=0,r?void 0:{v:h}},y=0;y<f.length;y++){var _=v(y);switch(_){case"continue":continue;default:if("object"===Kt(_))return _.v}}}},{key:"placeBlock",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.game.tiles.find((function(e){return e.id==t})),o=this.game.extractPoses(s),a=[];if(null!=s.normal_skew_id){var h=this.game.skews.find((function(t){return t.id==s.normal_skew_id}));a.normal=h}if(null!=s.stepped_skew_id){var u=this.game.skews.find((function(t){return t.id==s.stepped_skew_id}));a.stepped=u}if(null!=s.windy_skew_id){var l=this.game.skews.find((function(t){return t.id==s.windy_skew_id}));a.windy=l}var c=1e-4*e;r&&(this.height=e);var d=0,p=0;if(this.blocks.length>0){var f=this.blocks[this.blocks.length-1];d=f.sprite.x-f.offsetX,p=f.sprite.y-f.offsetY,f.hasAnchor&&(d-=f.sprite.width*f.xAnchor,p-=f.sprite.height*f.yAnchor),p-=.48*this.game.diff}null!=n&&(d=n.x,p=n.y);var g=new gt(this.game.resourceList["tile"+s.id].texture,o,a,this.game,!1,!0,s.is_animated);if(g.id=s.id,g.canWash=s.can_wash,g.height=e,g.updateGridSizing(s.grid_width,s.grid_height),g.updateSizeMultiplier(s.height_multiplier,s.width_multiplier),g.setOffset(s.x_offset,s.y_offset),g.setPosition(d,p,this.x,this.y,c),a!=[]&&g.setAnchor(s.x_anchor,s.y_anchor),s.is_hideable&&(g.isHideable=!0),s.is_lit&&(g.isLit=!0,g.lightRange=s.lighting_range),s.is_walkable||(g.isWalkable=!1),null!=s.step_particle_id){var m=this.game.tiles.find((function(t){return t.id==s.step_particle_id}));g.setSteppingParticle(m)}if(null!=s.light_particle_id){var v=this.game.tiles.find((function(t){return t.id==s.light_particle_id}));g.setLightingParticle(v)}if(null!=s.step_playlist_id){var y=[],_=[],b=this.game.customPlaylists.find((function(t){return t.id==s.step_playlist_id}));if(null!=b&&(y=b.sounds),s.step_snow_playlist_id){var x=this.game.customPlaylists.find((function(t){return t.id==s.step_snow_playlist_id}));null!=x&&(_=x.sounds)}g.setSteppingSounds(y,_)}if(g.isGround=!0,g.drops=s.drops,g.sprite.tint=this.tileTint,null!=s.sound_id){var w=this.game.customSounds.find((function(t){return t.dbId==s.sound_id}));null!=w&&(g.sound=w)}if(r&&this.addBlock(g),i&&g.loadSprite(this.game.tileGroup,this.game.diff),!r)return g}},{key:"checkSounds",value:function(){var t=this,e=this.tiles(!1),i=this.game.checkInHearingRange(this.x,this.y),n=this.game.getPlayerAbsDifference(this.x,this.y);0==n&&(n=1);var r=[];e.forEach((function(e){var s=r.find((function(t){return t==e.id}));if(null!=e.sound&&null==s){var o=e.sound.baseVolume/n*(t.game.settings.sfxVolume/100);if(r.push(e.id),null==e.playingSoundID||i||(e.awaitingVolume=0,e.sound.volume(e.sound.volume(e.playingSoundID),e.playingSoundID),e.sound.fadeStopIDs.push(e.playingSoundID),e.sound.fade(e.sound.volume(e.playingSoundID),0,2e3,e.playingSoundID),e.playingSoundID=void 0),null==e.playingSoundID&&i&&o>0){e.awaitingVolume=o;var a=[];t.game.cells.forEach((function(t){null!=t.tiles().find((function(t){return null!=t.sound&&t.sound.dbId==e.sound.dbId&&null!=t.playingSoundID}))&&a.push(t)})),a.length<5&&(e.playingSoundID=e.sound.play("__default"),e.sound.volume(0,e.playingSoundID),e.sound.seek(Math.random()*e.sound.duration(),e.playingSoundID),e.sound.fade(0,o,2e3,e.playingSoundID))}if(null!=e.playingSoundID&&i&&o!=e.awaitingVolume){e.awaitingVolume=o;var h=2e3;t.game.settings.sfxSettingChanged&&(h=10),e.sound.volume(e.sound.volume(e.playingSoundID),e.playingSoundID),e.sound.fade(e.sound.volume(e.playingSoundID),o,h,e.playingSoundID)}}}))}},{key:"hasBasicForaging",value:function(){var t=!1;return this.tiles().forEach((function(e){null!=e.drops&&e.drops.filter((function(t){return null==t.archetype_id})).length>0&&(t=!0)})),t}},{key:"updateObjectOverflow",value:function(t,e){var i=this;this.game.cells.filter((function(n){return n.x<=i.x&&n.x>i.x-t&&n.y<=i.y&&n.y>i.y-e})).forEach((function(t){t.objectOverflow=!0}))}},{key:"showTilePreview",value:function(t,e){if(void 0!==t.id){var i=void 0;switch(e){case"Block":i=this.placeBlock(t.id,this.height+1,!0,void 0,!1);break;case"Side":case"Top":case"Object":if(1==t.is_structure){if(null==(i=this.createStructure(t.id,void 0,!0)))return;i.loadSprite(this.game.tileGroup,this.game.diff);break}i=this.placeObject(t.id,!0,void 0,!1)}i.sprite.zIndex+=.5,i.natureParticles.length>0&&i.natureParticles.forEach((function(t){t.sprite.zIndex+=.5})),i.pulseTarget=.3,this.previewTile=i}}},{key:"removeTilePreview",value:function(){void 0!==this.previewTile&&(this.previewTile.sprite.parent.removeChild(this.previewTile.sprite),this.previewTile.sprite.destroy(),this.previewTile.sprite=void 0,this.previewTile.removeNatureParticles(),this.previewTile=void 0)}},{key:"pulsePreview",value:function(){var t=this;void 0!==this.previewTile&&(.3==this.previewTile.pulseTarget&&(this.previewTile.sprite.alpha-=.01),1==this.previewTile.pulseTarget&&(this.previewTile.sprite.alpha+=.01),this.previewTile.sprite.alpha>=1&&1==this.previewTile.pulseTarget&&(this.previewTile.pulseTarget=.3),this.previewTile.sprite.alpha<=.3&&.3==this.previewTile.pulseTarget&&(this.previewTile.pulseTarget=1),this.previewTile.natureParticles.length>0&&this.previewTile.natureParticles.forEach((function(e){e.sprite.alpha=t.previewTile.sprite.alpha})))}},{key:"canBeExamined",value:function(){return null==this.structure||!this.structure.isSolid}},{key:"getVisionModifier",value:function(){return this.height>=10?4:this.height>=8?3:this.height>=6?2:this.height>=4?1:0}},{key:"tick",value:function(){this.transitionTiles(),this.skewTiles(),this.clearUnsetCritters(),this.checkSounds(),this.pulsePreview(),null==this.wall||this.wall.isMoving||this.wall.setFrameIndex()}}])&&Jt(e.prototype,i),n&&Jt(e,n),t}();function te(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ee=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.instantChange=!0,this.tints=[{light:$t()(16777215),dark:$t()(16777215)},{light:$t()(16777215),dark:$t()(16777215)},{light:$t()(16777215),dark:$t()(16777215)},{light:$t()(16777215),dark:$t()(16777215)},{light:$t()(16777215),dark:$t()(16777215)},{light:$t()(16777215),dark:$t()(16777215)},{light:$t()(16777215),dark:$t()(1973791)},{light:$t()(16777215),dark:$t()(1973791)},{light:$t()(16777215),dark:$t()(1973791)},{light:$t()(16777215),dark:$t()(1973791)},{light:$t()(16777215),dark:$t()(1973791)},{light:$t()(16777215),dark:$t()(1973791)}],this.loadTintFromPreload(i),this.currentTint=this.tints[Math.floor(this.game.time.getTime()/2)],this.processingTint=void 0,this.colorWeight=void 0,this.frameCount=0,this.maxFrames=60}var e,i,n;return e=t,(i=[{key:"ticker",value:function(){var t=this,e=Math.floor(this.game.time.getTime()/2);if(this.currentTint!=this.tints[e]){var i=this.tints[e];null==this.processingTint&&(this.frameCount=0,this.processingTint=this.currentTint,this.instantChange&&(this.maxFrames=1),this.colorWeight={light:{red:(i.light.red()-this.processingTint.light.red())/this.maxFrames,green:(i.light.green()-this.processingTint.light.green())/this.maxFrames,blue:(i.light.blue()-this.processingTint.light.blue())/this.maxFrames},dark:{red:(i.dark.red()-this.processingTint.dark.red())/this.maxFrames,green:(i.dark.green()-this.processingTint.dark.green())/this.maxFrames,blue:(i.dark.blue()-this.processingTint.dark.blue())/this.maxFrames}},this.game.cells.forEach((function(t){t.inLitPosition=!1,t.lightSource=[],t.lightStrength=0}))),this.processingTint={light:$t()({r:this.processingTint.light.red()+this.colorWeight.light.red,g:this.processingTint.light.green()+this.colorWeight.light.green,b:this.processingTint.light.blue()+this.colorWeight.light.blue}),dark:$t()({r:this.processingTint.dark.red()+this.colorWeight.dark.red,g:this.processingTint.dark.green()+this.colorWeight.dark.green,b:this.processingTint.dark.blue()+this.colorWeight.dark.blue})},this.game.cells.forEach((function(e){e.tiles().forEach((function(e){e.sprite.tint=t.processingTint.dark.rgbNumber(),e.natureParticles.length>0&&e.natureParticles.forEach((function(t){t.sprite.tint=e.sprite.tint}))}))}));for(var n=function(e){for(var n=function(n){var r=t.game.cells.find((function(t){return t.x==n&&t.y==e}));if(r.inLitPosition||r.hasLitTile()||(r.tileTint=t.processingTint.dark.rgbNumber(),r.tiles().forEach((function(t){t.sprite.tint=r.tileTint,t.natureParticles.length>0&&t.natureParticles.forEach((function(e){e.sprite.tint=t.sprite.tint}))})),t.game.sprites.players.filter((function(t){return t.gridX==n&&t.gridY==e})).forEach((function(t){t.sprite.tint=r.tileTint}))),r.hasLitTile()){for(var s=r.getMaxLightStrength(),o=[t.processingTint.light],a=0;a<s;a++){var h=a;a==s-1&&(h=s-1.25),o.push($t()({r:t.processingTint.light.red()-(i.light.red()-i.dark.red())/(s-h),g:t.processingTint.light.green()-(i.light.green()-i.dark.green())/(s-h),b:t.processingTint.light.blue()-(i.light.blue()-i.dark.blue())/(s-h)}))}r.updateLightStrength(s,0,o);for(var u=function(i){for(var a=function(a){if(a>=0&&i>=0&&Math.abs(n-a)+Math.abs(e-i)<=s&&!(t.game.board.length<=i||t.game.board[0].length<=a)){var h=t.game.cells.find((function(t){return t.x==a&&t.y==i}));h.updateLightStrength(s,Math.abs(n-a)+Math.abs(e-i),o),h.inLitPosition=!0,null==h.lightSource.find((function(t){return t.x==r.x&&t.y==r.y}))&&h.lightSource.push({x:r.x,y:r.y}),h.tintTiles(s,r.getHeight(),Math.abs(n-a)+Math.abs(e-i),t.processingTint.dark.rgbNumber());var u=t.game.sprites.players.filter((function(t){return t.gridX==a&&t.gridY==i}));u.length>0&&u.forEach((function(t){t.sprite.tint=h.tileTint}))}},h=n-s;h<=n+s;h++)a(h)},l=e-s;l<=e+s;l++)u(l)}},r=0;r<t.game.board[e].length;r++)n(r)},r=0;r<this.game.board.length;r++)n(r);this.game.cells.forEach((function(e){var i=0,n=!1,r=[],s=0;e.blocks.forEach((function(e){e.sprite.tint!=t.processingTint.dark.rgbNumber()?n?i>0&&(i>0&&i<3&&r.push(s-1),i>1&&i<3&&r.push(s-2),n=!1,i=0):n=!0:n&&i++,s++})),r.forEach((function(t){e.blocks[t].sprite.tint=e.tileTint})),e.blocks[e.blocks.length-1].sprite.tint==t.processingTint.dark.rgbNumber()&&(e.tileTint=t.processingTint.dark.rgbNumber())})),null!=this.game.weather.currentWeather&&null!=this.game.weather.currentWeather.sprite&&(this.game.weather.currentWeather.sprite.tint=this.processingTint.dark.rgbNumber()),this.frameCount++,this.frameCount==this.maxFrames&&(this.currentTint=this.tints[e],this.processingTint=void 0,this.colorWeight=void 0,this.instantChange=!1,this.maxFrames=60)}}},{key:"loadTintFromPreload",value:function(t){this.tints=[{light:$t()(t.day_one_light),dark:$t()(t.day_one_dark)},{light:$t()(t.day_two_light),dark:$t()(t.day_two_dark)},{light:$t()(t.day_three_light),dark:$t()(t.day_three_dark)},{light:$t()(t.day_four_light),dark:$t()(t.day_four_dark)},{light:$t()(t.day_five_light),dark:$t()(t.day_five_dark)},{light:$t()(t.day_six_light),dark:$t()(t.day_six_dark)},{light:$t()(t.night_one_light),dark:$t()(t.night_one_dark)},{light:$t()(t.night_two_light),dark:$t()(t.night_two_dark)},{light:$t()(t.night_three_light),dark:$t()(t.night_three_dark)},{light:$t()(t.night_four_light),dark:$t()(t.night_four_dark)},{light:$t()(t.night_five_light),dark:$t()(t.night_five_dark)},{light:$t()(t.night_six_light),dark:$t()(t.night_six_dark)}]}},{key:"loadTints",value:function(){var t=this,e=this.game.mapData.tint_id;null!=e&&W.a.get("/tint/"+e).then((function(e){if(null!=e.data){var i=e.data;t.tints=[{light:$t()(i.day_one_light),dark:$t()(i.day_one_dark)},{light:$t()(i.day_two_light),dark:$t()(i.day_two_dark)},{light:$t()(i.day_three_light),dark:$t()(i.day_three_dark)},{light:$t()(i.day_four_light),dark:$t()(i.day_four_dark)},{light:$t()(i.day_five_light),dark:$t()(i.day_five_dark)},{light:$t()(i.day_six_light),dark:$t()(i.day_six_dark)},{light:$t()(i.night_one_light),dark:$t()(i.night_one_dark)},{light:$t()(i.night_two_light),dark:$t()(i.night_two_dark)},{light:$t()(i.night_three_light),dark:$t()(i.night_three_dark)},{light:$t()(i.night_four_light),dark:$t()(i.night_four_dark)},{light:$t()(i.night_five_light),dark:$t()(i.night_five_dark)},{light:$t()(i.night_six_light),dark:$t()(i.night_six_dark)}]}}))}}])&&te(e.prototype,i),n&&te(e,n),t}();function ie(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ne=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=r,this.time=n,this.backContainer=e,this.frontContainer=i,this.size=150,this.layers=[new h.Sprite.from("/img/game/atmosphere/night_1.png"),new h.Sprite.from("/img/game/atmosphere/night_2.png"),new h.Sprite.from("/img/game/atmosphere/night_3.png"),new h.Sprite.from("/img/game/atmosphere/night_back2.png"),new h.Sprite.from("/img/game/atmosphere/light_psd.png"),new h.Sprite.from("/img/game/atmosphere/extra_lights_psd.png"),new h.Sprite.from("/img/game/atmosphere/rays_1_psd.png"),new h.Sprite.from("/img/game/atmosphere/rays_2_psd.png"),new h.Sprite.from("/img/game/atmosphere/rays_3_psd.png"),new h.Sprite.from("/img/game/atmosphere/rays_4_psd.png"),new h.Sprite.from("/img/game/atmosphere/lens_flare_psd.png")],this.layers.forEach((function(t){t.anchor.set(.5)})),this.layers[3].visible=!1,this.setInitialAlpha(),this.frontContainer.addChild(this.layers[10]),this.frontContainer.addChild(this.layers[9]),this.frontContainer.addChild(this.layers[8]),this.frontContainer.addChild(this.layers[7]),this.frontContainer.addChild(this.layers[6]),this.frontContainer.addChild(this.layers[5]),this.frontContainer.addChild(this.layers[4]),this.backContainer.addChild(this.layers[3]),this.backContainer.addChild(this.layers[2]),this.backContainer.addChild(this.layers[1]),this.backContainer.addChild(this.layers[0])}var e,i,n;return e=t,(i=[{key:"setInitialAlpha",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.layers.forEach((function(t){t.alpha=0}));var e=Math.floor(this.time.getTime());if(e<12){var i=Math.abs(e-6);this.layers[4].alpha=.8/i,e>1&&(this.layers[5].alpha=1/(i+1)),e>3&&e<6&&(this.layers[6].alpha=.15/i,this.layers[7].alpha=.15/i,this.layers[8].alpha=.15/i),e>4&&e<6&&(this.layers[9].alpha=.15/(i+1)),3==e&&(this.layers[10].alpha=.4)}else t&&e>12&&(this.layers[0].alpha=1,this.layers[1].alpha=1,this.layers[2].alpha=1)}},{key:"tick",value:function(){void 0!==this.game.mapData&&this.game.mapData.is_structure?this.hideAll():(this.showAll(),this.nightTick(),this.dayTick())}},{key:"showAll",value:function(){this.frontContainer.alpha<1&&(this.frontContainer.alpha=1),this.backContainer.alpha<1&&(this.backContainer.alpha=1)}},{key:"hideAll",value:function(){this.frontContainer.alpha>0&&(this.frontContainer.alpha=0),this.backContainer.alpha>0&&(this.backContainer.alpha=0)}},{key:"nightTick",value:function(){this.layers[0].rotation+=1e-4,this.layers[1].rotation+=25e-5,this.layers[2].rotation+=5e-4;var t=Math.floor(this.time.getTime()),e=null!=this.game.mapData&&this.game.mapData.is_dreamland,i=5e-4;(e||t>2&&t<12)&&(i=.01),(t>11||e)&&this.layers[0].alpha<1?(this.layers[0].alpha+=i,this.layers[1].alpha+=i,this.layers[2].alpha+=i):t<12&&this.layers[0].alpha>0&&(this.layers[0].alpha-=i,this.layers[1].alpha-=i,this.layers[2].alpha-=i)}},{key:"dayTick",value:function(){if(null!=this.game.mapData&&this.game.mapData.is_dreamland)return this.layers[4].alpha>0&&(this.layers[4].alpha-=.01),this.layers[5].alpha>0&&(this.layers[5].alpha-=.01),this.layers[6].alpha>0&&(this.layers[6].alpha-=.01),this.layers[7].alpha>0&&(this.layers[7].alpha-=.01),this.layers[8].alpha>0&&(this.layers[8].alpha-=.01),this.layers[9].alpha>0&&(this.layers[9].alpha-=.01),void(this.layers[10].alpha>0&&(this.layers[10].alpha-=.01));var t=Math.floor(this.time.getTime());t<8&&this.layers[4].alpha<.8&&(this.layers[4].alpha+=5e-5),t>7&&this.layers[4].alpha>0&&(this.layers[4].alpha-=5e-5,t>10&&(this.layers[4].alpha-=5e-5)),t<6&&t>0&&this.layers[5].alpha<.9&&(this.layers[5].alpha+=5e-5),t>5&&this.layers[5].alpha>0&&(this.layers[5].alpha-=5e-5,t>10&&(this.layers[5].alpha-=5e-5)),t<7&&t>3&&this.layers[6].alpha<.2&&(this.layers[6].alpha+=5e-5,this.layers[7].alpha+=5e-5,this.layers[8].alpha+=5e-5),t<7&&t>4&&this.layers[9].alpha<.2&&(this.layers[9].alpha+=5e-5),t>7&&this.layers[6].alpha>0&&(this.layers[6].alpha-=5e-5,this.layers[7].alpha-=5e-5,this.layers[8].alpha-=5e-5,this.layers[9].alpha>0&&(this.layers[9].alpha-=5e-5)),t<4&&t>1&&this.layers[10].alpha<.4&&(this.layers[10].alpha+=1e-4),t>3&&this.layers[10].alpha>0&&(this.layers[10].alpha-=1e-4)}},{key:"resize",value:function(t){var e=this;this.size=1.6*t,this.layers.forEach((function(t){t.width=e.size,t.height=e.size,t.x=t.width/3.4,t.y=t.height/3.2}))}}])&&ie(e.prototype,i),n&&ie(e,n),t}();function re(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var se=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.playlists=[],this.musicPlaylists=[],this.currentIndex=-1,this.currentSound=void 0,this.currentSoundKey=void 0,this.currentSong=void 0,this.isDayMusic=!1}var e,i,n;return e=t,(i=[{key:"playSounds",value:function(){this.playMusic();var t=Math.floor(Math.floor(this.game.time.getTime())/2);if(this.game.vueInstance.playerIsDead&&(t=9),t!=this.currentIndex&&null!=this.playlists.find((function(t){return null!=t}))&&(this.currentIndex=t,null!=this.playlists[t]&&0!=this.playlists[t].sounds.length)){var e=Math.floor(Math.random()*this.playlists[t].sounds.length),i=this.playlists[t].sounds[e];null!=this.currentSound&&this.currentSound!=i&&(0==this.currentSound.volume(this.currentSoundKey)||0==this.game.settings.sfxVolume?this.currentSound.stop():(this.currentSound.fade(this.currentSound.volume(this.currentSoundKey),0,5e3,this.currentSoundKey),this.currentSound.fadeStopIDs.push(this.currentSoundKey))),this.currentSound!=i&&(this.currentSound=i,this.currentSoundKey=this.currentSound.play("__default"),this.currentSound.fade(0,this.playlists[t].sounds[e].baseVolume*(this.game.settings.sfxVolume/100),5e3,this.currentSoundKey))}}},{key:"toggleDayNightMusic",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t!==this.isDayMusic&&(this.isDayMusic=t,this.fadeOutMusic(),!0)}},{key:"fadeOutMusic",value:function(){if(void 0!==this.currentSong){if(0==this.currentSong.volume(this.currentSongKey)||0==this.game.settings.bgmVolume)return this.currentSong.stop(),this.currentSong=void 0,void(this.currentSongKey=void 0);this.currentSong.fade(this.currentSong.volume(this.currentSongKey),0,3e3),this.currentSong.fadeStopIDs.push(this.currentSongKey),this.currentSong=void 0,this.currentSongKey=void 0}}},{key:"fadeOutSounds",value:function(){if(void 0!==this.currentSound){if(0==this.currentSound.volume(this.currentSoundKey)||0==this.game.settings.sfxVolume)return this.currentSound.stop(),this.currentSound=void 0,void(this.currentSoundKey=void 0);this.currentSound.fade(this.currentSound.volume(this.currentSoundKey),0,3e3),this.currentSound.fadeStopIDs.push(this.currentSoundKey),this.currentSound=void 0,this.currentSoundKey=void 0}}},{key:"playMusic",value:function(){var t=this,e=void 0;if(this.currentIndex<6?(e=void 0!==this.musicPlaylists[0]?this.musicPlaylists[0].sounds:[],this.toggleDayNightMusic()):(e=void 0!==this.musicPlaylists[1]?this.musicPlaylists[1].sounds:[],this.toggleDayNightMusic(!1)),0!==e.length&&void 0===this.currentSong){var i=Math.floor(Math.random()*e.length);this.currentSong=e[i],this.currentSongKey=this.currentSong.play("__default");var n=this.currentSong.baseVolume*(this.game.settings.bgmVolume/100);this.currentSong.fade(0,n,3e3),this.currentSong.once("end",(function(e){t.currentSongKey==e&&(t.currentSong.stop(e),t.currentSong=void 0,t.currentSongKey=void 0)}),this.currentSongKey),this.game.vueInstance.updateSongName(this.currentSong.nickname)}}},{key:"loadSounds",value:function(t,e){if(this.playlists=[],this.musicPlaylists=[],null!=t&&null!=t){var i=void 0;i=e.find((function(e){return e.id==t.day_one_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.day_two_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.day_three_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.day_four_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.day_five_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.day_six_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.night_one_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.night_two_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.night_three_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.night_four_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.night_five_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.night_six_playlist_id})),this.playlists.push(i),i=e.find((function(e){return e.id==t.day_music_playlist_id})),this.musicPlaylists.push(i),i=e.find((function(e){return e.id==t.night_music_playlist_id})),this.musicPlaylists.push(i),this.playSounds()}}}])&&re(e.prototype,i),n&&re(e,n),t}();function oe(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ae=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.timeDifference=0,this.lastClientTime=new Date,this.getServerTime()}var e,i,n;return e=t,(i=[{key:"getServerTime",value:function(){var t=this;W.a.get("/time").then((function(e){var i=new Date(e.data.utc),n=new Date;t.timeDifference=i-n,t.game.requiresRefresh=!0})).catch(a.raiseError)}},{key:"getTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!=this.game.mapData&&this.game.mapData.is_dreamland)return 19;var e=new Date;return Math.abs(this.lastClientTime-e)>5e3&&this.getServerTime(),this.lastClientTime=e,t?(e.getTime()+this.timeDifference)/1e3%15:(e.getTime()+this.timeDifference)/1e3/60%24}},{key:"isDayTime",value:function(){return!(null!=this.game.mapData&&this.game.mapData.is_dreamland||Math.floor(this.getTime())>=12)}}])&&oe(e.prototype,i),n&&oe(e,n),t}();function he(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ue=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=i,this.container=e,this.weathers=[],this.currentWeather=void 0,this.previousWeather=void 0,this.currentSound=void 0,this.previousSound=void 0,this.loadWeathers(this.game.weathers,this.game.poses)}var e,i,n;return e=t,(i=[{key:"tick",value:function(){if(this.updateCurrentWeather(),null!=this.currentWeather)this.checkForParticle();else{if(100*Math.random()>50)return;var t=Math.floor(Math.random()*this.game.board[0].length),e=Math.floor(Math.random()*this.game.board.length);this.game.changeCellState(t,e)}}},{key:"stopSounds",value:function(){null!=this.currentSound&&this.currentSound.stop(),null!=this.previousSound&&this.previousSound.stop()}},{key:"checkForParticle",value:function(){if(null!=this.currentWeather&&!(100*Math.random()>this.currentWeather.particleChance)){var t=Math.floor(Math.random()*this.game.board[0].length),e=Math.floor(Math.random()*this.game.board.length),i=this.game.cells.find((function(i){return i.x==t&&i.y==e}));if(this.currentWeather.particles.length){var n=Math.floor(Math.random()*this.currentWeather.particles.length),r=new h.AnimatedSprite(this.currentWeather.particles[n]);r.onLoop=function(){r.destroy()},r.alpha=i.isInFog()?0:1,this.game.loadAnim(r,this.game.boardCoordinates["x"+t+"y"+e].x,this.game.boardCoordinates["x"+t+"y"+e].y,t,e,this.game.getCustomZ(t,e)+.9)}this.game.changeCellState(t,e),this.currentWeather.particles.length&&i.setTileSkew("stepped",!1,!0)}}},{key:"updateCurrentWeather",value:function(){var t=this;null!=this.previousWeather&&(this.previousWeather.sprite.alpha-=.005,this.previousWeather.sprite.alpha<=0&&(this.container.removeChild(this.previousWeather.sprite),this.previousWeather.sprite.stop(),this.previousWeather=void 0)),null!=this.currentWeather&&this.currentWeather.sprite.alpha<1&&(this.currentWeather.sprite.alpha+=.005),null!=this.previousSound&&(this.previousSound.playing()||(this.previousSound=void 0));var e=this.weathers.find((function(e){return e.id==t.game.mapData.weather_id}));if(e!=this.currentWeather&&(null!=this.currentWeather&&(this.previousWeather=this.currentWeather),null!=this.currentSound&&(this.previousSound=this.currentSound,0==this.previousSound.volume()?this.previousSound.stop():this.previousSound.fade(this.previousSound.volume(),0,5e3)),this.currentWeather=e,null!=this.currentWeather&&(this.game.resize(),this.currentWeather.sprite.tint=this.game.tinter.currentTint.dark.rgbNumber(),this.currentWeather.sprite.alpha=0,this.currentWeather.sprite.play(),this.container.addChild(this.currentWeather.sprite),null!=this.currentWeather.playlist))){var i=Math.floor(Math.random()*this.currentWeather.playlist.sounds.length);this.currentSound=this.currentWeather.playlist.sounds[i],this.currentSound.play("__default"),this.currentSound.fade(0,this.currentSound.baseVolume*(this.game.settings.sfxVolume/100),5e3)}}},{key:"loadWeathers",value:function(t,e){var i=this;this.weathers=[],t.forEach((function(t){for(var n=e.find((function(e){return e.id==t.pose_id})),r=[],s=0;s<n.frames.length;s++){var o=n.frames[s].height,a=n.frames[s].width,u=n.frames[s].image_x,l=n.frames[s].image_y,c=n.frames[s].time,d=n.frames[s].x_rotation;r.push({texture:new h.Texture(i.game.resourceList["weather"+t.id].texture,new h.Rectangle(u,l,a,o),null,null,d),time:c})}var p=i.game.customPlaylists.find((function(e){return e.id==t.playlist_id})),f=[];t.particles.forEach((function(t){var n=i.game.tiles.find((function(e){return e.id==t})),r=[],s=e.find((function(t){return t.id==n.spring_pose_id}));if(null!=s){for(var o=0;o<s.frames.length;o++){var a=s.frames[o].height,u=s.frames[o].width,l=s.frames[o].image_x,c=s.frames[o].image_y,d=s.frames[o].time,p=s.frames[o].x_rotation;r.push({texture:new h.Texture(i.game.resourceList["tile"+n.id].texture,new h.Rectangle(l,c,u,a),null,null,p),time:d})}if(f.push(r),n.is_spawnable){r=[];for(var g=0;g<s.frames.length;g++){var m=s.frames[g].height,v=s.frames[g].width,y=s.frames[g].image_x,_=s.frames[g].image_y,b=s.frames[g].time,x=0==s.frames[g].x_rotation?12:0;r.push({texture:new h.Texture(i.game.resourceList["tile"+n.id].texture,new h.Rectangle(y,_,v,m),null,null,x),time:b})}f.push(r)}}})),i.weathers.push({id:t.id,isRain:"1"==t.is_rain,isSnow:"1"==t.is_snow,isWind:"1"==t.is_wind,sprite:new h.AnimatedSprite(r),playlist:p,particles:f,particleChance:t.particle_chance})}))}}])&&he(e.prototype,i),n&&he(e,n),t}();function le(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ce=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.spawnedCritters=[],this.biomeData={},this.allowedCritters=[],this.maxCritters=0,this.loadBiomeData(i)}var e,i,n;return e=t,(i=[{key:"loadBiomeData",value:function(t){var e=this;this.allowedCritters=t.critters,this.allowedCritters.forEach((function(t){null==t.textures&&(null==e.game.resourceList["critter_enter"+t.id]&&(e.game.resourceList["critter_enter"+t.id]={texture:h.Texture.from("/".concat(t.entrance_spritesheet))}),null==e.game.resourceList["critter_idle"+t.id]&&(e.game.resourceList["critter_idle"+t.id]={texture:h.Texture.from("/".concat(t.idle_spritesheet))}),null==e.game.resourceList["critter_exit"+t.id]&&(e.game.resourceList["critter_exit"+t.id]={texture:h.Texture.from("/".concat(t.exit_spritesheet))}),t.textures={enter_pose:e.game.resourceList["critter_enter"+t.id].texture,idle_pose:e.game.resourceList["critter_idle"+t.id].texture,exit_pose:e.game.resourceList["critter_exit"+t.id].texture})})),this.day_one_playlist_id=t.day_one_playlist_id,this.day_two_playlist_id=t.day_two_playlist_id,this.day_three_playlist_id=t.day_three_playlist_id,this.day_four_playlist_id=t.day_four_playlist_id,this.day_five_playlist_id=t.day_five_playlist_id,this.day_six_playlist_id=t.day_six_playlist_id,this.night_one_playlist_id=t.night_one_playlist_id,this.night_two_playlist_id=t.night_two_playlist_id,this.night_three_playlist_id=t.night_three_playlist_id,this.night_four_playlist_id=t.night_four_playlist_id,this.night_five_playlist_id=t.night_five_playlist_id,this.night_six_playlist_id=t.night_six_playlist_id,this.day_music_playlist_id=t.day_music_playlist_id,this.night_music_playlist_id=t.night_music_playlist_id}},{key:"tick",value:function(){var t=this;if(this.allowedCritters.length){var e=Math.floor(Math.random()*this.allowedCritters.length);if(null!=this.allowedCritters[e]&&(this.spawnedCritters=this.spawnedCritters.filter((function(t){return null!=t.sprite})),!(this.spawnedCritters.filter((function(i){return i.id==t.allowedCritters[e].id})).length>this.allowedCritters[e].max_spawnable))){var i=Math.floor(Math.random()*this.game.board[0].length),n=Math.floor(Math.random()*this.game.board.length);if(null==this.game.sprites.players.find((function(r){return Math.abs(r.x-i)+Math.abs(r.y-n)<=t.allowedCritters[e].spook_range}))){var r=this.allowedCritters[e],s={x_offset:r.x_offset,y_offset:r.y_offset,z_offset:r.z_offset};if(null!=r.cluster_id){var o=this.game.clusters.find((function(i){return i.id==t.allowedCritters[e].cluster_id})),a=JSON.parse(JSON.stringify(o.locations));a[a.length]={x_offset:r.x_offset,y_offset:r.y_offset,z_offset:r.z_offset},s=a[Math.floor(Math.random()*a.length)]}this.spawnCritter(r,i,n,s)}}}}},{key:"checkCritterSpook",value:function(t,e){this.spawnedCritters.forEach((function(i){i.checkSpook(t,e)}))}},{key:"spawnCritter",value:function(t,e,i,n){if(null==this.spawnedCritters.find((function(r){return r.id==t.id&&r.offsetX==n.x_offset&&r.offsetY==n.y_offset&&r.gridX==e&&r.gridY==i}))){var r=this.game.cells.find((function(t){return t.x==e&&t.y==i})),s=!1;if(t.spawn_tiles.forEach((function(t){r.hasTileId(t.tile_id)&&(s=!0)})),s){var o=[],a=JSON.parse(JSON.stringify(this.game.poses.find((function(e){return e.id==t.entrance_pose_id}))));a.name="enter_pose",o.push(a),(a=JSON.parse(JSON.stringify(this.game.poses.find((function(e){return e.id==t.idle_pose_id}))))).name="idle_pose",o.push(a),(a=JSON.parse(JSON.stringify(this.game.poses.find((function(e){return e.id==t.exit_pose_id}))))).name="exit_pose",o.push(a),this.spawnedCritters.push(new Vt(t.textures,o,[],this.game));var h=this.spawnedCritters[this.spawnedCritters.length-1];if(h.sprite.alpha=0,h.setOffset(n.x_offset,n.y_offset),h.id=t.id,h.instantSpook=t.instant_spook,t.is_lit&&(h.isLit=!0),null!=t.entrance_playlist_id){var u=this.game.customPlaylists.find((function(e){return e.id==t.entrance_playlist_id}));null!=u&&h.setEntrancePlaylist(u)}if(null!=t.exit_playlist_id){var l=this.game.customPlaylists.find((function(e){return e.id==t.exit_playlist_id}));null!=l&&h.setExitPlaylist(l)}if(null!=t.idle_playlist_id){var c=this.game.customPlaylists.find((function(e){return e.id==t.idle_playlist_id}));null!=c&&h.setIdlePlaylist(c)}h.isLit||(h.sprite.tint=r.tileTint);var d=this.game.boardCoordinates["x".concat(e,"y").concat(i)].x,p=this.game.boardCoordinates["x".concat(e,"y").concat(i)].y;h.spawn(d,p,e,i,n.z_offset),r.isInFog()&&(h.sprite.alpha=0),r.addCritter(h)}}}}])&&le(e.prototype,i),n&&le(e,n),t}(),de=i("o0o1"),pe=i.n(de);function fe(t,e,i,n,r,s,o){try{var a=t[s](o),h=a.value}catch(t){return void i(t)}a.done?e(h):Promise.resolve(h).then(n,r)}function ge(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function o(t){fe(s,n,r,o,a,"next",t)}function a(t){fe(s,n,r,o,a,"throw",t)}o(void 0)}))}}function me(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ve=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.vueInstance=app.__vue__.$children[0],this.controls={},this.typingSent=0,this.controls.wKey=this.keyboard(87),this.controls.aKey=this.keyboard(65),this.controls.sKey=this.keyboard(83),this.controls.dKey=this.keyboard(68),this.controls.selectKey=this.keyboard(37),this.controls.altSelectKey=this.keyboard(32),this.controls.cancelKey=this.keyboard(39),this.controls.altCancelKey=this.keyboard(27),this.controls.randomKey=this.keyboard(40),this.controls.menuKey=this.keyboard(38),this.controls.qKey=this.keyboard(81),this.controls.eKey=this.keyboard(69),this.controls.enterKey=this.keyboard(13),this.controls.skipSongKey=this.keyboard(219),this.controls.pKey=this.keyboard(80),this.controls.lKey=this.keyboard(76),this.controls.pKey.press=function(){var t=i.game.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(null==t)alert("No player found");else{var e=prompt("Enter sight strength:",t.stats.sight);""==e||isNaN(e)||(t.stats.sight=parseInt(e))}},this.controls.lKey.press=function(){var t=i.game.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(null==t)alert("No player found");else{var e=prompt("Enter hearing strength:",t.stats.hearing);""==e||isNaN(e)||(t.stats.hearing=parseInt(e))}},this.controls.wKey.press=function(){i.pressKey("up")},this.controls.aKey.press=function(){i.pressKey("left")},this.controls.sKey.press=function(){i.pressKey("down")},this.controls.dKey.press=function(){i.pressKey("right")},this.controls.menuKey.press=function(){i.game.menuOpen||i.game.sounds.menu.open.play(),i.pressKey("menu")},this.controls.selectKey.press=function(){i.pressKey("accept")},this.controls.altSelectKey.press=function(){i.pressKey("accept")},this.controls.cancelKey.press=function(){i.handleCancel()},this.controls.altCancelKey.press=function(){if(i.inputVisble){i.inputVisble=!1;var t=i.game.sprites.players.find((function(t){return 1==t.isCurrentUser}));null!=t&&t.notice.hideTyping()}else i.handleCancel()},this.controls.randomKey.press=function(){i.pressKey("other")},this.controls.enterKey.press=function(){i.controls.wKey.isDown=!1,i.controls.aKey.isDown=!1,i.controls.sKey.isDown=!1,i.controls.dKey.isDown=!1;var t=i.vueInstance.processEnterKey(),e=i.game.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(null!=e){if(i.game.showMarkers(0,0,-1,-1,"noise"),!i.vueInstance.inputVisble){var n=i.game.getChatRange(e,t);return n!=e.stats.noise&&(i.game.showMarkers(e.gridX,e.gridY,n,e.getVisionRange(),"noise"),i.game.sounds.chat.noise.play()),void e.notice.hideTyping()}i.game.showMarkers(e.gridX,e.gridY,e.stats.noise,e.getVisionRange(),"noise"),i.game.sounds.chat.noise.play()}},this.controls.qKey.press=function(){i.pressKey("anticlockwise")},this.controls.eKey.press=function(){i.pressKey("clockwise")},this.controls.skipSongKey.press=function(){i.game.natureSounds.fadeOutMusic()},this.touchKeysHeld={up:!1,down:!1,left:!1,right:!1,a:!1,b:!1,x:!1,y:!1},this.msDelay=500,this.delayReduction=225,document.getElementById("menuReturn").addEventListener("click",(function(){i.handleCancel()}));var n=document.getElementById("up-key");n.addEventListener("touchstart",ge(pe.a.mark((function t(){var e;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.touchKeysHeld.up=!0,e=i.msDelay;case 2:if(!i.touchKeysHeld.up){t.next=9;break}return i.pressKey("up"),t.next=6,i.sleep(e);case 6:e>i.delayReduction&&(e-=i.delayReduction),t.next=2;break;case 9:case"end":return t.stop()}}),t)})))),n.addEventListener("touchend",(function(){i.touchKeysHeld.up=!1})),n.addEventListener("contextmenu",(function(t){t.preventDefault()}));var r=document.getElementById("down-key");r.addEventListener("touchstart",ge(pe.a.mark((function t(){var e;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.touchKeysHeld.down=!0,e=i.msDelay;case 2:if(!i.touchKeysHeld.down){t.next=9;break}return i.pressKey("down"),t.next=6,i.sleep(e);case 6:e>i.delayReduction&&(e-=i.delayReduction),t.next=2;break;case 9:case"end":return t.stop()}}),t)})))),r.addEventListener("touchend",(function(){i.touchKeysHeld.down=!1})),r.addEventListener("contextmenu",(function(t){t.preventDefault()}));var s=document.getElementById("left-key");s.addEventListener("touchstart",ge(pe.a.mark((function t(){var e;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.touchKeysHeld.left=!0,e=i.msDelay;case 2:if(!i.touchKeysHeld.left){t.next=9;break}return i.pressKey("left"),t.next=6,i.sleep(e);case 6:e>i.delayReduction&&(e-=i.delayReduction),t.next=2;break;case 9:case"end":return t.stop()}}),t)})))),s.addEventListener("touchend",(function(){i.touchKeysHeld.left=!1})),s.addEventListener("contextmenu",(function(t){t.preventDefault()}));var o=document.getElementById("right-key");o.addEventListener("touchstart",ge(pe.a.mark((function t(){var e;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.touchKeysHeld.right=!0,e=i.msDelay;case 2:if(!i.touchKeysHeld.right){t.next=9;break}return i.pressKey("right"),t.next=6,i.sleep(e);case 6:e>i.delayReduction&&(e-=i.delayReduction),t.next=2;break;case 9:case"end":return t.stop()}}),t)})))),o.addEventListener("touchend",(function(){i.touchKeysHeld.right=!1})),o.addEventListener("contextmenu",(function(t){t.preventDefault()})),document.getElementById("a-key").addEventListener("touchstart",(function(){i.pressKey("accept")})),document.getElementById("b-key").addEventListener("touchstart",(function(){i.handleCancel()})),document.getElementById("y-key").addEventListener("touchstart",(function(){i.pressKey("menu")})),document.getElementById("x-key").addEventListener("touchstart",(function(){i.pressKey("other")})),document.getElementById("q-key").addEventListener("touchstart",(function(){i.pressKey("anticlockwise")})),document.getElementById("e-key").addEventListener("touchstart",(function(){i.pressKey("clockwise")}))}var e,i,n;return e=t,(i=[{key:"keyboard",value:function(t){var e=this,i={};return i.code=t,i.isDown=!1,i.isUp=!0,i.press=void 0,i.release=void 0,i.canFastMove=void 0,i.loopCount=0,i.downHandler=function(t){if(t.keyCode===i.code&&e.game.boardLoaded&&e.game.sockets.isConnected){var n=document.getElementById("chat-input");document.activeElement===n&&13!=i.code&&27!=i.code?e.sendTyping():(i.isUp&&i.press&&i.press(),i.isDown=!0,i.isUp=!1,t.preventDefault())}},i.upHandler=function(t){if(t.keyCode===i.code){var e=document.getElementById("chat-input");document.activeElement===e&&13!=i.code&&27!=i.code||(i.isDown&&i.release&&i.release(),i.isDown=!1,i.isUp=!0,i.loopCount=0,t.preventDefault())}},i.canFastMove=function(){return i.loopCount>20&&i.loopCount%4==0},window.addEventListener("keydown",i.downHandler.bind(i),!1),window.addEventListener("keyup",i.upHandler.bind(i),!1),i}},{key:"sendTyping",value:function(){var t=this.game.sprites.players.find((function(t){return 1==t.isCurrentUser}));null!=t&&(t.notice.showTyping(),this.typingSent<(new Date).getTime()-9e3&&(this.typingSent=(new Date).getTime(),W.a.post("/avatar/typing")))}},{key:"pressKey",value:function(t){var e=this.game.getPlayingPlayer();if(void 0!==e){if(e.isSleepingState())return this.playMenuSound(t),void this.game.processWakeUp();if(this.game.menuOpen&&!this.game.editMode&&this.vueInstance.hasOpenModals()){if(("editMode"==this.vueInstance.pressKey(t)||this.game.menuOpen&&!this.game.editMode&&this.vueInstance.editorIsMinimised)&&(this.game.menuOpen=!1,this.game.editMode=!0,this.game.recenterCamera()),this.game.showTileEditPreview(),this.playMenuSound(t),this.vueInstance.inspectOpen){var i=this.vueInstance.getSettingsData();this.game.settings.sfxVolume!=i.sfxVolume&&this.game.settings.updateSfxVolume(i.sfxVolume),this.game.settings.bgmVolume!=i.bgmVolume&&this.game.settings.updateBgmVolume(i.bgmVolume)}}else{if(this.vueInstance.actionOpen){if(this.vueInstance.pressKey(t),this.playMenuSound(t),!this.vueInstance.actionOpen&&this.vueInstance.doMovement&&(this.vueInstance.doMovement=!1,!this.game.isMoving)){if(e.isMoving)return;if(this.game.hasPlayer(this.game.cursorPosition.x,this.game.cursorPosition.y))return;e.movePlayer(this.game.cursorPosition.x,this.game.cursorPosition.y,!1,!1,!0)}return!this.vueInstance.actionOpen&&this.vueInstance.doAction&&(this.vueInstance.doAction=!1,this.game.processAction()),!this.vueInstance.actionOpen&&this.vueInstance.doInteract&&(this.vueInstance.doInteract=!1,this.game.processInteraction()),!this.vueInstance.actionOpen&&this.vueInstance.doSimpleCraft&&(this.vueInstance.doSimpleCraft=!1,this.game.processSimpleCraft(!0)),!this.vueInstance.actionOpen&&this.vueInstance.doSimpleForage&&(this.vueInstance.doSimpleForage=!1,this.game.processBasicForage()),!this.vueInstance.actionOpen&&this.vueInstance.doSleep&&(this.vueInstance.doSleep=!1,this.game.processSleep()),!this.vueInstance.actionOpen&&this.vueInstance.doWakeUp&&(this.vueInstance.doWakeUp=!1,this.game.processWakeUp()),!this.vueInstance.actionOpen&&this.vueInstance.doWash&&(this.vueInstance.doWash=!1,this.game.processWash()),!this.vueInstance.actionOpen&&this.vueInstance.doStopWash&&(this.vueInstance.doStopWash=!1,this.game.processStopWash()),void(!this.vueInstance.actionOpen&&this.vueInstance.doExamineFloor&&(this.vueInstance.doExamineFloor=!1,this.game.processExamineFloor()))}if(this.vueInstance.craftingOpen||this.vueInstance.storageOpen)return this.vueInstance.pressKey(t),void this.playMenuSound(t);this.game.press(t),this.vueInstance.editModalOpen&&this.game.showTileEditPreview()}}}},{key:"playMenuSound",value:function(t){if("normal"===this.vueInstance.menuSound)return"up"!=t&&"down"!=t&&"left"!=t&&"right"!=t||this.game.sounds.menu.select.play(),"anticlockwise"!=t&&"clockwise"!=t||(this.vueInstance.storageOpen?this.playFromAcceptPlaylist():this.game.sounds.menu.select.play()),"other"!=t&&"menu"!=t||!this.vueInstance.storageOpen||this.game.sounds.menu.select.play(),"menu"!=t||this.vueInstance.storageOpen||this.game.sounds.menu.open.play(),"accept"==t&&this.playFromAcceptPlaylist(),void("cancel"==t&&this.game.sounds.menu.close.play());"close"===this.vueInstance.menuSound&&"cancel"==t&&this.game.sounds.menu.close.play(),this.vueInstance.updateMenuSound("normal")}},{key:"playFromAcceptPlaylist",value:function(){var t=this.game.customPlaylists.find((function(t){return"AC_Menu_Select"==t.name}));if(null!=t){var e=Math.floor(Math.random()*t.sounds.length);null!=t.sounds[e]&&t.sounds[e].play()}}},{key:"handleCancel",value:function(){if(this.pressKey("cancel"),this.game.menuOpen&&!this.vueInstance.inspectOpen&&!this.vueInstance.editModalOpen&&!this.vueInstance.craftingOpen&&!this.vueInstance.storageOpen)return this.game.menuOpen=!1,void this.game.recenterCamera()}},{key:"sleep",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}},{key:"tick",value:function(){this.controls.wKey.isDown&&this.controls.wKey.canFastMove()&&this.controls.wKey.press(),this.controls.aKey.isDown&&this.controls.aKey.canFastMove()&&this.controls.aKey.press(),this.controls.sKey.isDown&&this.controls.sKey.canFastMove()&&this.controls.sKey.press(),this.controls.dKey.isDown&&this.controls.dKey.canFastMove()&&this.controls.dKey.press(),this.controls.wKey.isDown&&this.controls.wKey.loopCount++,this.controls.aKey.isDown&&this.controls.aKey.loopCount++,this.controls.sKey.isDown&&this.controls.sKey.loopCount++,this.controls.dKey.isDown&&this.controls.dKey.loopCount++}}])&&me(e.prototype,i),n&&me(e,n),t}();function ye(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _e=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cellID=e,this.game=i}var e,i,n;return e=t,(i=[{key:"setWall",value:function(t){var e=this;null!=t&&W.a.put("/cell/"+this.cellID,{wall:t}).then((function(t){null!=t.data&&null!=t.data.message&&e.game.menuCommand()})).catch(a.raiseError)}},{key:"setTopper",value:function(t){var e=this;null!=t?W.a.put("/cell/"+this.cellID,{topper:t}).then((function(t){null!=t.data&&null!=t.data.message&&e.game.menuCommand()})).catch(a.raiseError):this.removeTopper()}},{key:"removeTopper",value:function(){var t=this;W.a.delete("/cell/"+this.cellID+"?type=topper").then((function(e){null!=e.data&&null!=e.data.message&&t.game.menuCommand(),t.checkSelectedTile()})).catch(a.raiseError)}},{key:"addBlock",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this,n={tile:t};null!=e&&(n.z_position=e),W.a.post("/cell/"+this.cellID+"/blocks",n).then((function(t){null!=t.data&&null!=t.data.message&&i.game.menuCommand()})).catch(a.raiseError)}},{key:"removeBlock",value:function(t,e){var i=this,n={type:"blocks",z_position:e,block:t};W.a.delete("/cell/"+this.cellID,n).then((function(t){null!=t.data&&null!=t.data.message&&i.game.menuCommand(),i.checkSelectedTile()})).catch(a.raiseError)}},{key:"removeTopBlock",value:function(){var t=this;W.a.delete("/cell/"+this.cellID+"?type=blocks").then((function(e){null!=e.data&&null!=e.data.message&&t.game.menuCommand(),t.checkSelectedTile()})).catch(a.raiseError)}},{key:"addObject",value:function(t){var e=this,i={tile:t};W.a.post("/cell/"+this.cellID+"/objects",i).then((function(t){null!=t.data&&null!=t.data.message&&e.game.menuCommand()})).catch(a.raiseError)}},{key:"setStructure",value:function(t){var e=this,i={structure:t};W.a.put("/cell/"+this.cellID,i).then((function(t){null!=t.data&&null!=t.data.message&&e.game.menuCommand()})).catch(a.raiseError)}},{key:"clearCellObjects",value:function(){var t=this;W.a.delete("/cell/"+this.cellID+"?type=objects").then((function(e){null!=e.data&&null!=e.data.message&&t.game.menuCommand(),t.checkSelectedTile()})).catch(a.raiseError)}},{key:"checkSelectedTile",value:function(){void 0!==this.game.vueInstance.$refs.mapEditModal&&void 0!==this.game.vueInstance.$refs.mapEditModal.$refs.itemOptions&&void 0===this.game.vueInstance.$refs.mapEditModal.$refs.itemOptions.selectedItem.id&&this.game.menuCommand(!0)}}])&&ye(e.prototype,i),n&&ye(e,n),t}();function be(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var xe=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.bgmVolume=i.bgm_volume,this.sfxVolume=i.sfx_volume,this.sfxSettingChanged=!1}var e,i,n;return e=t,(i=[{key:"sendSettingsUpdate",value:function(){W.a.put("/settings",{sfx_volume:this.sfxVolume,bgm_volume:this.bgmVolume}).then((function(t){})).catch(a.raiseError)}},{key:"updateBgmVolume",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t=this.validateVolume(t),this.bgmVolume=t,this.game.vueInstance.gameSettings.bgmVolume=t,null!=this.game.natureSounds.currentSong){var i=this.game.natureSounds.currentSong,n=this.game.natureSounds.currentSongKey;i.fade(i._volume,i.baseVolume*(this.bgmVolume/100),100,n)}e&&this.sendSettingsUpdate()}},{key:"updateSfxVolume",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t=this.validateVolume(t),this.sfxVolume=t,this.game.vueInstance.gameSettings.sfxVolume=t,this.sfxSettingChanged=!0,this.game.sounds.select.volume(this.game.sounds.select.baseVolume*(this.sfxVolume/100)),this.game.sounds.cancel.volume(this.game.sounds.cancel.baseVolume*(this.sfxVolume/100)),this.game.sounds.cursor.volume(this.game.sounds.cursor.baseVolume*(this.sfxVolume/100)),this.game.sounds.login.volume(this.game.sounds.login.baseVolume*(this.sfxVolume/100)),this.game.sounds.menu.open.volume(this.game.sounds.menu.open.baseVolume*(this.sfxVolume/100)),this.game.sounds.menu.close.volume(this.game.sounds.menu.close.baseVolume*(this.sfxVolume/100)),this.game.sounds.menu.select.volume(this.game.sounds.menu.select.baseVolume*(this.sfxVolume/100)),this.game.sounds.menu.confirm.volume(this.game.sounds.menu.confirm.baseVolume*(this.sfxVolume/100)),this.game.sounds.menu.cancel.volume(this.game.sounds.menu.cancel.baseVolume*(this.sfxVolume/100)),this.game.sounds.chat.messages.forEach((function(t){t.volume(t.baseVolume*(e.sfxVolume/100))})),this.game.sounds.chat.noise.volume(this.game.sounds.chat.noise.baseVolume*(this.sfxVolume/100)),this.game.sounds.hearing.forEach((function(t){t.volume(t.baseVolume*(e.sfxVolume/100))})),this.game.sounds.materialDrop.volume(this.game.sounds.materialDrop.baseVolume*(this.sfxVolume/100)),null!=this.game.weather.currentSound&&this.game.weather.currentSound.fade(0,this.game.weather.currentSound.baseVolume*(this.sfxVolume/100),100),null!=this.game.weather.previousSound&&this.game.weather.previousSound.fade(0,this.game.weather.previousSound.baseVolume*(this.sfxVolume/100),100),null!=this.game.natureSounds.currentSound){var n=this.game.natureSounds.currentSound,r=this.game.natureSounds.currentSoundKey;n.fade(n._volume,n.baseVolume*(this.sfxVolume/100),100,r)}i&&this.sendSettingsUpdate()}},{key:"validateVolume",value:function(t){return t>100&&(t=100),t<0&&(t=0),t}}])&&be(e.prototype,i),n&&be(e,n),t}();function we(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Se=function(){function t(e,i,n,r,s,o,a,u,l,c,p,f,g,m,v,y){var _=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vueInstance=app.__vue__.$children[0],this.loadedPercent=50,this.loadingTicker(this),this.cells=[],this.board=e,this.players=n,this.playerPoses=s.filter((function(t){return"App\\Avi"==t.model}));for(var b=0;b<this.playerPoses.length;b++)this.playerPoses[b].type=this.playerPoses[b].name;this.tiles=r,this.skeletonTiles=r.filter((function(t){return 1==t.is_skeleton}))||[],this.archetypes=m,this.structures=v,this.poses=s.filter((function(t){return"App\\Avi"!=t.model})),this.sounds=void 0,this.customSounds=[],o.forEach((function(t){_.customSounds.push(d.create(t))})),this.customPlaylists=void 0,this.skews=a,this.weathers=u,this.clusters=l,this.playlists=c,this.mapData=i,this.gridRotation=0,this.gridMaxY=this.board.length-1,this.gridMaxX=this.board[0].length-1,this.diff=32,this.gridSizingX=.95,this.gridSizingY=.44,this.isInactive=!1,this.isRemoving=!1,this.settings=new xe(this,y),this.vueInstance.gameSettings.sfxVolume=this.settings.sfxVolume,this.vueInstance.gameSettings.bgmVolume=this.settings.bgmVolume,this.requiresRefresh=!1,this.loadedPercent=60,this.maxWalkableTileNum=1,this.game=new h.Application({width:100,height:100,backgroundColor:0,resolution:1}),this.sprites={players:[]},this.resourceList=[],this.tileGroup=new h.Container,this.weatherContainer=new h.Container,this.clockContainer=new h.Container,this.atmosphereContainerBack=new h.Container,this.atmosphereContainerFront=new h.Container,this.atmosphere=void 0,this.weather=void 0,this.time=new ae(this),this.clock=new at(this),this.tinter=new ee(this,f),this.natureSounds=new se(this),this.atmosphere=new ne(this.atmosphereContainerBack,this.atmosphereContainerFront,this.time,this),this.boardCoordinates={},this.cursorPosition={x:Math.round(this.board[0].length/2)-1,y:Math.round(this.board.length/2)-1},this.cursorLoaded=!1,this.selectedPlayer=void 0,this.isMoving=!1,this.isRotating=!1,this.firstLoad=!1,this.boardLoaded=!1,this.cameraLocation=void 0,this.menuOpen=!1,this.editMode=!1,this.markersLoading=!1,this.inspectObject={},this.isReloading=!1,this.isBattleMode=!1,this.currentAvatar=void 0,this.gameControls=new ve(this),document.getElementById("game-wrapper-inner").appendChild(this.game.view),this.loader=this.game.loader,this.loader.add("cursor","/img/game/cursor2.png").add("cursor_base","/img/game/cursor_SS.png").add("player_base","/img/game/greencursor_SS.png").add("grey_marker","/img/game/move_range.png").add("purple_marker","/img/game/hear_range.png").add("noise_marker","/img/game/noise_range_3.png").add("login","/img/game/login_full.png").add("typing","/img/game/chat/white_typing.png").add("talking","/img/game/chat/white_talking.png").add("building","/img/game/building_state_2.png").add("teleporter","/img/game/entrance.png").add("pick_up","/img/game/pickUp_animation.png").add("builder","/img/game/build_animation.png").add("washing","/img/game/cleaning_animation.png").add("plantRemoval","/img/game/remove_plants.png").add("sleeping","/img/game/sleep_state.png").add("bubble1","/img/game/states/bubbles/1_SS.png").add("bubble2","/img/game/states/bubbles/2_SS.png").add("bubble3","/img/game/states/bubbles/3_SS.png").add("bubble4","/img/game/states/bubbles/4_SS.png").add("bubble5","/img/game/states/bubbles/5_SS.png").add("bubble6","/img/game/states/bubbles/6_SS.png").add("bubble7","/img/game/states/bubbles/7_SS.png").add("modifierClock","/img/game/modifiers/clock_fixed.png");for(var x=["bleed","hunger","thirst","hygiene","medicine","infection","temperature","constitution","pain","rest","joy","comfort","beauty","bravery","self_control","social"],w=0;w<x.length;w++)this.loader.add("".concat(x[w],"Modifier"),"/img/game/modifiers/".concat(x[w],"_fixed.png"));for(var S=0;S<this.tiles.length;S++)this.loader.add("tile"+this.tiles[S].id,this.tiles[S].spritesheet);for(var T=0;T<this.players.length;T++)this.loader.add("player"+this.players[T].avatar_id,this.players[T].spritesheet);for(var k=0;k<this.weathers.length;k++)this.loader.add("weather"+this.weathers[k].id,this.weathers[k].spritesheet);for(var C=0;C<this.structures.length;C++)this.loader.add("structure"+this.structures[C].id,this.structures[C].file_name);this.loader.load((function(t,e){_.resourceList=e})),this.biome=new ce(this,g),this.customPlaylists=[],this.playlists.forEach((function(t){var e=[];t.sounds.forEach((function(t){var i=_.customSounds.find((function(e){return e.dbId==t}));null!=i&&e.push(i)})),_.customPlaylists.push({id:t.id,name:t.name,sounds:e})})),this.voices=[],p.forEach((function(t){var e=_.customPlaylists.find((function(e){return e.id==t.short_playlist_id})),i=_.customPlaylists.find((function(e){return e.id==t.long_playlist_id})),n=_.customPlaylists.find((function(e){return e.id==t.fast_playlist_id})),r=_.customPlaylists.find((function(e){return e.id==t.scream_playlist_id})),s=_.customPlaylists.find((function(e){return e.id==t.whisper_playlist_id})),o=_.customPlaylists.find((function(e){return e.id==t.surprised_playlist_id})),a=_.customPlaylists.find((function(e){return e.id==t.annoyed_playlist_id})),h=_.customPlaylists.find((function(e){return e.id==t.amused_playlist_id}));_.voices.push({id:t.id,name:t.name,playlists:{short:e,long:i,fast:n,scream:r,whisper:s,surprised:o,annoyed:a,amused:h}})})),this.loadedPercent=90,this.loader.onProgress.add((function(){})),this.loader.onError.add((function(){})),this.loader.onLoad.add((function(){})),this.loader.onComplete.add((function(){_.firstLoad||(_.loadBoard(),_.loadedPercent=100)}))}var e,i,n;return e=t,(i=[{key:"getCurrentPoseState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(null!=this.mapData.season){switch(this.mapData.season){case"spring":case"summer":case"fall":case"winter":e=this.mapData.season;break;default:return}return null==this.weather||null==this.weather.currentWeather||t||(this.weather.currentWeather.isRain?e+="_wet":this.weather.currentWeather.isSnow&&(e+="_snow")),e+="_pose_id"}}},{key:"changeCellState",value:function(t,e){var i=this.getCurrentPoseState(),n=this.getCurrentPoseState(!0),r=this.cells.find((function(i){return i.x==t&&i.y==e}));null!=r&&r.changeWeatherState(i,n)}},{key:"upCommand",value:function(){this.sounds.cursor.play(),this.menuOpen||this.updateCursorPosition({y:-1})}},{key:"leftCommand",value:function(){this.sounds.cursor.play(),this.menuOpen||this.updateCursorPosition({x:-1})}},{key:"rightCommand",value:function(){this.sounds.cursor.play(),this.menuOpen||this.updateCursorPosition({x:1})}},{key:"downCommand",value:function(){this.sounds.cursor.play(),this.menuOpen||this.updateCursorPosition({y:1})}},{key:"acceptCommand",value:function(){var t=this;if(!(this.isMoving||this.markersLoading||this.isPosing))if(this.sounds.select.play(),this.editMode)this.processEditModeAccept();else if(!this.menuOpen)if(null==this.selectedPlayer){if(this.isBattleMode&&this.selectPlayer(),null==this.selectedPlayer){var e=this.getPlayingPlayer();if(null!=e&&!e.isMoving){this.vueInstance.equippedArchetype=void 0,this.vueInstance.activeCell=void 0,this.vueInstance.basicPossible=!1,this.vueInstance.canWash=!1,this.vueInstance.canWalk=!1,this.vueInstance.canSleep=!1,this.vueInstance.canInteract=!1,this.vueInstance.canExamineFloor=!1;var i=this.cells.find((function(e){return e.x==t.cursorPosition.x&&e.y==t.cursorPosition.y}));if(null!=i){this.vueInstance.canWash=i.topBlock().canWash;var n=e.getEquippedArchetype();null!=n&&i.checkEquipmentInteracts(n.id)&&(this.vueInstance.equippedArchetype={title:e.equipment.archetype.name,text:"Use "+e.equipment.archetype.name,image:"/"+e.equipment.archetype.item_preview_image},this.vueInstance.activeCell={x:i.x,y:i.y}),i.hasBasicForaging()&&(this.vueInstance.basicPossible=!0,this.vueInstance.activeCell={x:i.x,y:i.y}),void 0!==i.structure&&(i.structure.hasCraftingTypes()||i.structure.hasRefiningTypes()||i.structure.hasMap||i.structure.canHaveStorage())&&(this.vueInstance.canInteract=!0),i.canBeExamined()&&(this.vueInstance.canExamineFloor=!0)}var r=Math.abs(this.cursorPosition.x-e.gridX)+Math.abs(this.cursorPosition.y-e.gridY);this.vueInstance.distanceFromCell=r,R.findPath([e.gridX,e.gridY],[this.cursorPosition.x,this.cursorPosition.y],this,!0).length>1&&(this.vueInstance.canWalk=!0),null==i.teleport&&(this.vueInstance.canSleep=!0),this.isBattleMode&&1!==r||(this.vueInstance.actionOpen=!0),!1===e.isSleepingState()&&e.checkFacingDirection(i.x,i.y)}}}else if(!this.isMoving&&this.isBattleMode){var s=this.sprites.players.find((function(e){return e.id==t.selectedPlayer}));if(s.isMoving)return;if(this.hasPlayer(this.cursorPosition.x,this.cursorPosition.y))return;s.movePlayer(this.cursorPosition.x,this.cursorPosition.y,!1)}}},{key:"cancelCommand",value:function(){var t=this;if(this.sounds.cancel.play(),!(this.isMoving||this.markersLoading||this.isPosing))if(this.editMode)this.processEditModeCancel();else{var e=this.getPlayingPlayer();if(void 0!==e&&!e.isMoving)if(this.tileGroup.removeChild(e.getBaseSprite()),this.cursorPosition.x!=e.gridX||this.cursorPosition.y!=e.gridY)this.cursorPosition.x=e.gridX,this.cursorPosition.y=e.gridY,this.selectedPlayer=void 0,this.showPlayerAvatar(),this.showMarkers(0,0,-1,-1),this.moveCursor();else{var i=this.sprites.players.find((function(e){return e.gridX==t.cursorPosition.x&&e.gridY==t.cursorPosition.y&&1==e.isCurrentUser}));if(null!=i){if(this.selectedPlayer=void 0,this.showPlayerAvatar(),this.cells.filter((function(t){return 1==t.hasVisibleMarker})).length)return void this.showMarkers(0,0,-1,-1);var n=Math.floor(Math.random()*this.sounds.hearing.length);this.sounds.hearing[n].play(),this.showMarkers(i.gridX,i.gridY,i.getHearingRange(),i.getHearingRange(),"hearing")}}}}},{key:"menuCommand",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((!(this.isMoving||this.isPosing||this.menuOpen)||t)&&void 0!==this.getPlayingPlayer())if(this.editMode)this.editMode=!1,this.menuOpen=!0,this.vueInstance.editorIsMinimised=!1,this.vueInstance.$refs.mapEditModal.$refs.itemOptions.getItems(),this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].x,this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].y,this.offsetCamera();else{this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].x,this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].y,this.offsetCamera(),this.menuOpen=!0;var e=this.getPlayingPlayer();if(null!=e){if(e.isMoving)return;this.inspectObject={player:{id:e.id,isCurrentUser:e.isCurrentUser}}}this.vueInstance.inspectObject=this.inspectObject,null!=this.inspectObject.player&&(this.vueInstance.inspectOpen=!0),this.processSimpleCraft()}}},{key:"rotateCommand",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.menuOpen&&!this.isPosing&&null==this.selectedPlayer){var e=this.getPlayingPlayer();null==e||e.isPosing||(this.isRotating=!0,this.rotateMap(t))}}},{key:"otherCommand",value:function(){}},{key:"press",value:function(t){switch(t){case"up":switch(this.gridRotation){case 0:this.upCommand();break;case 90:this.leftCommand();break;case 180:this.downCommand();break;case 270:this.rightCommand()}break;case"left":switch(this.gridRotation){case 0:this.leftCommand();break;case 90:this.downCommand();break;case 180:this.rightCommand();break;case 270:this.upCommand()}break;case"right":switch(this.gridRotation){case 0:this.rightCommand();break;case 90:this.upCommand();break;case 180:this.leftCommand();break;case 270:this.downCommand()}break;case"down":switch(this.gridRotation){case 0:this.downCommand();break;case 90:this.rightCommand();break;case 180:this.upCommand();break;case 270:this.leftCommand()}break;case"accept":this.acceptCommand();break;case"cancel":this.cancelCommand();break;case"menu":this.menuCommand();break;case"other":this.otherCommand();break;case"clockwise":this.rotateCommand();break;case"anticlockwise":this.rotateCommand(!1)}}},{key:"placeOnMap",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=new _e(t,this);switch(e){case"Block":if(1==r)return void s.setWall(i);s.addBlock(i);break;case"Side":break;case"Top":s.setTopper(i);break;case"Object":if(1==n)return void s.setStructure(i);s.addObject(i)}}},{key:"removeFromMap",value:function(t,e){var i=new _e(t,this);switch(e){case"Block":i.removeTopBlock();break;case"Side":break;case"Top":i.setTopper(null);break;case"Object":i.clearCellObjects()}}},{key:"movePlayerToNearestSpace",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getAllowedHeight(this.cursorPosition.x,this.cursorPosition.y,e,i),r=this.getPlayingPlayer();if(void 0===r||r.isMoving)return-1;var s=this.cells.find((function(e){return e.x==t.cursorPosition.x&&e.y==t.cursorPosition.y})),o=this.cells.find((function(t){return t.x==r.gridX&&t.y==r.gridY}));if(null==o||null==s)return-1;var a=!1,h=Math.abs(s.x-o.x)+Math.abs(s.y-o.y),u=h+Math.abs(s.height-o.height);if(h>1||u>n){var l=[],c=this.cells.find((function(t){return t.x==s.x&&t.y==s.y-1&&null==t.teleport})),d=this.cells.find((function(t){return t.x==s.x&&t.y==s.y+1&&null==t.teleport})),p=this.cells.find((function(t){return t.x==s.x+1&&t.y==s.y&&null==t.teleport})),f=this.cells.find((function(t){return t.x==s.x-1&&t.y==s.y&&null==t.teleport}));if(void 0!==c&&Math.abs(c.height-s.height)<n&&!this.hasPlayer(c.x,c.y)&&l.push({x:c.x,y:c.y}),void 0!==d&&Math.abs(d.height-s.height)<n&&!this.hasPlayer(d.x,d.y)&&l.push({x:d.x,y:d.y}),void 0!==p&&Math.abs(p.height-s.height)<n&&!this.hasPlayer(p.x,p.y)&&l.push({x:p.x,y:p.y}),void 0!==f&&Math.abs(f.height-s.height)<n&&!this.hasPlayer(f.x,f.y)&&l.push({x:f.x,y:f.y}),l.sort((function(e,i){var n=R.findPath([r.gridX,r.gridY],[e.x,e.y],t,!0),s=R.findPath([r.gridX,r.gridY],[i.x,i.y],t,!0);return n<s?-1:n>s?1:0})),l.forEach((function(t){a||(a=r.movePlayer(t.x,t.y))})),!a)return-1}return a?u:1}},{key:"getAllowedHeight",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=2,s=this.getPlayingPlayer();if(void 0===s||s.isMoving)return-1;var o=this.cells.find((function(i){return i.x==t&&i.y==e})),a=this.cells.find((function(t){return t.x==s.gridX&&t.y==s.gridY}));if(null==a||null==o)return-1;var h=a.height>o.height;return h&&i&&r++,!h&&n&&r++,r}},{key:"processEditModeAccept",value:function(){var t=this,e=this.movePlayerToNearestSpace(!0);if(-1!==e){var i=this.getPlayingPlayer(),n=this.cells.find((function(e){return e.x==t.cursorPosition.x&&e.y==t.cursorPosition.y}));if(null!=n){var r=this.vueInstance.$refs.mapEditModal.$refs.mainMenu.selectedOption.value,s=this.vueInstance.$refs.mapEditModal.$refs.itemOptions.selectedItem;void 0!==s.id&&void 0!==r&&(e>1?i.stackPlacement={cellId:n.id,itemType:r,itemId:s.id,isStructure:s.is_structure,isWall:s.is_wall}:this.heightDifference(n.x,n.y,i.gridX,i.gridY)<=this.getAllowedHeight(this.cursorPosition.x,this.cursorPosition.y,!0)&&this.placeOnMap(n.id,r,s.id,s.is_structure,s.is_wall))}}}},{key:"processEditModeCancel",value:function(){var t=this,e=this.movePlayerToNearestSpace(!1,!0);if(-1!==e){var i=this.getPlayingPlayer(),n=this.cells.find((function(e){return e.x==t.cursorPosition.x&&e.y==t.cursorPosition.y}));if(null!=n){var r=this.vueInstance.$refs.mapEditModal.$refs.mainMenu.selectedOption.value;e>1?i.stackRemoval={cellId:n.id,type:r}:this.heightDifference(n.x,n.y,i.gridX,i.gridY)<=this.getAllowedHeight(this.cursorPosition.x,this.cursorPosition.y,!1,!0)&&this.removeFromMap(n.id,r)}}}},{key:"processWakeUp",value:function(){var t=this.sprites.players.find((function(t){return 1==t.isCurrentUser}));void 0!==t&&t.isSleeping&&W.a.post("/avatar/wake").then((function(t){})).catch(a.raiseError)}},{key:"processSleep",value:function(){var t=this,e=this.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(void 0!==e){var i=this.cells.find((function(e){return e.x==t.cursorPosition.x&&e.y==t.cursorPosition.y}));null!=i&&(i.x!=e.gridX||i.y!=e.gridY?1==e.movePlayer(this.cursorPosition.x,this.cursorPosition.y)&&(e.stackSleep=!0):e.goToSleep())}}},{key:"processWash",value:function(){var t=this,e=this.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(void 0!==e){var i=this.cells.find((function(e){return e.x==t.cursorPosition.x&&e.y==t.cursorPosition.y}));if(null!=i){var n=i.topBlock();if(void 0!==n&&n.canWash){var r=this.movePlayerToNearestSpace();if(-1===r)return;return r>1?void(e.stackWash=!0):void W.a.post("/avatar/wash")}}}}},{key:"processExamineFloor",value:function(){var t=this,e=this.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(void 0!==e){var i=this.cells.find((function(e){return e.x==t.cursorPosition.x&&e.y==t.cursorPosition.y}));if(null!=i&&i.canBeExamined()){var n=this.movePlayerToNearestSpace();if(-1===n)return;return n>1?void(e.stackExamineCell=i):void this.examineCell(i)}}}},{key:"processStopWash",value:function(){var t=this.sprites.players.find((function(t){return 1==t.isCurrentUser}));void 0!==t&&!1!==t.isWashing&&W.a.post("/avatar/stop-washing")}},{key:"processAction",value:function(){var t=this.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(void 0!==t){var e=this.movePlayerToNearestSpace();-1!=e&&(e>1?t.stackAction={x:this.cursorPosition.x,y:this.cursorPosition.y}:(t.checkFacingDirection(this.cursorPosition.x,this.cursorPosition.y),W.a.post("/action/perform",{direction:t.actualDirection})))}}},{key:"processInteraction",value:function(){var t=this,e=this.cells.find((function(e){return e.x==t.cursorPosition.x&&e.y==t.cursorPosition.y}));if(null!=e&&void 0!==e.structure&&(e.structure.hasCraftingTypes()||e.structure.hasRefiningTypes()||e.structure.hasMap||e.structure.canHaveStorage())){var i=this.getPlayingPlayer();if(void 0!==i){var n=this.movePlayerToNearestSpace();if(-1!==n){if(n>1)return e.structure.hasCraftingTypes()||e.structure.hasRefiningTypes()||e.structure.hasMap||!e.structure.canHaveStorage()?void(i.stackInteraction={x:this.cursorPosition.x,y:this.cursorPosition.y}):void(i.stackExamineStructure=e.structure);i.checkFacingDirection(this.cursorPosition.x,this.cursorPosition.y),e.structure.hasCraftingTypes()||e.structure.hasRefiningTypes()||e.structure.hasMap||!e.structure.canHaveStorage()?this.doInteraction(this.cursorPosition.x,this.cursorPosition.y):this.examineStructure(e.structure)}}}}},{key:"doInteraction",value:function(t,e){var i=this,n=this.cells.find((function(i){return i.x==t&&i.y==e}));if(null!=n&&void 0!==n.structure)if(n.structure.hasMap)W.a.put("/position/enter",{structure:n.structure.id});else if(n.structure.hasCraftingTypes()||n.structure.hasRefiningTypes()){var r=[],s=[];if(n.structure.archetype.archetype_craftings.length>0&&n.structure.archetype.archetype_craftings.forEach((function(t){var e=i.archetypes.find((function(e){return e.id==t.craftable_archetype_id}));null!=e&&null==r.find((function(t){return t.id==e.id}))&&r.push({id:e.id,name:e.name,file_name:e.file_name,editor_type:e.editor_type})})),n.structure.archetype.archetype_refinings.length>0&&n.structure.archetype.archetype_refinings.forEach((function(t){s.push(t.tag_id)})),this.vueInstance.refiningOptions=s,this.vueInstance.craftingOptions=r,r.length<1&&refinings.length<1)return;this.vueInstance.cursorLocation=this.cursorPosition,this.vueInstance.craftingStation=n.structure.archetype,this.vueInstance.isSimpleCraft=!1,this.vueInstance.craftingOpen=!0,this.menuOpen=!0}}},{key:"processSimpleCraft",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.archetypes.filter((function(t){return 1==t.is_hand_craftable}));if(!(e.length<1)){var i=[];e.forEach((function(t){i.push({id:t.id,name:t.name,file_name:t.file_name,editor_type:t.editor_type})})),this.vueInstance.craftingOptions=i,this.vueInstance.cursorLocation=this.cursorPosition,this.vueInstance.isSimpleCraft=!0,t&&(this.menuOpen=!0,this.vueInstance.craftingOpen=!0)}}},{key:"processBasicForage",value:function(){var t=this.sprites.players.find((function(t){return 1==t.isCurrentUser}));if(void 0!==t){var e=this.movePlayerToNearestSpace();-1!=e&&(e>1?t.stackForage={x:this.cursorPosition.x,y:this.cursorPosition.y}:(t.checkFacingDirection(this.cursorPosition.x,this.cursorPosition.y),W.a.post("/action/perform/basic",{direction:t.actualDirection})))}}},{key:"examineCell",value:function(t){this.vueInstance.storageCell=t.id,this.vueInstance.storageStructure=void 0,this.vueInstance.storageOpen=!0,this.sounds.menu.open.play(),this.menuOpen=!0,this.offsetCamera()}},{key:"examineStructure",value:function(t){this.vueInstance.storageCell=void 0,this.vueInstance.storageStructure=t.id,this.vueInstance.storageOpen=!0,this.sounds.menu.open.play(),this.menuOpen=!0,this.offsetCamera()}},{key:"offsetCamera",value:function(){var t=this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].x,e=this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].y;this.centerCamera(t+4*this.diff*this.gridSizingX,e-4*this.diff*this.gridSizingY)}},{key:"recenterCamera",value:function(){var t=this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].x,e=this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].y;this.centerCamera(t,e)}},{key:"loadSprite",value:function(t,e,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return t.x=e,t.y=i,t.gridX=n,t.gridY=r,t.height=3*this.diff,t.width=3*this.diff,void 0!==s?(t.zIndex=s,this.tileGroup.addChild(t)):this.game.stage.addChild(t),t}},{key:"loadAnim",value:function(t,e,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return t.animationSpeed=1,t.gotoAndPlay(0),t=this.loadSprite(t,e,i,n,r,s),o&&t.gotoAndPlay(Math.floor(Math.random()*Math.floor(t.totalFrames-1))),t}},{key:"loadBoard",value:function(){var t=this;this.vueInstance.isDreamland=this.mapData.is_dreamland,this.sprites.cursor=new h.Sprite(this.resourceList.cursor.texture);for(var e=[],i=0;i<15;i++)e.push({texture:new h.Texture(this.resourceList.cursor_base.texture,new h.Rectangle(128*i,0,128,128)),time:50});this.sprites.cursor_base=new h.AnimatedSprite(e);for(var n={x:this.diff*(this.gridSizingX*Math.ceil(this.board[0].length/2)),y:this.diff},r={x:n.x,y:n.y},s=0;s<this.board.length;s++){for(var o=function(){t.boardCoordinates["x".concat(a,"y").concat(s)]={x:n.x,y:n.y,grey_marker:void 0};var e=n.y,i=n.y,r=n.x,o=new Qt(a,s,t);if(t.cells.push(o),o.id=t.board[s][a].cell_id,null!=t.board[s][a].blocks&&t.board[s][a].blocks.length)for(var h=0;h<t.board[s][a].blocks.length;h++)e-=t.diff*t.gridSizingY,o.placeBlock(t.board[s][a].blocks[h].id,t.board[s][a].blocks[h].z_position,!1,{x:n.x,y:e});if(null!=t.board[s][a].topper&&null!=t.board[s][a].topper&&o.replaceTopper(t.board[s][a].topper,!1,{x:n.x,y:e}),null!=t.board[s][a].wall&&null!=t.board[s][a].wall&&o.replaceWall(t.board[s][a].wall,!1,{x:r,y:i}),null!=t.board[s][a].skeleton&&null!=t.board[s][a].skeleton&&o.setSkeleton(t.board[s][a].skeleton,!1,{x:n.x,y:e}),null!=t.board[s][a].has_storage&&null!=t.board[s][a].has_storage&&1==t.board[s][a].has_storage&&t.board[s][a].storage_types.forEach((function(t){o.addLoot(t,!1,{x:n.x,y:e})})),null!=t.board[s][a].structure&&null!=t.board[s][a].structure&&o.replaceStructure(t.board[s][a].structure,!1,{x:n.x,y:e}),null!=t.board[s][a].teleport&&1==t.board[s][a].teleport&&o.setTeleport(!1,{x:n.x,y:e}),null!=t.board[s][a].objects&&t.board[s][a].objects.length)for(var u=0;u<t.board[s][a].objects.length;u++)o.placeObject(t.board[s][a].objects[u],!1,{x:n.x,y:e});t.boardCoordinates["x".concat(a,"y").concat(s)].y=e,n.x+=t.diff*t.gridSizingX,n.y+=t.diff*t.gridSizingY},a=0;a<this.board[s].length;a++)o();r.x-=this.diff*this.gridSizingX,r.y+=this.diff*this.gridSizingY,n.x=r.x,n.y=r.y}this.loadSpawnables(),this.isReloading||(this.game.stage.addChild(this.atmosphereContainerBack),this.game.stage.addChild(this.tileGroup),this.game.stage.addChild(this.atmosphereContainerFront),this.game.stage.addChild(this.weatherContainer),this.game.stage.addChild(this.clockContainer)),this.sounds={select:new l.a.Howl({src:["/audio/select.mp3"],volume:this.settings.sfxVolume/100*.5}),cancel:new l.a.Howl({src:["/audio/cancel.mp3"],volume:this.settings.sfxVolume/100*.5}),cursor:new l.a.Howl({src:["/audio/cursor_move.mp3"],volume:this.settings.sfxVolume/100*5}),login:new l.a.Howl({src:["/audio/login.mp3"],volume:this.settings.sfxVolume/100*.25}),crafted:new l.a.Howl({src:["/audio/craft_sound_1.mp3"],volume:this.settings.sfxVolume/100*.25}),menu:{open:new l.a.Howl({src:["/audio/questpack/quest_crate_creak_open.mp3"],volume:this.settings.sfxVolume/100*.5,loop:!1}),close:new l.a.Howl({src:["/audio/questpack/quest_crate_creak_close.mp3"],volume:this.settings.sfxVolume/100*.4,loop:!1}),select:new l.a.Howl({src:["/audio/questpack/quest_metal_switch_select.mp3"],volume:this.settings.sfxVolume/100*.3,loop:!1}),confirm:new l.a.Howl({src:["/audio/questpack/quest_confirm_action_shing.mp3"],volume:this.settings.sfxVolume/100*.25,loop:!1}),cancel:new l.a.Howl({src:["/audio/questpack/quest_hit_metal_unlock.mp3"],volume:this.settings.sfxVolume/100*.4,loop:!1})},chat:{messages:[new l.a.Howl({src:["/audio/chat/message_1.mp3"],volume:this.settings.sfxVolume/100*1,loop:!1,html5:!0,preload:!1}),new l.a.Howl({src:["/audio/chat/message_2.mp3"],volume:this.settings.sfxVolume/100*1,loop:!1,html5:!0,preload:!1})],noise:new l.a.Howl({src:["/audio/chat/noise_1.mp3"],volume:this.settings.sfxVolume/100*1,loop:!1,html5:!0,preload:!1})},hearing:[new l.a.Howl({src:["/audio/hearing_1.mp3"],volume:this.settings.sfxVolume/100*1,loop:!1,html5:!0,preload:!1}),new l.a.Howl({src:["/audio/hearing_2.mp3"],volume:this.settings.sfxVolume/100*1,loop:!1,html5:!0,preload:!1}),new l.a.Howl({src:["/audio/hearing_3.mp3"],volume:this.settings.sfxVolume/100*1,loop:!1,html5:!0,preload:!1}),new l.a.Howl({src:["/audio/hearing_4.mp3"],volume:this.settings.sfxVolume/100*1,loop:!1,html5:!0,preload:!1})],materialDrop:new l.a.Howl({src:["/audio/material_drop.mp3"],volume:this.settings.sfxVolume/100*1,loop:!1,html5:!0,preload:!1})},this.sounds.select.baseVolume=.5,this.sounds.cancel.baseVolume=.5,this.sounds.cursor.baseVolume=5,this.sounds.login.baseVolume=.25,this.sounds.menu.open.baseVolume=.5,this.sounds.menu.close.baseVolume=.4,this.sounds.menu.select.baseVolume=.3,this.sounds.menu.confirm.baseVolume=.25,this.sounds.menu.cancel.baseVolume=.4,this.sounds.chat.messages.forEach((function(t){t.baseVolume=1})),this.sounds.hearing.forEach((function(t){t.baseVolume=1})),this.sounds.chat.noise.baseVolume=1,this.sounds.materialDrop.baseVolume=1,this.isReloading||(this.weather=new ue(this.weatherContainer,this)),this.loadPlayers(),this.checkPlayersBehind(),this.firstLoad=!0,this.natureSounds.loadSounds(this.biome,this.customPlaylists),this.natureSounds.playSounds(),this.showTiles(),this.tinter.currentTint={light:this.tinter.currentTint.light,dark:this.tinter.currentTint.dark,reload:!0},this.sockets=new M(this);for(var u=Math.round(3*Math.random()),c=u>0;u>0;)this.rotateCommand(!0),u--;c&&(this.cells.forEach((function(t){t.tiles(!0).forEach((function(t){void 0!==t.newLocation&&void 0!==t.newLocation.pass&&(t.newLocation.pass=10),t.sprite.alpha=0}))})),this.moveCursor(!0)),this.isReloading||(window.addEventListener("resize",(function(){t.resize()})),this.game.ticker.maxFPS=60,this.game.ticker.add((function(){if(t.isReloading&&null!=t.atmosphere&&t.atmosphere.tick(),!t.isInactive&&t.boardLoaded&&!t.isReloading&&(t.clock.update(),t.weather.tick(),t.cameraTicker(),t.tileGroup.sortChildren(),t.tinter.ticker(),t.natureSounds.playSounds(),t.boardLoaded)){t.vueInstance.itemWasCrafted&&(t.vueInstance.itemWasCrafted=!1,t.sounds.crafted.play()),!0===t.vueInstance.playRollSuccessSound&&(t.vueInstance.playRollSuccessSound=!1,t.playRollSound("success")),!0===t.vueInstance.playRollFailSound&&(t.vueInstance.playRollFailSound=!1,t.playRollSound("fail")),t.gameControls.tick();var e=t.getPlayingPlayer(),i=0;void 0!==e&&(t.vueInstance.updatePlayerState(e.getCurrentState()),i=e.getVisionRange()),NaN==i&&(i=0);var n=[],r=0;t.cells.forEach((function(i){i.tick(),t.isRotating&&(r+=i.rotateTiles()),void 0!==e&&i.checkFog(e)&&i.inLitPosition&&i.lightSource.forEach((function(t){null==n.find((function(e){return e.x==t.x&&e.y==t.y}))&&n.push(t)}))})),t.cells.forEach((function(t){t.lightSourceFrom(n),t.updateTeleport()})),void 0!==e&&t.sprites.players.forEach((function(n){if(n.tick(),null!=n.sprite){var r=t.cells.find((function(t){return t.x==n.gridX&&t.y==n.gridY}));n.isCurrentUser||(Math.abs(n.gridX-e.gridX)+Math.abs(n.gridY-e.gridY)<i||r.isVisible?n.sprite.alpha<1&&(n.sprite.alpha+=.035):n.sprite.alpha>0&&(n.sprite.alpha-=.035))}})),t.isRotating&&t.sprites.players.forEach((function(t){t.isMoving&&(t.spinRound(),r++)})),0==r&&t.isRotating&&(t.isRotating=!1,t.vueInstance.isBlackedOut=!1,t.toggleGameBlur()),t.requiresRefresh&&t.atmosphere.setInitialAlpha(!0),t.requiresRefresh=!1,t.atmosphere.tick(),t.biome.tick(),t.vueInstance.updateBoardFilter(Math.floor(t.time.getTime())),t.vueInstance.actionOpen&&(t.vueInstance.$refs.actionModal.closeTimer--,t.vueInstance.$refs.actionModal.closeTimer<=0&&(t.vueInstance.actionOpen=!1)),t.menuOpen&&!t.editMode&&(t.cells.some((function(t){return null!=t.tileToPreview}))||t.showTileEditPreview()),t.settings.sfxSettingChanged=!1}})))}},{key:"loadPlayers",value:function(){var t=this;this.sprites.players=[];for(var e=function(e){t.sprites.players[e]=new st(t.resourceList["player"+t.players[e].avatar_id].texture,t.playerPoses,[],t.players[e].animation_type,t.players[e].avatar_id,t.players[e].name,t.players[e].direction,t,t.players[e].voice_id,t.players[e].is_current_user),t.sprites.players[e].setAvatarImage(t.players[e].avatar.file_name),t.sprites.players[e].setWeaponType(t.players[e].weapon),t.sprites.players[e].isSleeping=t.players[e].avatar.is_sleeping,t.sprites.players[e].isWashing=t.players[e].avatar.is_washing,null!=t.players[e].equipment&&t.sprites.players[e].setEquipment(t.players[e].equipment);var i=t.boardCoordinates["x"+t.players[e].x_position+"y"+t.players[e].y_position].x,n=t.boardCoordinates["x"+t.players[e].x_position+"y"+t.players[e].y_position].y,r=t.cells.find((function(i){return i.x==t.players[e].x_position&&i.y==t.players[e].y_position}));if(r.startStepOffset(!0),t.sprites.players[e].setPosition(i,n,t.players[e].x_position,t.players[e].y_position,.5),t.sprites.players[e].loadSprite(t.tileGroup,t.diff),t.sprites.players[e].turnPlayer(t.sprites.players[e].actualDirection,!1,!0),t.sprites.players[e].sprite.tint=r.tileTint,t.sprites.players[e].sprite.alpha=0,t.sprites.players[e].isCurrentUser){for(var s=[],o=0;o<31;o++)s.push({texture:new h.Texture(t.resourceList.login.texture,new h.Rectangle(128*o,0,128,128)),time:40});var a=new h.AnimatedSprite(s);a.x=i,a.y=n,a.height=3*t.diff,a.width=3*t.diff,a.tint=r.tileTint,a.onLoop=function(){t.sprites.players[e].sprite.alpha=1,a.destroy()},a.onFrameChange=function(){t.sprites.players[e].sprite.alpha+=.032},a.zIndex=i+n+.75,t.tileGroup.addChild(a),a.play(),t.sounds.login.play()}},i=0;i<this.players.length;i++)e(i)}},{key:"showTiles",value:function(){var t=this;this.cells.forEach((function(e){e.tiles().forEach((function(e){e.sprite.alpha=0,e.loadSprite(t.tileGroup,t.diff)}));var i=t.sprites.players.find((function(t){return t.gridX==e.x&&t.gridY==e.y}));e.startStepOffset(!0),null==i&&e.stopStepOffset()})),this.boardLoaded=!0,this.resize()}},{key:"loadSpawnables",value:function(){}},{key:"instantMovePlayers",value:function(){this.sprites.players.forEach((function(t){t.setInstantMove()}))}},{key:"toggleGameBlur",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&this.vueInstance.isBlackedOut||(this.vueInstance.gameBlurred=t)}},{key:"rotateMap",value:function(t){var e=this;this.toggleGameBlur(!0),this.instantMovePlayers();var i=this.cursorPosition.x,n=this.cursorPosition.y,r=this.cells.find((function(t){return t.y==n&&t.x==i}));if(!r.isMoving){t?this.gridRotation+=90:this.gridRotation-=90,this.gridRotation>270&&(this.gridRotation=0),this.gridRotation<0&&(this.gridRotation=270);var s={},o=this.boardCoordinates["x"+i+"y"+n].x,a=this.boardCoordinates["x"+i+"y"+n].y;switch(a+=this.diff*this.gridSizingY*(r.blocks.length-1),this.gridRotation){case 0:s={x:this.gridSizingX,y:this.gridSizingY,rowX:1,rowY:1},o-=this.diff*(i-n)*this.gridSizingX,a-=this.diff*(n+i)*this.gridSizingY;break;case 90:s={x:-this.gridSizingX,y:this.gridSizingY,rowX:-1,rowY:-1},o+=this.diff*(n+i)*this.gridSizingX,a+=this.diff*(n-i)*this.gridSizingY;break;case 180:s={x:-this.gridSizingX,y:-this.gridSizingY,rowX:1,rowY:1},o-=this.diff*(n-i)*this.gridSizingX,a+=this.diff*(n+i)*this.gridSizingY;break;case 270:s={x:this.gridSizingX,y:-this.gridSizingY,rowX:-1,rowY:-1},o-=this.diff*(n+i)*this.gridSizingX,a-=this.diff*(n-i)*this.gridSizingY;break;default:return}for(var h=o,u=a,l=function(t){for(var i=function(i){var n=e.cells.find((function(e){return e.x==i&&e.y==t})),r=n.tiles(!0),h=o,u=a,l=o,c=a,d=0;if(r.forEach((function(t){t.hasAnchor&&(u+=t.sprite.height*t.yAnchor,h+=t.sprite.width*t.xAnchor),t.isWall?t.setRotationLocation(l,c):t.setRotationLocation(h,u),t.hasAnchor&&(u-=t.sprite.height*t.yAnchor,h-=t.sprite.width*t.xAnchor),t.isGround&&d<n.blocks.length-1&&(u-=e.diff*e.gridSizingY,d++)})),null!=n.previewTile){var p=n.previewTile;p.hasAnchor&&(u+=p.sprite.height*p.yAnchor,h+=p.sprite.width*p.xAnchor),p.setRotationLocation(h,u),p.hasAnchor&&(u-=p.sprite.height*p.yAnchor,h-=p.sprite.width*p.xAnchor)}for(var f=e.sprites.players.filter((function(e){return e.gridX==i&&e.gridY==t})),g=0;g<f.length;g++)f[g].turnPlayer(f[g].actualDirection,!0),f[g].setRotationLocation(h,u);e.boardCoordinates["x"+i+"y"+t].x=h,e.boardCoordinates["x"+i+"y"+t].y=u,o+=e.diff*s.x,a+=e.diff*s.y},n=0;n<e.board[t].length;n++)i(n);h-=e.diff*s.x*s.rowX,u+=e.diff*s.y*s.rowY,o=h,a=u},c=0;c<this.board.length;c++)l(c);this.moveCursor()}}},{key:"extractPoses",value:function(t){for(var e=this,i=[],n=["spring_pose_id","spring_wet_pose_id","spring_blood_pose_id","spring_snow_pose_id","spring_blood_snow_pose_id","summer_pose_id","summer_wet_pose_id","summer_blood_pose_id","summer_snow_pose_id","summer_blood_snow_pose_id","fall_pose_id","fall_wet_pose_id","fall_blood_pose_id","fall_snow_pose_id","fall_blood_snow_pose_id","winter_pose_id","winter_wet_pose_id","winter_blood_pose_id","winter_snow_pose_id","winter_blood_snow_pose_id","burnt_pose_id","frozen_pose_id","electrified_pose_id","petrified_pose_id"],r=function(r){if(null!=t[n[r]]){var s=e.poses.find((function(e){return e.id==t[n[r]]})),o=JSON.parse(JSON.stringify(s));o.type=n[r],i.push(o)}},s=0;s<n.length;s++)r(s);return i}},{key:"extractStructurePoses",value:function(t){var e=this,i=[];return["0_normal","90_normal","180_normal","270_normal","0_snow","90_snow","180_snow","270_snow"].forEach((function(n){var r=e.poses.find((function(e){return e.name==t.archetype.pose_name+n}));null!=r&&i.push(JSON.parse(JSON.stringify(r)))})),i}},{key:"updatePlayerPosition",value:function(t){if(this.boardLoaded){var e=this.sprites.players.find((function(e){return e.id==t.avatar_id}));null!=e?e.gridX!=t.x_position||e.gridY!=t.y_position?e.movePlayer(t.x_position,t.y_position,!0):e.actualDirection!=t.direction&&e.turnPlayer(t.direction):this.insertPlayer(t)}}},{key:"removePlayer",value:function(t,e,i){var n=this.sprites.players.find((function(e){return e.id==t}));null!=n&&(n.gridX!==e||n.gridY!==i?n.movePlayer(e,i,!0,!0):n.removePlayer())}},{key:"killPlayer",value:function(t,e){var i=this.sprites.players.find((function(e){return e.id==t}));if(null!=i){i.isCurrentUser&&(this.vueInstance.closeAllWindows(),this.vueInstance.playerIsDead=!0,this.menuOpen=!1,this.editMode=!1);var n=this.cells.find((function(t){return t.x==i.gridX&&t.y==i.gridY}));null!=n&&e>0&&n.setSkeleton(e),i.removePlayer(!0)}}},{key:"removeSkeleton",value:function(t,e){var i=this.cells.find((function(i){return i.x==t&&i.y==e}));void 0!==i&&i.removeSkeleton()}},{key:"reloadGame",value:function(){var t=this;this.isReloading=!0,this.boardLoaded=!1,this.cursorLoaded=!1,this.selectedPlayer=void 0,this.sockets.disconnect(),this.sockets=void 0;var e=null;null!=this.natureSounds.currentSong&&(e=this.natureSounds.currentSong.dbId);var i=null;null!=this.weather.currentSound&&(i=this.weather.currentSound.dbId),this.natureSounds.fadeOutMusic(),this.natureSounds.fadeOutSounds(),this.customSounds.forEach((function(t){t.dbId!=e&&t.dbId!=i&&(t.playing()&&t.fade(t.volume(),0,1e3),t.stop())})),this.biome.spawnedCritters.forEach((function(e){null!=e.sprite&&(t.tileGroup.removeChild(e.sprite),e.sprite.destroy())})),this.tileGroup.children.filter((function(t){return void 0===t.gridX||void 0===t.gridY})).forEach((function(e){t.tileGroup.removeChild(e)}));for(var n=this.getPlayingPlayer(),r=[],s=function(e){r[e]=t.tileGroup.children.filter((function(t){return Math.abs(n.gridX-t.gridX)+Math.abs(n.gridY-t.gridY)==e}))},o=this.board.length+this.board[0].length;o>=0;--o)s(o);r=r.filter((function(t){return t.length>0}));var a=n.getVisionRange()+3,h=r.length-1,u=3;this.isRemoving=!0,this.getNewMapData(),function e(){if(u<3)return u++,void requestAnimationFrame(e);var i=r[h]||[];h--,u=a<h||0==i.length?3:0;for(var n=0;n<i.length;n++){var s=i[n];if(null==s)break;t.tileGroup.removeChild(s),s.destroy()}if(h<0)return t.continueReloadGame(),void(t.isRemoving=!1);if(0==h)for(var o=r[h]||[],l=0;l<o.length;l++){var c=o[l];if(null==c)break;c.alpha=0}requestAnimationFrame(e)}()}},{key:"continueReloadGame",value:function(){this.cells=[],this.sprites.players=[],this.players=[],this.mapData=void 0,this.boardCoordinates=[],this.gridRotation=0}},{key:"getNewMapData",value:function(){var t=this,e=this,i={map:void 0,biome:void 0,tint:void 0,board:void 0,structures:void 0,players:void 0};W.a.get("/map").then((function(t){i.map=t.data})).catch(a.reloadPage),W.a.get("/biome").then((function(t){i.biome=t.data})).catch(a.reloadPage),W.a.get("/tint").then((function(t){i.tint=t.data})).catch(a.reloadPage),W.a.get("/board").then((function(t){i.board=t.data})).catch(a.reloadPage),W.a.get("/structures?is_editor=false").then((function(t){i.structures=t.data})).catch(a.reloadPage),W.a.get("/position").then((function(t){i.players=t.data})).catch(a.reloadPage),function n(){var r=!0;for(var s in i)void 0===i[s]&&(r=!1);if(r&&0==e.boardCoordinates.length&&!t.isRemoving)return t.tileGroup.children.forEach((function(t){t.parent.removeChild(t),t.destroy()})),void e.loadNewMap(i);requestAnimationFrame(n)}()}},{key:"loadNewMap",value:function(t){var e=this;this.vueInstance.mapID=t.map.id,this.mapData=t.map,this.biome=new ce(this,t.biome),this.natureSounds=new se(this),this.natureSounds.loadSounds(this.biome,this.customPlaylists),this.natureSounds.playSounds(),this.tinter=new ee(this,t.tint),this.board=t.board,this.gridMaxY=this.board.length-1,this.gridMaxX=this.board[0].length-1,t.structures.forEach((function(t){null==e.structures.find((function(e){return e.id==t.id}))&&e.structures.push(t),t.file_name,t.file_name,e.resourceList["structure"+t.id]={texture:h.Texture.from(t.file_name)}})),this.players=t.players,this.players.forEach((function(t){e.resourceList["player"+t.avatar_id]={texture:h.Texture.from(t.spritesheet)}})),this.weather.updateCurrentWeather(),this.loadBoard(),this.isReloading=!1}},{key:"updatePlayerSprites",value:function(t){var e=this.sprites.players.find((function(e){return e.id==t.id}));null!=e&&(e.updateSpriteFiles(t.avi_file,t.avatar_file),e.voice.update(t.voice_id),null!=t.equipment&&(e.setEquipment(t.equipment),e.setWeaponType(t.equipment.archetype.pose_name)))}},{key:"heightDifference",value:function(t,e,i,n){var r=this.cells.find((function(i){return i.x==t&&i.y==e})),s=this.cells.find((function(t){return t.x==i&&t.y==n}));return Math.abs(r.height-s.height)}},{key:"updateCursorPosition",value:function(t){var e=this;if(null!=this.selectedPlayer){var i=this.sprites.players.find((function(t){return t.id==e.selectedPlayer}));if(null!=i&&i.isMoving)return}null!=t.x&&(this.cursorPosition.x<this.board[this.cursorPosition.y].length-1&&t.x>0||this.cursorPosition.x>0&&t.x<0)&&(this.cursorPosition.x+=t.x),null!=t.y&&(this.cursorPosition.y<this.board.length-1&&t.y>0||this.cursorPosition.y>0&&t.y<0)&&null!=this.board[this.cursorPosition.y+t.y][this.cursorPosition.x]&&(this.cursorPosition.y+=t.y),this.moveCursor(),this.showPlayerAvatar()}},{key:"showPlayerAvatar",value:function(){for(var t=this,e=0;e<this.sprites.players.length;e++)this.sprites.players[e].notice.hideName();this.currentAvatar=void 0,this.vueInstance.isHoveringPlayer=!1,this.vueInstance.selected_avatar=this.currentAvatar;var i=this.sprites.players.filter((function(e){return e.gridX==t.cursorPosition.x&&e.gridY==t.cursorPosition.y}));0!==i.length&&i.forEach((function(e){t.currentAvatar={id:e.id,file:e.avatarSpriteFile,currentState:e.isSleeping?"sleeping":""},e.notice.showName(),t.vueInstance.selected_avatar=t.currentAvatar;var i=t.getPlayingPlayer();null!=i&&i.id==t.currentAvatar.id&&(t.vueInstance.isHoveringPlayer=!0)}))}},{key:"moveCursor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cursorLoaded){var e=this.getPlayingPlayer();null!=e&&(this.cursorPosition.x=e.gridX,this.cursorPosition.y=e.gridY)}var i=this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].x,n=this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].y;this.centerCamera(i,n,t);var r=this,s=this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].x,o=this.boardCoordinates["x"+this.cursorPosition.x+"y"+this.cursorPosition.y].y;if(this.cursorLoaded)h();else{this.loadSprite(this.sprites.cursor,i,n-15,this.cursorPosition.x,this.cursorPosition.y,this.cursorPosition.x+this.cursorPosition.y+.1),this.loadAnim(this.sprites.cursor_base,i-1,n-1,this.cursorPosition.x,this.cursorPosition.y,this.cursorPosition.x+this.cursorPosition.y+.1),this.cursorLoaded=!0;var a=document.getElementById("game-wrapper").offsetWidth/2;this.game.stage.pivot.x=i-a+this.diff,this.game.stage.pivot.y=n-a+this.diff}function h(){var t=r.boardCoordinates["x"+r.cursorPosition.x+"y"+r.cursorPosition.y].x,e=r.boardCoordinates["x"+r.cursorPosition.x+"y"+r.cursorPosition.y].y;if(s==t&&o==e){if(r.sprites.cursor.x<t&&(r.sprites.cursor.x+=15),r.sprites.cursor.x>t&&(r.sprites.cursor.x-=15),r.sprites.cursor.y<e-15&&(r.sprites.cursor.y+=7.5),r.sprites.cursor.y>e-15&&(r.sprites.cursor.y-=7.5),r.sprites.cursor_base.x<t&&(r.sprites.cursor_base.x+=15),r.sprites.cursor_base.x>t&&(r.sprites.cursor_base.x-=15),r.sprites.cursor_base.y<e&&(r.sprites.cursor_base.y+=7.5),r.sprites.cursor_base.y>e&&(r.sprites.cursor_base.y-=7.5),r.sprites.cursor.x-t<15&&t-r.sprites.cursor.x<15&&r.sprites.cursor.y-e-15<7.5&&e-r.sprites.cursor.y-15<7.5)return r.sprites.cursor.x=t,r.sprites.cursor.y=e-15,r.sprites.cursor.zIndex=r.getCustomZ(r.cursorPosition.x,r.cursorPosition.y)+.1,r.sprites.cursor_base.x=t-1,r.sprites.cursor_base.y=e-6,r.sprites.cursor_base.zIndex=r.getCustomZ(r.cursorPosition.x,r.cursorPosition.y)+.16,void r.checkPlayersBehind();requestAnimationFrame(h)}}}},{key:"centerCamera",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.cameraLocation={x:t,y:e,instant:i}}},{key:"cameraTicker",value:function(){var t=document.getElementById("game-wrapper").offsetWidth/2,e=this.cameraLocation.x-t+this.diff,i=this.cameraLocation.y-t+this.diff,n=Math.abs(this.game.stage.pivot.x-e)>40?8:2.85,r=Math.abs(this.game.stage.pivot.y-i)>16?3.87268:1.38,s=-this.cameraLocation.x+t-this.diff-5,o=-this.cameraLocation.y+t-this.diff-5;if(this.cameraLocation.instant||Math.abs(this.game.stage.pivot.x-e)<r&&Math.abs(this.game.stage.pivot.y-i)<r)return this.game.stage.pivot.x=e,this.game.stage.pivot.y=i,this.clockContainer.pivot.x=s,this.clockContainer.pivot.y=o,this.atmosphereContainerBack.pivot.x=s,this.atmosphereContainerBack.pivot.y=o,this.atmosphereContainerFront.pivot.x=s,this.atmosphereContainerFront.pivot.y=o,this.weatherContainer.pivot.x=s,void(this.weatherContainer.pivot.y=o);this.game.stage.pivot.x<e&&(this.game.stage.pivot.x+=n,this.clockContainer.pivot.x-=n,this.atmosphereContainerBack.pivot.x-=n,this.atmosphereContainerFront.pivot.x-=n,this.weatherContainer.pivot.x-=n),this.game.stage.pivot.x>e&&(this.game.stage.pivot.x-=n,this.clockContainer.pivot.x+=n,this.atmosphereContainerBack.pivot.x+=n,this.atmosphereContainerFront.pivot.x+=n,this.weatherContainer.pivot.x+=n),this.game.stage.pivot.y<i&&(this.game.stage.pivot.y+=r,this.clockContainer.pivot.y-=r,this.atmosphereContainerBack.pivot.y-=r,this.atmosphereContainerFront.pivot.y-=r,this.weatherContainer.pivot.y-=r),this.game.stage.pivot.y>i&&(this.game.stage.pivot.y-=r,this.clockContainer.pivot.y+=r,this.atmosphereContainerBack.pivot.y+=r,this.atmosphereContainerFront.pivot.y+=r,this.weatherContainer.pivot.y+=r)}},{key:"getCustomZ",value:function(t,e){var i=t+e;switch(this.gridRotation){case 0:break;case 90:i=Math.abs(this.gridMaxY-e)+t;break;case 180:i=Math.abs(this.gridMaxY-e)+Math.abs(this.gridMaxX-t);break;case 270:i=Math.abs(this.gridMaxX-t)+e}return i}},{key:"selectPlayer",value:function(){if(!this.isMoving){var t=this.getPlayingPlayer(this.cursorPosition.x,this.cursorPosition.y);if(null!=t&&!t.isMoving){this.selectedPlayer=t.id;var e=this.boardCoordinates["x"+t.gridX+"y"+t.gridY].x,i=this.boardCoordinates["x"+t.gridX+"y"+t.gridY].y;this.loadAnim(t.getBaseSprite(),e-1,i-5,t.gridX,t.gridY,t.getZ()-.3);var n=t.getVisionRange();return NaN==n&&(n=0),void this.showMarkers(t.gridX,t.gridY,t.getMovementRange(),n)}}}},{key:"getPlayerAtCursor",value:function(){var t=this;return this.sprites.players.find((function(e){return e.gridX==t.cursorPosition.x&&e.gridY==t.cursorPosition.y}))}},{key:"showMarkers",value:function(t,e,i,n){var r=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"movement";if(-1==i&&-1==n&&(this.markersLoading=!1),!this.markersLoading){if(this.markersLoading=!0,"movement"!=s){var o=this.getPlayingPlayer();this.tileGroup.removeChild(o.getBaseSprite()),this.selectedPlayer=void 0}for(var a=function(o){for(var a=function(a){var u=r.cells.find((function(t){return t.x==o&&t.y==a}));null!=r.boardCoordinates["x"+o+"y"+a].grey_marker&&(r.tileGroup.removeChild(r.boardCoordinates["x"+o+"y"+a].grey_marker),r.boardCoordinates["x"+o+"y"+a].grey_marker.destroy(),r.boardCoordinates["x"+o+"y"+a].grey_marker=void 0,u.hasVisibleMarker=!1);var l=Math.abs(t-o),c=Math.abs(e-a);if(l+c<=i){var d="movement"==s?R.findPath([t,e],[o,a],r,!0).length:0;if("movement"!=s||d>1&&d<=i+1){var p=[],f=.6;if("movement"==s)for(var g=0;g<9;g++)p.push({texture:new h.Texture(r.resourceList.grey_marker.texture,new h.Rectangle(128*g,0,128,128)),time:8==g?5e3:50});else if("hearing"==s){f=.2;for(var m=0;m<20;m++){var v=60;switch(m){case 3:case 4:case 12:case 15:v=120;break;case 11:v=80;break;case 13:v=150;break;case 14:v=200;break;case 19:v=250}p.push({texture:new h.Texture(r.resourceList.purple_marker.texture,new h.Rectangle(128*m,0,128,140)),time:v})}}else if("noise"==s){f=.4;for(var y=0;y<23;y++){var _=33;switch(y){case 0:case 1:case 2:_=17;break;case 5:case 6:_=50;break;case 7:case 8:case 9:case 11:case 12:case 14:case 15:_=67;break;case 10:_=1667;break;case 13:_=100}p.push({texture:new h.Texture(r.resourceList.noise_marker.texture,new h.Rectangle(128*y,0,128,140)),time:_})}}if(r.boardCoordinates["x"+o+"y"+a].grey_marker=new h.AnimatedSprite(p),r.boardCoordinates["x"+o+"y"+a].grey_marker.alpha=f,r.boardCoordinates["x"+o+"y"+a].grey_marker.loop="movement"==s,u.hasVisibleMarker=!0,u.isInFog()&&(u.hasVisibleMarker=!1),l+c>=n){var b=r.cells.find((function(t){return t.x==o&&t.y==a}));(!b.isLit&&!b.inLitPosition||b.isInFog())&&(r.boardCoordinates["x"+o+"y"+a].grey_marker.alpha=.12-.02*Math.abs(l+c-n))}}}},u=0;u<r.board.length;u++)a(u)},u=0;u<this.board[0].length;u++)a(u);var l=[];for(var c in this.boardCoordinates)if(void 0!==this.boardCoordinates[c].grey_marker){var d=c.split("x");d=d[1].split("y"),l.push({x:parseInt(d[0]),y:parseInt(d[1]),marker:this.boardCoordinates[c].grey_marker})}if(l.length){for(var p=[],f=2,g=function(){var i=l.filter((function(i){return Math.abs(i.x-t)<f&&Math.abs(i.y-e)<f}));l=l.filter((function(t){return!i.includes(t)})),i.length>0&&p.push(i),f++};l.length;)g();var m=-1;p[p.length-1][0].marker.loop=!0,p[p.length-1][0].marker.onLoop=function(){"movement"!=s&&r.showMarkers(0,0,-1,-1)};var v=function t(){var e=1;if("movement"==s&&(e=2),"noise"==s&&(e=4),null==p[m]||!p[m][0].marker.playing||p[m][0].marker.currentFrame==e)if(m++,p.length<=m)r.markersLoading=!1;else for(var i=function(e){var i=p[m][e],n=r.boardCoordinates["x"+i.x+"y"+i.y].x,o=r.boardCoordinates["x"+i.x+"y"+i.y].y;"movement"!=s&&(o+=8);var a=i.x+i.y+.15,h=r.board.length-1,u=r.board[0].length-1;switch(r.gridRotation){case 0:break;case 90:a=Math.abs(h-i.y)+i.x+.15;break;case 180:a=Math.abs(h-i.y)+Math.abs(u-i.x)+.15;break;case 270:a=Math.abs(u-i.x)+i.y+.15}if(r.loadAnim(i.marker,n,o-24,i.x,i.y,a),i.marker.play(),0==e&&(i.marker.onFrameChange=t),"noise"==s&&(i.marker.onComplete=function(){i.marker.visible=!1}),"hearing"!=s)return"continue";var l=r.cells.find((function(t){return t.x==i.x&&t.y==i.y}));null!=l&&l.tiles(!0).forEach((function(t){t.sprite.alpha=2})),r.sprites.players.filter((function(t){return t.gridX==i.x&&t.gridY==i.y})).forEach((function(t){t.sprite.alpha=2}))},n=0;n<p[m].length;n++)i(n)};v()}else this.markersLoading=!1}}},{key:"hasPlayer",value:function(t,e){var i=this.sprites.players.find((function(i){return i.gridX==t&&i.gridY==e}));return null!=i&&!i.isCurrentUser}},{key:"isTileWalkable",value:function(t,e){var i=this.cells.find((function(i){return i.x==t&&i.y==e}));return!(null==i||!i.isWalkable())}},{key:"playRandomBuilderSound",value:function(){var t=this.customPlaylists.find((function(t){return"AC_Building"===t.name}));if(void 0!==t){var e=Math.floor(Math.random()*t.sounds.length);t.sounds[e].play()}}},{key:"checkInHearingRange",value:function(t,e){var i=this.getPlayingPlayer();if(null!=i)return Math.abs(i.gridX-t)+Math.abs(i.gridY-e)<=i.getHearingRange()}},{key:"getPlayerAbsDifference",value:function(t,e){var i=this.getPlayingPlayer();if(null!=i)return Math.abs(i.gridX-t)+Math.abs(i.gridY-e)}},{key:"playIfInRange",value:function(t,e,i){if(this.checkInHearingRange(e,i)){var n=this.getPlayerAbsDifference(e,i);0==n&&(n=1);var r=t.play("__default");return t.volume(t.baseVolume/n*(this.settings.sfxVolume/100)),r}}},{key:"playMaterialDropSound",value:function(){var t=this.customPlaylists.find((function(t){return"AC_loot"==t.name}));if(void 0!==t){var e=Math.floor(Math.random()*t.sounds.length);t.sounds[e].play()}}},{key:"playRollSound",value:function(t){var e=void 0;if("success"==t&&(e=this.customPlaylists.find((function(t){return"AC_success"==t.name}))),"fail"==t&&(e=this.customPlaylists.find((function(t){return"AC_fail"==t.name}))),void 0!==e){var i=Math.floor(Math.random()*e.sounds.length);void 0!==e.sounds[i]&&e.sounds[i].play()}}},{key:"showRollsNotification",value:function(){null!=this.getPlayingPlayer()&&(this.vueInstance.addRollDrop({id:0,file_name:"img/game/rolls/roll.png",name:"Roll"}),this.playMaterialDropSound())}},{key:"checkPlayersBehind",value:function(){for(var t=this,e=function(e){for(var i=function(i){t.cells.find((function(t){return t.x==i&&t.y==e})).tiles().forEach((function(n){n.isBehind=!1,n.isHideable&&!n.isGround&&(null!=t.sprites.players.find((function(t){return t.gridX+n.gridWidth>=i&&t.gridY<=i&&t.y+n.gridHeight>=e&&t.y<=e}))&&n.sprite.alpha>0&&(n.sprite.alpha=.5,n.isBehind=!0),t.cursorPosition.x+n.gridWidth>=i&&t.cursorPosition.x<=i&&t.cursorPosition.y+n.gridHeight>=e&&t.cursorPosition.y<=e&&n.sprite.alpha>0&&(n.sprite.alpha=.5,n.isBehind=!0))}))},n=0;n<t.board[0].length;n++)i(n)},i=0;i<this.board.length;i++)e(i)}},{key:"getPlayingPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return void 0===t||void 0===e?this.sprites.players.find((function(t){return!0===t.isCurrentUser})):this.sprites.players.find((function(i){return i.gridX===t&&i.gridY===e&&!0===i.isCurrentUser}))}},{key:"insertPlayer",value:function(t){for(var e=this,i=[],n=0;n<31;n++)i.push({texture:new h.Texture(this.resourceList.login.texture,new h.Rectangle(128*n,0,128,128)),time:40});var r=new h.AnimatedSprite(i),s=this.sprites.players.length;null!=t.avatar.avi.file_name&&""!=t.avatar.avi.file_name||(t.avatar.avi.file_name="/img/game/FodderTest_SS.png"),this.sprites.players[s]=new st(h.Texture.from(t.avatar.avi.file_name),this.playerPoses,[],this.players[0].animation_type,t.avatar_id,t.avatar.name,t.direction,this,t.voice_id),null!=t.equipment&&this.sprites.players[s].setEquipment(t.equipment),this.sprites.players[s].setAvatarImage(t.avatar.file_name);var o=this.boardCoordinates["x"+t.x_position+"y"+t.y_position].x,a=this.boardCoordinates["x"+t.x_position+"y"+t.y_position].y;this.sprites.players[s].setPosition(o,a,t.x_position,t.y_position,.5),this.sprites.players[s].loadSprite(this.tileGroup,this.diff);var u=this.boardCoordinates["x"+t.x_position+"y"+t.y_position].x,l=this.boardCoordinates["x"+t.x_position+"y"+t.y_position].y,c=this.cells.find((function(e){return e.x==t.x_position&&e.y==t.y_position}));void 0!==c&&void 0!==c.topBlock()&&(this.sprites.players[s].sprite.tint=c.topBlock().sprite.tint),this.sprites.players[s].sprite.alpha=0,this.sprites.players[s].notice.setName(),r.x=u,r.y=l,r.height=3*this.diff,r.width=3*this.diff,r.play(),this.sounds.login.play(),r.onFrameChange=function(){e.sprites.players[s].sprite.alpha+=.032},r.onLoop=function(){e.sprites.players[s].sprite.alpha=1,r.destroy()},r.zIndex=t.x_position+t.y_position+.75,this.tileGroup.addChild(r)}},{key:"showTileEditPreview",value:function(t,e){var i=this;if(this.cells.filter((function(t){return null!=t.previewTile})).forEach((function(t){t.removeTilePreview()})),this.editMode&&null!=this.vueInstance.$refs.mapEditModal&&null!=this.vueInstance.$refs.mapEditModal.$refs.mainMenu&&null!=this.vueInstance.$refs.mapEditModal.$refs.itemOptions){var n=this.vueInstance.$refs.mapEditModal.$refs.mainMenu.selectedOption.value,r=this.vueInstance.$refs.mapEditModal.$refs.itemOptions.selectedItem,s=this.cells.find((function(t){return t.x==i.cursorPosition.x&&t.y==i.cursorPosition.y}));null!=s&&null!=n&&null!=r&&s.showTilePreview(r,n)}}},{key:"getChatRange",value:function(t,e){var i=t.stats.noise;return e.length<1||(e.match(/[a-z]/i)&&e.toUpperCase()===e&&(i+=5),e.match(/^\([^\(\)]+\)$/)&&(i=2)),i}},{key:"resize",value:function(){if(this.boardLoaded){var t=window.innerWidth;t>window.innerHeight&&(t=window.innerHeight-10),null!=this.weather.currentWeather&&(this.weather.currentWeather.sprite.width=t,this.weather.currentWeather.sprite.height=t),null!=this.clock&&this.clock.resize(t),null!=this.atmosphere&&this.atmosphere.resize(t),this.game.renderer.resize(t,t),this.moveCursor(!0),this.showPlayerAvatar()}}},{key:"loadingTicker",value:function(t){t.vueInstance.loader.loadedPercent>=100?t.vueInstance.isLoaded=!0:(t.vueInstance.loader.loadedPercent<t.loadedPercent&&t.vueInstance.loader.loadedPercent++,requestAnimationFrame((function(){t.loadingTicker(t)})))}}])&&we(e.prototype,i),n&&we(e,n),t}();function Te(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ke=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataLoaded=!1,this.loadCounter=0,this.data={sounds:void 0,playlists:void 0,board:void 0,map:void 0,biome:void 0,tiles:void 0,poses:void 0,skews:void 0,clusters:void 0,weathers:void 0,tint:void 0,players:void 0,archetypes:void 0,structures:void 0,voices:void 0,settings:void 0},this.loadedPercent=0,this.preloadImages=0}var e,i,n;return e=t,(i=[{key:"startLoading",value:function(){this.getMap()}},{key:"continueLoading",value:function(){this.getSounds(),this.getPlaylists(),this.getBoard(),this.getBiome(),this.getTiles(),this.getPoses(),this.getSkews(),this.getClusters(),this.getTint(),this.getWeathers(),this.getArchetypes(),this.getStructures(),this.getVoices(),this.getSettings()}},{key:"updatePercent",value:function(){var t,e=Object.values(this.data);t=e.filter((function(t){return null!=t})).length/e.length/2,this.loadedPercent=100*t,50==this.loadedPercent&&0==this.preloadImages&&(this.dataLoaded=!0,app.__vue__.$children[0].startGame())}},{key:"updateLoadCount",value:function(){this.loadCounter++,this.updatePercent(),this.loadCounter==this.data.sounds.length&&this.getPlayers()}},{key:"getSounds",value:function(){var t=this;W.a.get("/sound").then((function(e){t.loadSounds(e.data)})).catch(a.raiseError)}},{key:"loadSounds",value:function(t){this.data.sounds=t,this.updatePercent(),this.getPlayers()}},{key:"getPlaylists",value:function(){var t=this;W.a.get("/playlist").then((function(e){t.data.playlists=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getVoices",value:function(){var t=this;W.a.get("/voices?all=true").then((function(e){t.data.voices=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getWeathers",value:function(){var t=this;W.a.get("/weather").then((function(e){t.data.weathers=e.data,t.data.weathers.forEach((function(t){t.spritesheet="/".concat(t.spritesheet)})),t.updatePercent()})).catch(a.raiseError)}},{key:"getMap",value:function(){var t=this;W.a.get("/map").then((function(e){t.data.map=e.data,t.updatePercent(),t.continueLoading()})).catch(a.raiseError)}},{key:"getBoard",value:function(){var t=this;W.a.get("/board").then((function(e){t.data.board=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getBiome",value:function(){var t=this;W.a.get("/biome").then((function(e){t.data.biome=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getTiles",value:function(){var t=this;W.a.get("/tile").then((function(e){t.data.tiles=e.data,t.data.tiles.forEach((function(t){t.spritesheet="/".concat(t.spritesheet)})),t.updatePercent()})).catch(a.raiseError)}},{key:"getPoses",value:function(){var t=this;W.a.get("/pose").then((function(e){t.data.poses=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getSkews",value:function(){var t=this;W.a.get("/skew").then((function(e){t.data.skews=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getClusters",value:function(){var t=this;W.a.get("/cluster").then((function(e){t.data.clusters=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getTint",value:function(){var t=this;W.a.get("/tint").then((function(e){t.data.tint=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getArchetypes",value:function(){var t=this;W.a.get("/archetypes").then((function(e){t.data.archetypes=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getStructures",value:function(){var t=this;W.a.get("/structures?is_editor=false").then((function(e){t.data.structures=e.data.filter((function(t){return""!=t.file_name})),t.updatePercent()})).catch(a.raiseError)}},{key:"getSettings",value:function(){var t=this;W.a.get("/settings").then((function(e){t.data.settings=e.data,t.updatePercent()})).catch(a.raiseError)}},{key:"getPlayers",value:function(){var t=this;W.a.get("/position").then((function(e){t.data.players=e.data,t.data.players.forEach((function(e){t.preloadImages++;var i=new Image;i.src=e.spritesheet,i.onload=function(){t.preloadImages--,t.updatePercent()}})),t.updatePercent()})).catch(a.raiseError)}}])&&Te(e.prototype,i),n&&Te(e,n),t}(),Ce={props:["message","name","avatar_image","index"],data:function(){return{viewingTimer:this.message.split(" ").length<5?180:600}},methods:{dismiss:function(){this.viewingTimer=0},tick:function(){this.viewingTimer<1?this.$parent.removeChatMessage(this.index):(window.requestAnimationFrame(this.tick),this.viewingTimer--)}},mounted:function(){var t=this;this.$nextTick((function(){window.requestAnimationFrame(t.tick)}))}};i("DlxR");function Ee(t,e,i,n,r,s,o,a){var h,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),o?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=h):r&&(h=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(u.functional){u._injectStyles=h;var l=u.render;u.render=function(t,e){return h.call(e),l(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:u}}var Oe=Ee(Ce,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"message-fade"}},[t.viewingTimer>0?i("div",{staticClass:"notification is-black is-marginless is-paddingless is-message"},[i("div",[i("figure",{staticClass:"image is-96x96 is-pulled-left is-chat-avatar"},[i("img",{staticStyle:{opacity:"1"},attrs:{src:t.avatar_image}})]),t._v(" "),i("p",{staticClass:"is-message has-delete"},[i("strong",{staticClass:"has-text-link"},[t._v(t._s(t.name))]),t._v(" "),i("br"),t._v("\n                "+t._s(t.message)+"\n            ")])])]):t._e()])}),[],!1,null,"5555da00",null).exports,Ie={props:["material_image","index","isMaterialDrop"],data:function(){return{viewingTimer:this.isMaterialDrop?300:90}},methods:{dismiss:function(){this.viewingTimer=0},tick:function(){this.viewingTimer<1?this.isMaterialDrop?this.$parent.$parent.removeMaterialDrop(this.index):this.$parent.$parent.removeCraftDrop(this.index):(window.requestAnimationFrame(this.tick),this.viewingTimer--)}},mounted:function(){var t=this;this.$nextTick((function(){window.requestAnimationFrame(t.tick)}))}},Pe=(i("ODld"),Ee(Ie,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"material"}},[this.viewingTimer>0?e("div",{staticClass:"notification is-transparent is-marginless is-paddingless is-drop"},[e("figure",{staticClass:"image is-100x100"},[e("img",{attrs:{src:"/"+this.material_image}})])]):this._e()])}),[],!1,null,"31050494",null).exports),Me={name:"GameControls"},Ae=(i("bgNW"),Ee(Me,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"overlay-controls are-directional"},[i("div",{staticClass:"row"},[i("a",{staticClass:"button is-large onscreen-control has-rotate-anticlock",attrs:{id:"q-key"}},[i("span",{staticClass:"icon is-large"})]),t._v(" "),i("a",{staticClass:"button is-large onscreen-control has-up-arrow",attrs:{id:"up-key"}},[i("span",{staticClass:"icon is-large"})]),t._v(" "),i("a",{staticClass:"button is-large onscreen-control has-rotate-clock",attrs:{id:"e-key"}},[i("span",{staticClass:"icon is-large"})])]),t._v(" "),i("div",{staticClass:"row"},[i("a",{staticClass:"button is-large onscreen-control has-left-arrow",attrs:{id:"left-key"}},[i("span",{staticClass:"icon is-large"})]),t._v(" "),i("a",{staticClass:"button is-large onscreen-control is-empty-button",attrs:{disabled:"disabled"}},[i("span",{staticClass:"icon is-large"})]),t._v(" "),i("a",{staticClass:"button is-large onscreen-control has-right-arrow",attrs:{id:"right-key"}},[i("span",{staticClass:"icon is-large"})])]),t._v(" "),i("div",{staticClass:"row"},[i("a",{staticClass:"button is-large onscreen-control has-down-arrow is-bottom",attrs:{id:"down-key"}},[i("span",{staticClass:"icon is-large"})])])]),t._v(" "),i("div",{staticClass:"overlay-controls are-functional"},[i("div",{staticClass:"row"},[i("a",{staticClass:"button is-large onscreen-control has-y-letter is-top",attrs:{id:"y-key"}},[i("span",{staticClass:"icon is-large"})])]),t._v(" "),i("div",{staticClass:"row"},[i("a",{staticClass:"button is-large onscreen-control has-x-letter",attrs:{id:"x-key"}},[i("span",{staticClass:"icon is-large"})]),t._v(" "),i("a",{staticClass:"button is-large onscreen-control is-empty-button",attrs:{disabled:"disabled"}},[i("span",{staticClass:"icon is-large"})]),t._v(" "),i("a",{staticClass:"button is-large onscreen-control has-b-letter",attrs:{id:"b-key"}},[i("span",{staticClass:"icon is-large"})])]),t._v(" "),i("div",{staticClass:"row"},[i("a",{staticClass:"button is-large onscreen-control has-a-letter is-bottom",attrs:{id:"a-key"}},[i("span",{staticClass:"icon is-large"})])])])])}],!1,null,"148a1c13",null).exports),Re=Ee({props:["layer","zindex","color","clip","avi"],computed:{setLayerStyle:function(){var t="";if(null!=this.layer.file_name&&this.layer.colorable){var e=null==this.color?"#fff":this.color;t+="-webkit-mask-image: url(/"+this.layer.file_name+");",this.avi?t+="-webkit-mask-size: 600%;":t+="-webkit-mask-size: contain;",t+="background-color: "+e+";"}else null!=this.layer.file_name&&(t+="background-image: url(/"+this.layer.file_name+");",this.avi?t+="background-size: 600%;":t+="background-size: contain;");return null!=this.layer.z_index?t+="z-index: "+this.layer.z_index+";":null!=this.zindex&&(t+="z-index: "+this.zindex+";"),null!=this.layer.blend_mode&&(t+="mix-blend-mode: "+this.layer.blend_mode+";"),""!=this.clip&&(t+=this.clip),t}},mounted:function(){}},(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"layer",style:this.setLayerStyle})}),[],!1,null,null,null),De=Ee({props:["item","color","preview","avi"],components:{"item-layer":Re.exports},methods:{},computed:{setBackgroundImage:function(){return"background-image:url(/"+this.item.archetype.item_preview_image+");"},getColor:function(){return null==this.color?"#fff":this.color.hex},addClip:function(){return null!=this.item.category.clips&&this.item.category.clips.length?"-webkit-clip-path: polygon("+this.item.category.clips[0].style+");clip-path: polygon("+this.item.category.clips[0].style+");":""}},mounted:function(){}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.preview&&t.item.category.preview_head&&!t.item.is_universal?i("div",{staticClass:"layer",staticStyle:{"z-index":"600","background-size":"cover"},style:t.setBackgroundImage}):t._e(),t._v(" "),t.preview&&t.item.category.preview_background_black?i("div",{staticClass:"layer",staticStyle:{"z-index":"100","background-color":"#000"}}):t._e(),t._v(" "),t.preview&&t.item.category.preview_background_grey?i("div",{staticClass:"layer",staticStyle:{"z-index":"100","background-color":"#555"}}):t._e(),t._v(" "),t._l(t.item.layers,(function(e){return i("item-layer",{key:e.id,attrs:{layer:e,zindex:t.item.category.z_index,color:t.getColor,clip:t.addClip,avi:t.avi}})}))],2)}),[],!1,null,null,null).exports,Le=Ee({props:["item","color","avi"],components:{"item-box":De},methods:{},mounted:function(){}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-preview-box",style:null==t.item.layers?"background-image: url(/img/select.png);padding-top:100%;":"",attrs:{title:t.item.name}},[null!=t.item.layers&&t.item.layers.length?i("item-box",{attrs:{item:t.item,color:t.color,preview:!0,avi:t.avi}}):t._e()],1)}),[],!1,null,null,null).exports;function Fe(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ne=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,n;return e=t,n=[{key:"navigateOptions",value:function(t,e,i,n){var r=i.navigationIndex;switch(t){case"up":case"down":var s=document.getElementById(n+r).getBoundingClientRect(),o=!1,a=r;e.forEach((function(e){if(!o||"down"!=t){var i=document.getElementById(n+e.navigationIndex).getBoundingClientRect();i.left==s.left&&i.top>s.top&&"down"==t&&(o=!0,r=e.navigationIndex),i.left==s.left&&i.top<s.top&&"up"==t&&(o=!0,r=e.navigationIndex)}})),o||a!=r||"down"!=t||(r=e[e.length-1].navigationIndex),o||a!=r||"up"!=t||(r=e[0].navigationIndex);break;case"left":r>0?r--:r=e.length-1;break;case"right":r<e.length-1?r++:r=0}return document.getElementById(n+r).scrollIntoView(),e[r]}},{key:"setupEditorMenu",value:function(){var t=[{value:"Block",img:"block_fixed.png",helpText:{title:"Blocks",text:"Edit blocks on the terrain"}},{value:"Side",img:"side_fixed.png",helpText:{title:"Side Blocks",text:"Edit side blocks and decorations"}},{value:"Top",img:"top_fixed.png",helpText:{title:"Toppers",text:"Edit toppers and floors"}},{value:"Object",img:"object_fixed.png",helpText:{title:"Objects",text:"Edit objects"}}],e=-1;return t.forEach((function(t){t.navigationIndex=++e})),t}},{key:"setupMainMenu",value:function(){var t=[{value:"Craft",img:"build_fixed.png",helpText:{title:"Craft",text:"Craft an item by hand"}},{value:"Inventory",img:"backpack_fixed.png",helpText:{title:"Inventory",text:"Open inventory"}},{value:"Terrain",img:"terrain_fixed.png",helpText:{title:"Builder Mode",text:"Edit terrain and build things"}},{value:"Build",img:"design_fixed.png",helpText:{title:"Designer",text:"Edit objects and structures"}},{value:"Avatar",img:"character_fixed.png",helpText:{title:"Character",text:"Character information"}},{value:"Action",img:"action_fixed.png",helpText:{title:"Actions",text:"Open actions customizer"}},{value:"Settings",img:"knowledge_fixed.png",helpText:{title:"Settings",text:"Open settings menu"}}],e=-1;return t.forEach((function(t){t.navigationIndex=++e})),t}},{key:"setupSubMenu",value:function(t){var e=[];if(null!=t){"Build"==t.value&&(e=[{value:"Structure",img:"structure_fixed.png",helpText:{title:"Structures",text:"Create and design buildings"}},{value:"Tool",img:"tools_fixed.png",helpText:{title:"Tools",text:"Create and design tools"}},{value:"Weapon",img:"equipment_fixed.png",helpText:{title:"Weapons",text:"Create and design weapons"}},{value:"Armor",img:"armour_fixed.png",helpText:{title:"Armor",text:"Create and design armor"}}]),"Inventory"==t.value&&(e=[{value:"Material",img:"resources_fixed.png",helpText:{title:"Resources",text:"Show all owned resources"}},{value:"Consumable",img:"consumables_fixed.png",helpText:{title:"Consumables",text:"Show all owned consumables"}},{value:"Documents",img:"documents_fixed.png",helpText:{title:"Documents",text:"Show all owned documents"}},{value:"Valuable",img:"valuables_fixed.png",helpText:{title:"Valuables",text:"Show all owned valuables"}},{value:"Blocks",img:"blocks_fixed.png",helpText:{title:"Blocks",text:"Show all owned blocks"}},{value:"Tool",img:"tools_fixed.png",helpText:{title:"Tools",text:"Show all owned tools"}},{value:"Weapon",img:"equipment_fixed.png",helpText:{title:"Weapons",text:"Show all owned weapons"}},{value:"Armor",img:"armour_fixed.png",helpText:{title:"Armor",text:"Show all owned armor"}},{value:"Avi",img:"avi_fixed.png",helpText:{title:"Avi Editor",text:"Customize your outfit"}},{value:"Portrait",img:"avatar_fixed.png",helpText:{title:"Avatar Editor",text:"Customize your avatar"}}]),"Settings"==t.value&&(e=[{value:"sfx",img:"SFX_fixed.png",helpText:{title:"SFX Volume",text:"Adjust the SFX volume"}},{value:"bgm",img:"BGM_fixed.png",helpText:{title:"BGM Volume",text:"Adjust the BGM volume"}}]);var i=-1;return e.forEach((function(t){t.navigationIndex=++i})),e}}},{key:"setupSideMenu",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[];if(null!=t){"Build"==t.value&&("Structure"!=e.value&&"Weapon"!=e.value&&"Tool"!=e.value&&"Armor"!=e.value||(n=[{value:"Item",img:"item_fixed.png",helpText:{title:"Items",text:"Select a part to change"}},{value:"Color",img:"color_fixed.png",helpText:{title:"Colors",text:"Select a part to color"}},{value:"Delete",img:"delete_fixed.png",helpText:{title:"Delete",text:"Delete selected design"}}])),"Inventory"==t.value&&("Tool"!=e.value&&"Weapon"!=e.value&&"Armor"!=e.value||(n=[{value:"EquipEquipment",img:"equip_fixed.png",helpText:{title:"Equip Equipment",text:"Equip Equipment on Avi"}},{value:"UnequipEquipment",img:"unequip_fixed.png",helpText:{title:"Unequip Equipment",text:"Unequip Equipment on Avi"}}]),"Material"!=e.value&&"Consumable"!=e.value||(n=[],i.is_edible&&n.push({value:"EatItem",img:"eat_fixed.png",helpText:{title:"Eat Item",text:"Eat ".concat(i.name)}})),"Avi"==e.value&&(n=[{value:"Item",img:"item_fixed.png",helpText:{title:"Items",text:"Select a part to change"}},{value:"Color",img:"color_fixed.png",helpText:{title:"Colors",text:"Select a part to color"}}]),"Portrait"==e.value&&(n=[{value:"Item",img:"item_fixed.png",helpText:{title:"Items",text:"Select a part to change"}},{value:"Color",img:"color_fixed.png",helpText:{title:"Colors",text:"Select a part to color"}},{value:"Archetype",img:"type_fixed.png",helpText:{title:"Races",text:"Change the race of your avatar"}},{value:"Random",img:"random_fixed.png",helpText:{title:"Random",text:"Select a random item from the selected category"}}]));var r=-1;return n.forEach((function(t){t.navigationIndex=++r})),n}}},{key:"setupActionMenu",value:function(e,i,n,r,s,o,a,h,u,l){var c=[];return a&&(c=[{value:"Move",img:"move_fixed.png",helpText:{title:"Move",text:"Move to selected tile"}}]),s&&c.push({value:"Wake Up",img:"wake_up_fixed.png",helpText:{title:"Wake Up",text:"Stop sleeping"}}),"washing"===r&&(c=[{value:"StopWash",img:"clean_cancel_fixed.png",helpText:{title:"Stop Washing",text:"Stop avatar washing"}}]),u&&c.push({value:"Interact",img:"action_fixed.png",helpText:{title:"Interact",text:"Interact with object"}}),!s&&"washing"!==r&&h&&c.push({value:"Sleep",img:"rest_fixed.png",helpText:{title:"Sleep",text:"Rest to gain energy"}}),o&&"washing"!==r&&c.push({value:"Wash",img:"clean_fixed.png",helpText:{title:"Wash",text:"Wash to restore hygiene"}}),l&&!s&&c.push({value:"ExamineFloor",img:"search_fixed.png",helpText:{title:"Examine Floor",text:"Browse area"}}),i&&"washing"!==r&&c.push({value:"Forage",img:"forage_notool_fixed.png",helpText:{title:"Forage",text:"Forage by hand"}}),null!=e&&"washing"!==r&&c.push({value:"DoAction",img:e.image,isEquipment:!0,helpText:{title:e.title,text:e.text}}),t.setIndexes(c)}},{key:"setIndexes",value:function(t){var e=-1;return t.forEach((function(t){t.navigationIndex=++e})),t}},{key:"getEditorType",value:function(t){switch(t){case"Portrait":return"avatar";case"Avi":return"avi";case"Equipment":case"Weapon":case"Tool":case"Armor":return"equipment";case"Structure":return"structure";default:return}}}],(i=null)&&Fe(e.prototype,i),n&&Fe(e,n),t}(),Be={name:"InspectModalMenu",props:["options","isMain","settings"],data:function(){return{selectedOption:{value:""},menuIdentifier:this.isMain?"mainmenu":"submenu"}},methods:{processMainOption:function(){if(this.$parent.resetAllMenuSections(),"Terrain"==this.selectedOption.value)return this.$parent.$parent.editModalOpen=!0,void this.$parent.closeModal(!0);"Avatar"==this.selectedOption.value&&this.$parent.inspectObject.player.isCurrentUser?this.$parent.isOpen.character=!0:("Inventory"==this.selectedOption.value&&this.$parent.inspectObject.player.isCurrentUser&&(this.$parent.$parent.slotsOverviewOpen=!0),this.$parent.setupSubMenu())},processSubOption:function(){var t=this.$parent.$refs.mainMenu.selectedOption;if(null!=t)if("Race"!=this.selectedOption.value)if("Portrait"!=this.selectedOption.value&&"Avi"!=this.selectedOption.value||!this.$parent.inspectObject.player.isCurrentUser)if("Build"!=t.value){if("Inventory"==t.value)return this.$parent.isOpen.materials=!1,this.$parent.isOpen.equipmentInventory=!1,"Material"==this.selectedOption.value||"Consumable"==this.selectedOption.value||"Valuable"==this.selectedOption.value?(this.$parent.isOpen.materials=!0,this.$parent.$parent.slotsOverviewOpen=!1,void(this.$parent.$parent.statsOverviewOpen=!0)):"Armor"==this.selectedOption.value||"Weapon"==this.selectedOption.value||"Tool"==this.selectedOption.value?(this.$parent.isOpen.equipmentInventory=!0,this.$parent.$parent.slotsOverviewOpen=!0,void(this.$parent.$parent.statsOverviewOpen=!1)):void 0;if("Knowledge"!=t.value)if("Settings"!=t.value)this.$parent.inspectObject.player.isCurrentUser&&(this.$parent.isOpen.categories=!0);else{if("sfx"==this.selectedOption.value){if(this.settings.sfxVolume>=100)return void(this.$parent.$parent.gameSettings.sfxVolume=0);this.$parent.$parent.gameSettings.sfxVolume+=10}if("bgm"==this.selectedOption.value){if(this.settings.bgmVolume>=100)return void(this.$parent.$parent.gameSettings.bgmVolume=0);this.$parent.$parent.gameSettings.bgmVolume+=10}}}else switch(this.selectedOption.value){case"Structure":this.$parent.isOpen.structures=!0;break;case"Weapon":case"Tool":case"Armor":this.$parent.isOpen.equipment=!0}else this.$parent.isOpen.categories=!0;else this.$parent.isOpen.archetypes=!0},selectOption:function(t){this.selectedOption=t,this.isMain?this.processMainOption():this.processSubOption()},cancelCommand:function(){return this.$parent.isOpen.extraSubMenu?(null!=this.$parent.$refs.structureOptions&&this.$parent.$refs.structureOptions.getStructures(),this.$parent.isOpen.extraSubMenu=!1,"play"):(this.$parent.isOpen.subMenu=!1,this.$parent.$parent.slotsOverviewOpen=!1,this.isMain?(this.$parent.isOpen.mainMenu=!1,"close"):"play")},selectCommand:function(){this.selectOption(this.selectedOption)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;this.selectedOption=Ne.navigateOptions(t,this.options,this.selectedOption,this.menuIdentifier);var i=this.options.find((function(t){return t.id==e.selectedOption.id})).navigationIndex;document.getElementById(this.menuIdentifier+i).scrollIntoView(),this.$parent.updateHelpText(this.selectedOption)}},mounted:function(){this.selectedOption=this.options[0],this.$parent.updateHelpText(this.selectedOption)}},Ue=(i("N+Qx"),Ee(Be,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-wrapper",staticStyle:{position:"relative"}},t._l(t.options,(function(e){return i("div",{key:t.menuIdentifier+e.value,attrs:{id:t.menuIdentifier+e.navigationIndex}},[i("img",{staticClass:"is-game-modal-button",class:t.selectedOption.value==e.value?"active-menu-item":"",style:"width: 12.4vmin; height: 12.4vmin;"+(t.selectedOption.value==e.value?"background-image: url(/img/game/menus/box_active.png);opacity:1;":"background-image: url(/img/game/menus/box_1.png);"),attrs:{src:"/img/game/menus/"+e.img},on:{click:function(i){return t.selectOption(e)}}}),t._v(" "),"sfx"==e.value?i("div",{staticClass:"is-settings-text",class:t.selectedOption.value==e.value?"active-menu-item":"",staticStyle:{width:"12.4vmin",bottom:"3vmin"}},[t._v("\n            "+t._s(t.settings.sfxVolume)+"%\n        ")]):t._e(),t._v(" "),"bgm"==e.value?i("div",{staticClass:"is-settings-text",class:t.selectedOption.value==e.value?"active-menu-item":"",staticStyle:{width:"12.4vmin",bottom:"3vmin"}},[t._v("\n            "+t._s(t.settings.bgmVolume)+"%\n        ")]):t._e()])})),0)}),[],!1,null,"645860da",null).exports),je=Ee({name:"InspectModalSide",props:["options"],data:function(){return{selectedOption:{value:""},menuIdentifier:"sideMenu",askKind:!1,kinds:[],selectedKind:{},equipSound:new l.a.Howl({src:["/audio/equip.mp3"],volume:.5})}},methods:{processOption:function(){if(this.$parent.isOpen.items=!1,this.$parent.isOpen.colors=!1,this.$parent.isOpen.archetypes=!1,null!=this.selectedOption&&("Item"==this.selectedOption.value&&(this.$parent.isOpen.items=!0),"Color"==this.selectedOption.value&&(this.$parent.isOpen.colors=!0),"Random"!=this.selectedOption.value)){if("Archetype"==this.selectedOption.value&&(this.$parent.isOpen.archetypes=!0),"EquipEquipment"==this.selectedOption.value){if(0==this.$parent.equipment.archetype.kinds.length)return;if(1==this.$parent.equipment.archetype.kinds.length)return void this.equipEquipment(this.$parent.equipment.archetype.kinds[0].id);if(null!=this.selectedKind.id)return void this.equipEquipment(this.selectedKind.id);this.kinds=this.$parent.equipment.archetype.kinds,this.selectedKind=this.kinds[0],this.askKind=!0}"UnequipEquipment"!=this.selectedOption.value?("Delete"==this.selectedOption.value&&this.processDelete(),"EatItem"==this.selectedOption.value&&this.processConsume()):this.unequipEquipment()}},processConsume:function(){if(null!=this.$parent.material&&this.$parent.material.is_edible){this.$parent.$parent.$data.menuSound="";var t=this;W.a.post("/action/consume",{consumable:"material",id:this.$parent.material.id}).then((function(e){null!=t.$parent.$refs.materialOptions&&t.$parent.$refs.materialOptions.getMaterials()})).catch(a.raiseError)}},processDelete:function(){null!=this.$parent.equipment&&null!=this.$parent.equipment.id&&this.deleteEquipment(),null!=this.$parent.structure&&null!=this.$parent.structure.id&&this.deleteStructure()},deleteStructure:function(){var t=this;W.a.delete("/structures/".concat(this.$parent.structure.id)).then((function(){t.$parent.isOpen.sideMenu=!1,t.$parent.isOpen.categories=!1,t.$parent.isOpen.structures&&t.$parent.$refs.structureOptions.getStructures()})).catch(a.raiseError)},deleteEquipment:function(){var t=this;W.a.delete("/equipment/".concat(this.$parent.equipment.id)).then((function(){t.$parent.isOpen.sideMenu=!1,t.$parent.isOpen.categories=!1,t.$parent.isOpen.equipment&&t.$parent.$refs.equipmentOptions.getEquipments()})).catch(a.raiseError)},equipEquipment:function(t){this.equipSound.play(),this.$parent.showLoadingSlots(),this.$parent.showSpinner=!0;var e=this;W.a.post("/equip/equipment",{equipment_id:this.$parent.equipment.id,kind_id:t}).then((function(t){e.$parent.showSpinner=!1,e.$parent.updateSlots(),null!=e.$parent.$refs.equipmentInventory&&e.$parent.$refs.equipmentInventory.getEquipments()})).catch(a.raiseError),this.$parent.isOpen.sideMenu=!1},unequipEquipment:function(){this.equipSound.play(),this.$parent.showLoadingSlots(),this.$parent.showSpinner=!0;var t=this;W.a.post("/equip/equipment",{equipment_id:this.$parent.equipment.id,kind_id:0}).then((function(e){t.$parent.showSpinner=!1,t.$parent.updateSlots(),null!=t.$parent.$refs.equipmentInventory&&t.$parent.$refs.equipmentInventory.getEquipments()})).catch(a.raiseError),this.$parent.isOpen.sideMenu=!1},selectOption:function(t){this.selectedOption=t,this.processOption()},selectKind:function(t){this.selectedKind=t,this.processOption()},cancelCommand:function(){return this.askKind?(this.askKind=!1,this.kinds=[],void(this.selectedKind={})):(this.$parent.isOpen.sideMenu=!1,"play")},selectCommand:function(){this.selectOption(this.selectedOption)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;if(this.askKind){for(var i=0;i<this.kinds.length;i++)if(this.kinds[i].id==this.selectedKind.id)switch(t){case"left":return i+1>=this.kinds.length?void(this.selectedKind=this.kinds[0]):void(this.selectedKind=this.kinds[i+1]);case"right":return i-1<0?void(this.selectedKind=this.kinds[this.kinds.length-1]):void(this.selectedKind=this.kinds[i-1])}}else if(0!=this.options.length){this.selectedOption=Ne.navigateOptions(t,this.options,this.selectedOption,this.menuIdentifier);var n=this.options.find((function(t){return t.id==e.selectedOption.id})).navigationIndex;document.getElementById(this.menuIdentifier+n).scrollIntoView(),this.$parent.updateHelpText(this.selectedOption)}}},mounted:function(){this.selectedOption=this.options[0],this.$parent.updateHelpText(this.selectedOption)}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.askKind,expression:"!askKind"}]},t._l(t.options,(function(e){return i("img",{key:t.menuIdentifier+e.value,staticClass:"is-game-modal-button",class:t.selectedOption.value==e.value?"active-menu-item":"",style:"width: 12.4vmin; height: 12.4vmin;"+(t.selectedOption.value==e.value?"background-image: url(/img/game/menus/box_active.png);opacity:1;":"background-image: url(/img/game/menus/box_1.png);"),attrs:{id:t.menuIdentifier+e.navigationIndex,src:"/img/game/menus/"+e.img},on:{click:function(i){return t.selectOption(e)}}})})),0),t._v(" "),t.askKind?i("div",t._l(t.kinds,(function(e){return i("img",{key:"kinds"+e.name,staticClass:"is-game-modal-button",class:t.selectedKind.id==e.id?"active-menu-item":"",style:"width: 12.4vmin; height: 12.4vmin;"+(t.selectedKind.id==e.id?"background-image: url(/img/game/menus/box_active.png);opacity:1;":"background-image: url(/img/game/menus/box_1.png);"),attrs:{id:"kinds"+e.id,src:e.file_name},on:{click:function(i){return t.selectKind(e)}}})})),0):t._e()])}),[],!1,null,null,null).exports,ze={name:"InspectModalItems",components:{"item-box":De},props:["editorType","subType","categoryID","isRequired","player","structure","equipment"],data:function(){return{items:[],selectedItem:{id:0},isVoices:!1,numberOfRolls:0,displayRolls:!0}},methods:{selectItem:function(t){this.selectedItem=t,0!=this.selectedItem.id?this.changeItem():this.removeItem()},changeVoice:function(){this.$parent.showSpinner=!0;var t={voice_id:this.selectedItem.id},e=this;W.a.post("/voices",t).then((function(t){e.$parent.player=t.data})).catch(a.raiseError).then((function(){e.$parent.showSpinner=!1}))},rollForItem:function(){var t=this;if(this.items.forEach((function(t){t.rollFail=!1,t.rollSuccess=!1})),!(this.numberOfRolls<1)){this.$forceUpdate(),this.$parent.showSpinner=!0;var e=this.items.find((function(e){return e.id==t.selectedItem.id}));W.a.get("/items/".concat(e.id,"/roll")).then((function(i){1==i.data.success?(e.rollSuccess=!0,e.is_owned=!0,t.$parent.$parent.playRollSuccessSound=!0):(e.rollFail=!0,t.$parent.$parent.playRollFailSound=!0),t.$forceUpdate(),t.$parent.showSpinner=!1,t.getRolls()})).catch((function(e){a.raiseError(e),t.$parent.showSpinner=!1}))}},changeItem:function(){var t=this;if(this.isVoices)this.changeVoice();else if(void 0===this.selectedItem.is_owned||0!=this.selectedItem.is_owned){this.$parent.showSpinner=!0;var e={item_id:this.selectedItem.id};this.items.forEach((function(t){t.isEquipped=!1})),"Build"==this.editorType.value?(e.type=Ne.getEditorType(this.subType.value),"structure"==e.type&&(e.structure_id=this.structure.id),"equipment"==e.type&&(e.equipment_id=this.equipment.id)):e.type=Ne.getEditorType(this.editorType.value),W.a.post("/equip/item",e).then((function(i){"avi"==e.type?t.$parent.player.avi=i.data:"avatar"==e.type?t.$parent.player=i.data:"structure"==e.type?t.$parent.structure=i.data:"equipment"==e.type&&(t.$parent.equipment=i.data);var n=t.items.find((function(t){return t.id==e.item_id}));void 0!==n&&(n.rollFail=!1,n.rollSuccess=!1,n.isEquipped=!0,t.$forceUpdate())})).catch(a.raiseError).then((function(){t.$parent.showSpinner=!1}))}else this.rollForItem()},removeItem:function(){this.$parent.showSpinner=!0;var t="",e="";"Build"==this.editorType.value?("structure"==(e=Ne.getEditorType(this.subType.value))&&(t="&type=structure&structure_id="+this.structure.id),"equipment"==e&&(t="&type=equipment&equipment_id="+this.equipment.id)):(t="&type="+Ne.getEditorType(this.editorType.value),"Avi"==this.editorType.value&&(t+="&is_avi=true"));var i=this;W.a.delete("/equip/item/0?category_id="+this.categoryID+t).then((function(t){"structure"==e?i.$parent.structure=t.data:"equipment"==e?i.$parent.equipment=t.data:"Avi"==i.editorType.value?i.$parent.player.avi=t.data:i.$parent.player=t.data})).catch(a.raiseError).then((function(){i.$parent.showSpinner=!1}))},getItems:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e="",i="";if(e="Build"==this.editorType.value?Ne.getEditorType(this.subType.value):Ne.getEditorType(this.editorType.value),"Portrait"!=this.editorType.value||"voice"!=this.categoryID){switch("Avi"==this.editorType.value?this.displayRolls=!1:this.getRolls(),e){case"avatar":i="&archetype_id="+this.player.archetype_id;break;case"avi":i="&is_avi=true";break;case"structure":i="&archetype_id="+this.structure.archetype_id;break;case"equipment":i="&archetype_id="+this.equipment.archetype_id;break;default:return}var n="/items?category_id="+this.categoryID+i;null!=t&&(n+="&order_by="+t),this.$parent.showSpinner=!0,W.a.get(n).then(this.setItems).catch(a.raiseError)}else this.getVoices()},getRolls:function(){var t=this;W.a.get("/rolls").then((function(e){null!=e.data.roll_count&&(t.numberOfRolls=e.data.roll_count)}))},getVoices:function(){this.isVoices=!0,W.a.get("/voices").then(this.setItems).catch(a.raiseError)},setItems:function(t){this.items=t.data,this.items.forEach((function(t){var e=t.name.match(/\b([a-zA-Z])/g).join(""),i=t.name.split(" ");e+=i[i.length-1],t.name=e})),this.items.sort((function(t,e){return 1==t.is_owned?-1:0})),this.isVoices||this.isRequired||this.items.unshift({id:0,name:"No Item",category_id:this.categoryID,category:{color:{hex:"#fff"}},layers:void 0});for(var e=0;e<this.items.length;e++)this.items[e].navigationIndex=e;this.$parent.showSpinner=!1,this.items.length<1?this.cancelCommand():this.selectedItem=this.items[0]},cancelCommand:function(){return this.$parent.isOpen.items=!1,this.$parent.isOpen.sideMenu=!1,"play"},selectCommand:function(){this.selectItem(this.selectedItem)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;this.selectedItem=Ne.navigateOptions(t,this.items,this.selectedItem,"item");var i=this.items.find((function(t){return t.id==e.selectedItem.id})).navigationIndex;document.getElementById("item"+i).scrollIntoView()}},mounted:function(){this.getItems()}},Xe=(i("iE1N"),Ee(ze,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isVoices?t._e():i("div",{staticClass:"option-wrapper"},t._l(t.items,(function(e){return i("div",{key:"item"+e.id,staticClass:"item-box",class:{"active-item active-menu-item-small":t.selectedItem.id==e.id,"inactive-item":t.selectedItem.id!=e.id,"roll-failed":e.rollFail,"roll-success":e.rollSuccess,"is-equipped":e.isEquipped},style:"width: 8.2vmin; height: 11vmin",attrs:{id:"item"+e.navigationIndex,title:e.name},on:{click:function(i){return t.selectItem(e)}}},[i("item-box",{staticClass:"clickable",attrs:{item:e,color:null==e.category.color?{hex:"#fff"}:{hex:e.category.color.hex},preview:!0,avi:"Avi"==t.editorType.value||"Build"==t.editorType.value&&"Structure"==t.subType.value}}),t._v(" "),t.isVoices?i("div",{style:"background-image: url(/"+e.file_name+");"}):t._e(),t._v(" "),null!=e.amount&&e.amount>0?i("span",{staticClass:"tag is-dark is-rounded is-amount-counter"},[t._v(t._s(e.amount))]):t._e(),t._v(" "),t.displayRolls&&e.id==t.selectedItem.id&&0==e.is_owned?i("img",{staticClass:"roll-img",attrs:{src:"/img/game/rolls/roll.png"}}):t._e(),t._v(" "),t.displayRolls&&e.id==t.selectedItem.id&&0==e.is_owned?i("span",{staticClass:"tag is-dark is-rounded is-roll-counter"},[t._v("x"+t._s(t.numberOfRolls))]):t._e(),t._v(" "),i("div",{staticClass:"item-name clickable",class:{"is-owned":null!=e.amount&&e.amount>0||e.is_owned,"is-selected":(null!=e.amount&&e.amount>0||e.is_owned)&&e.id==t.selectedItem.id},staticStyle:{width:"100%"}},[t._v(t._s(e.name)),i("span",{staticClass:"has-text-success"},[t._v(t._s(e.id==t.selectedItem.id&&0==e.is_owned?" "+e.roll_rarity+"%":""))])])],1)})),0),t._v(" "),t.isVoices?i("div",{staticClass:"option-wrapper"},t._l(t.items,(function(e){return i("div",{key:"item"+e.id,staticClass:"item-box",class:t.selectedItem.id==e.id?"active-item active-menu-item-small":"inactive-item",style:"width: 8.2vmin; height: 8.2vmin; background-image: url(/"+e.file_name+");background-color:transparent;",attrs:{id:"item"+e.navigationIndex},on:{click:function(i){return t.selectItem(e)}}})})),0):t._e()])}),[],!1,null,"0dbb4130",null).exports),He=Ee({props:["color","is_scaled"],computed:{backgroundColor:function(){return"background-color: "+this.color.hex+";"}},mounted:function(){}},(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"color-box",class:this.is_scaled?"color-scale":"",style:this.backgroundColor,attrs:{title:this.color.hex}})}),[],!1,null,null,null),Ye=Ee({name:"InspectModalColors",components:{"color-box":He.exports},props:["editorType","subType","categoryID","player","structure","equipment"],data:function(){return{colors:[],selectedColor:{id:0}}},methods:{selectColor:function(t){this.selectedColor=t,this.changeColor()},changeColor:function(){var t=this,e={category_id:this.categoryID,color_id:this.selectedColor.id};"Avi"==this.subType.value&&(e.is_avi=!0),"Build"==this.editorType.value&&"Structure"==this.subType.value&&(e.structure_id=this.structure.id),"Build"==this.editorType.value&&"equipment"==Ne.getEditorType(t.subType.value)&&(e.equipment_id=this.equipment.id),this.$parent.showSpinner=!0,W.a.post("/equip/color",e).then((function(e){"Build"==t.editorType.value&&"Structure"==t.subType.value?t.$parent.structure=e.data:"Build"==t.editorType.value&&"equipment"==Ne.getEditorType(t.subType.value)?t.$parent.equipment=e.data:"Avi"!=t.subType.value?t.$parent.player=e.data:t.$parent.player.avi=e.data})).catch(a.raiseError).then((function(){t.$parent.showSpinner=!1}))},getColors:function(){this.$parent.showSpinner=!0,W.a.get("/colors").then(this.setColors).catch(a.raiseError)},setColors:function(t){this.colors=t.data;for(var e=0;e<this.colors.length;e++)this.colors[e].navigationIndex=e;this.colors.length&&(this.selectedColor=this.colors[0],this.$parent.showSpinner=!1)},cancelCommand:function(){return this.$parent.isOpen.colors=!1,this.$parent.isOpen.sideMenu=!1,"play"},selectCommand:function(){this.selectColor(this.selectedColor)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;this.selectedColor=Ne.navigateOptions(t,this.colors,this.selectedColor,"color");var i=this.colors.find((function(t){return t.id==e.selectedColor.id})).navigationIndex;document.getElementById("color"+i).scrollIntoView()}},mounted:function(){this.getColors()}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-wrapper"},t._l(t.colors,(function(e){return i("div",{key:"color"+e.id,staticClass:"item-box",class:t.selectedColor.id==e.id?"active-color active-menu-item-small":"inactive-item",staticStyle:{width:"3.5vmin",height:"3.5vmin"},attrs:{id:"color"+e.navigationIndex,title:e.name},on:{click:function(i){return t.selectColor(e)}}},[i("color-box",{attrs:{color:e,is_scaled:!1}})],1)})),0)}),[],!1,null,null,null).exports,qe={name:"InspectModalEquipment",props:["equipmentType"],data:function(){return{selectedEquipment:void 0,equipments:[]}},methods:{selectEquipment:function(t){if(this.selectedEquipment=t,this.selectedEquipment.id>0)return this.$parent.equipment=this.selectedEquipment,void(this.$parent.isOpen.categories=!0);this.$parent.isOpen.archetypes=!0},getEquipments:function(){this.$parent.showSpinner=!0,W.a.get("/equipment?is_designer=true&type="+this.equipmentType.toLowerCase()).then(this.setEquipments).catch(a.raiseError)},setEquipments:function(t){var e=this;this.equipments=t.data,this.equipments.push({id:0,name:"Add",file_name:"/img/game/menus/add_fixed.png"});for(var i=0;i<this.equipments.length;i++)this.equipments[i].navigationIndex=i;null==this.selectedEquipment||null==this.equipments.find((function(t){return t.id==e.selectedEquipment.id}))?this.selectedEquipment=this.equipments[0]:this.selectedEquipment=this.equipments.find((function(t){return t.id==e.selectedEquipment.id})),this.$parent.equipment={},0!=this.selectedEquipment.id&&(this.$parent.equipment=this.selectedEquipment),this.$parent.showSpinner=!1},cancelCommand:function(){return this.$parent.equipment={},this.$parent.isOpen.equipment=!1,"play"},selectCommand:function(){this.selectEquipment(this.selectedEquipment)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;this.selectedEquipment=Ne.navigateOptions(t,this.equipments,this.selectedEquipment,"equipment"),this.$parent.equipment={},0!=this.selectedEquipment.id&&(this.$parent.equipment=this.selectedEquipment);var i=this.equipments.find((function(t){return t.id==e.selectedEquipment.id})).navigationIndex;document.getElementById("equipment"+i).scrollIntoView()}},mounted:function(){this.getEquipments()}},We=(i("AbsP"),Ee(qe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-wrapper"},t._l(t.equipments,(function(e){return i("div",{key:"equipment"+e.id,staticClass:"item-box",class:t.selectedEquipment.id==e.id?"active-item active-menu-item-small":"inactive-item",staticStyle:{width:"8.2vmin",height:"8.2vmin"},attrs:{id:"equipment"+e.navigationIndex,title:e.name},on:{click:function(i){return t.selectEquipment(e)}}},[i("img",{staticClass:"clickable avatar-img",attrs:{src:""==e.file_name?"/img/Avatar_box.png":e.file_name}})])})),0)}),[],!1,null,"5caacdef",null).exports),Ve=Ee({name:"InspectModalEquipmentInventory",props:["equipmentType"],data:function(){return{selectedEquipment:void 0,equipments:[]}},methods:{selectEquipment:function(t){this.selectedEquipment=t,this.$parent.equipment=t,this.$parent.setupSideMenu()},getEquipments:function(){this.$parent.showSpinner=!0,W.a.get("/equipment?type="+this.equipmentType.toLowerCase()).then(this.setEquipments).catch(a.raiseError)},setEquipments:function(t){var e=this;this.equipments=t.data;for(var i=0;i<this.equipments.length;i++)this.equipments[i].navigationIndex=i;this.equipments.length||this.cancelCommand(),null==this.selectedEquipment||null==this.equipments.find((function(t){return t.id==e.selectedEquipment.id}))?this.selectedEquipment=this.equipments[0]:this.selectedEquipment=this.equipments.find((function(t){return t.id==e.selectedEquipment.id})),this.$parent.showSpinner=!1},cancelCommand:function(){return this.$parent.equipment={},this.$parent.isOpen.equipmentInventory=!1,"play"},selectCommand:function(){this.selectEquipment(this.selectedEquipment)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;this.selectedEquipment=Ne.navigateOptions(t,this.equipments,this.selectedEquipment,"equipment");var i=this.equipments.find((function(t){return t.id==e.selectedEquipment.id})).navigationIndex;document.getElementById("equipment"+i).scrollIntoView()}},mounted:function(){this.getEquipments()}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-wrapper"},t._l(t.equipments,(function(e){return i("div",{key:"equipment"+e.id,staticClass:"item-box",class:t.selectedEquipment.id==e.id?"active-item active-menu-item-small":"inactive-item",staticStyle:{width:"8.2vmin",height:"8.2vmin"},attrs:{id:"equipment"+e.navigationIndex,title:e.name},on:{click:function(i){return t.selectEquipment(e)}}},[i("img",{staticClass:"clickable avatar-img",class:e.is_equipped?"equipped-item":"",attrs:{src:""==e.file_name?"/img/Avatar_box.png":e.file_name}}),t._v(" "),e.is_equipped?i("img",{class:e.is_equipped?"equipped-item":"",staticStyle:{position:"absolute",top:"0",left:"0"},attrs:{src:"/img/game/backgrounds/border_1_fixed.png"}}):t._e()])})),0)}),[],!1,null,null,null).exports,Ge=Ee({name:"InspectModalArchetypes",props:["editorType","playerID","subType"],data:function(){return{archetypes:[],selectedArchetype:{id:0}}},methods:{selectArchetype:function(t){this.selectedArchetype=t;var e="";"equipment"==(e="Build"==this.editorType.value?Ne.getEditorType(this.subType.value):Ne.getEditorType(this.editorType.value))&&this.createEquipment(),"avatar"==e&&this.changeArchetype(),"structure"==e&&this.createStructure()},createEquipment:function(){var t=this,e={archetype:this.selectedArchetype.id};this.$parent.showSpinner=!0,W.a.post("/equipment",e).then((function(e){t.$parent.showSpinner=!1,t.$parent.isOpen.archetypes=!1,t.$parent.$refs.equipmentOptions.getEquipments()})).catch(a.raiseError)},createStructure:function(){var t=this,e={archetype:this.selectedArchetype.id};this.$parent.showSpinner=!0,W.a.post("/structures",e).then((function(e){t.$parent.showSpinner=!1,t.$parent.isOpen.archetypes=!1,t.$parent.$refs.structureOptions.getStructures()})).catch(a.raiseError)},changeArchetype:function(){var t=this,e={archetype:this.selectedArchetype.id};this.$parent.showSpinner=!0,W.a.put("/avatar/"+this.playerID,e).then((function(e){t.$parent.player=e.data,t.$parent.showSpinner=!1})).catch(a.raiseError)},getArchetypes:function(){var t="",e=null;if("Build"==this.editorType.value?"equipment"==(t=Ne.getEditorType(this.subType.value))&&(e=this.subType.value.toLowerCase()):t=Ne.getEditorType(this.editorType.value),t){this.$parent.showSpinner=!0;var i="/archetypes?type=".concat(t);null!=e&&(i="".concat(i,"&equipment_type=").concat(e)),W.a.get(i).then(this.setArchetypes).catch(a.raiseError)}},setArchetypes:function(t){this.archetypes=t.data;for(var e=0;e<this.archetypes.length;e++)this.archetypes[e].navigationIndex=e;if(!this.archetypes.length)return this.$parent.showSpinner=!1,void(this.$parent.isOpen.archetypes=!1);this.selectedArchetype=this.archetypes[0],this.$parent.showSpinner=!1},cancelCommand:function(){return this.$parent.isOpen.archetypes=!1,"play"},selectCommand:function(){this.selectArchetype(this.selectedArchetype)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;this.selectedArchetype=Ne.navigateOptions(t,this.archetypes,this.selectedArchetype,"archetype");var i=this.archetypes.find((function(t){return t.id==e.selectedArchetype.id})).navigationIndex;document.getElementById("archetype"+i).scrollIntoView()}},mounted:function(){this.getArchetypes()}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-wrapper"},t._l(t.archetypes,(function(e){return i("div",{key:"archetype"+e.id,staticClass:"item-box",class:t.selectedArchetype.id==e.id?"active-item active-menu-item-small":"inactive-item",staticStyle:{width:"8.2vmin",height:"11vmin"},attrs:{id:"archetype"+e.navigationIndex,title:e.name},on:{click:function(i){return t.selectArchetype(e)}}},[i("img",{staticClass:"clickable avatar-img",attrs:{src:""==e.file_name?"/img/Avatar_box.png":"/"+e.file_name}}),t._v(" "),i("div",{staticClass:"name-box clickable",staticStyle:{width:"100%"}},[t._v(t._s(e.name))])])})),0)}),[],!1,null,null,null).exports,$e={name:"InspectModalStructures",data:function(){return{selectedStructure:void 0,structures:[]}},methods:{selectStructure:function(t){if(this.selectedStructure=t,this.selectedStructure.id>0)return this.$parent.structure=this.selectedStructure,void(this.$parent.isOpen.categories=!0);this.$parent.isOpen.archetypes=!0},getStructures:function(){this.$parent.showSpinner=!0,W.a.get("/structures").then(this.setStructures).catch(a.raiseError)},setStructures:function(t){var e=this;this.structures=t.data,this.structures.push({id:0,name:"Add",file_name:"/img/game/menus/add_fixed.png"});for(var i=0;i<this.structures.length;i++)this.structures[i].navigationIndex=i;null==this.selectedStructure||null==this.structures.find((function(t){return t.id==e.selectedStructure.id}))?this.selectedStructure=this.structures[0]:this.selectedStructure=this.structures.find((function(t){return t.id==e.selectedStructure.id})),this.$parent.showSpinner=!1},cancelCommand:function(){return this.$parent.structure={},this.$parent.isOpen.structures=!1,"play"},selectCommand:function(){this.selectStructure(this.selectedStructure)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;this.selectedStructure=Ne.navigateOptions(t,this.structures,this.selectedStructure,"structure");var i=this.structures.find((function(t){return t.id==e.selectedStructure.id})).navigationIndex;document.getElementById("structure"+i).scrollIntoView()}},mounted:function(){this.getStructures()}},Ke=(i("NDuM"),Ee($e,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-wrapper"},t._l(t.structures,(function(e){return i("div",{key:"structure"+e.id,staticClass:"item-box",class:[t.selectedStructure.id==e.id?"active-structure active-menu-item-small":"inactive-item",0==e.id&&0==t.selectedStructure.id?"add-selected":""],staticStyle:{width:"8.2vmin",height:"8.2vmin","background-color":"transparent"},style:"background-image: url("+(""==e.file_name?"/img/game/menus/edit_placeholder.png":e.file_name)+");"+(e.id>0?"background-position: -12% 0%; background-size: 330%;":""),attrs:{id:"structure"+e.navigationIndex},on:{click:function(i){return t.selectStructure(e)}}})})),0)}),[],!1,null,"6e7d1ae7",null).exports),Ze=Ee({name:"InspectModalCategories",props:["editorType","subType"],data:function(){return{selectedCategory:void 0,categories:[]}},methods:{selectCategory:function(t){this.selectedCategory=t,this.$parent.setupSideMenu()},getCategories:function(){var t="";if(t="Build"==this.editorType.value?Ne.getEditorType(this.subType.value):Ne.getEditorType(this.editorType.value)){this.$parent.showSpinner=!0,W.a.get("/categories?type="+t).then(this.setCategories).catch(a.raiseError)}},setCategories:function(t){this.categories=t.data,"Portrait"==this.editorType.value&&this.categories.unshift({id:"voice",file_name:"img/game/voice_click.png"});for(var e=0;e<this.categories.length;e++)this.categories[e].navigationIndex=e;this.selectedCategory=this.categories[0],this.$parent.showSpinner=!1},cancelCommand:function(){return this.$parent.isOpen.structures&&this.$parent.$refs.structureOptions.getStructures(),this.$parent.isOpen.equipment&&this.$parent.$refs.equipmentOptions.getEquipments(),this.$parent.isOpen.categories=!1,"play"},selectCommand:function(){this.selectCategory(this.selectedCategory)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;this.selectedCategory=Ne.navigateOptions(t,this.categories,this.selectedCategory,"category");var i=this.categories.find((function(t){return t.id==e.selectedCategory.id})).navigationIndex;document.getElementById("category"+i).scrollIntoView()}},mounted:function(){this.getCategories()}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-wrapper"},t._l(t.categories,(function(e){return i("div",{key:"category"+e.id,staticClass:"category-box",class:t.selectedCategory.id==e.id?"active-category active-menu-item-small":"inactive-item",style:"width: 6.1vmin; height: 6.1vmin; background-image: url(/"+e.file_name+");background-color:transparent;",attrs:{id:"category"+e.navigationIndex},on:{click:function(i){return t.selectCategory(e)}}})})),0)}),[],!1,null,null,null).exports,Je={name:"InspectModalMaterials",props:["materialType"],data:function(){return{materials:[],selectedMaterial:{id:0}}},methods:{selectMaterial:function(t){this.selectedMaterial=t,this.$parent.material=t,this.$parent.setupSideMenu(t)},getMaterials:function(){this.$parent.showSpinner=!0;var t="materials";switch(this.materialType.value){case"Consumable":t="consumables";break;case"Valuable":t="valuables"}W.a.get("/inventory?type=".concat(t)).then(this.setMaterials).catch(a.raiseError)},setMaterials:function(t){var e=this;this.materials=t.data;for(var i=0;i<this.materials.length;i++)this.materials[i].navigationIndex=i;if(!this.materials.length)return this.$parent.showSpinner=!1,void this.cancelCommand();var n=this.materials.find((function(t){return t.id==e.selectedMaterial.id}));this.selectedMaterial=void 0!==n?n:this.materials[0],this.$parent.showSpinner=!1},cancelCommand:function(){return this.$parent.material={},this.$parent.isOpen.materials=!1,this.$parent.isOpen.sideMenu=!1,this.$parent.$parent.slotsOverviewOpen=!0,this.$parent.$parent.statsOverviewOpen=!1,"play"},selectCommand:function(){this.selectMaterial(this.selectedMaterial)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;this.selectedMaterial=Ne.navigateOptions(t,this.materials,this.selectedMaterial,"material");var i=this.materials.find((function(t){return t.id==e.selectedMaterial.id})).navigationIndex;document.getElementById("material"+i).scrollIntoView()}},mounted:function(){this.getMaterials()}},Qe=(i("jFaK"),Ee(Je,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-wrapper"},t._l(t.materials,(function(e){return i("div",{key:"material"+e.id,staticClass:"item-box",class:t.selectedMaterial.id==e.id?"active-item active-menu-item-small":"inactive-item",staticStyle:{width:"8.2vmin",height:"11vmin"},attrs:{id:"material"+e.navigationIndex,title:e.name},on:{click:function(i){return t.selectMaterial(e)}}},[i("img",{staticClass:"clickable avatar-img",attrs:{src:""==e.file_name?"/img/Avatar_box.png":"/"+e.file_name}}),t._v(" "),null!=e.amount&&e.amount>0?i("span",{staticClass:"tag is-dark is-rounded is-amount-counter"},[t._v(t._s(e.amount))]):t._e(),t._v(" "),i("div",{staticClass:"name-box clickable",staticStyle:{width:"100%"}},[t._v(t._s(e.name))])])})),0)}),[],!1,null,"ab4d6cca",null).exports),ti={name:"InspectModalCharacter",props:[],data:function(){return{stats:{},modifiers:{}}},methods:{getStats:function(){var t=this;W.a.get("/stats").then((function(e){t.stats=e.data})).catch(a.raiseError)},getModifiers:function(){var t=this;W.a.get("/modifiers").then((function(e){t.modifiers=e.data})).catch(a.raiseError)},addStyling:function(t){return t<0?'<span class="has-text-negative">'.concat(t,"</span>"):'<span class="has-text-positive">+'.concat(t,"</span>")},cancelCommand:function(){return this.$parent.isOpen.character=!1,"play"},selectCommand:function(){},upCommand:function(){},leftCommand:function(){},rightCommand:function(){},downCommand:function(){},move:function(t){}},computed:{getHealthStyle:function(){var t=.75*this.modifiers.health;return"width: ".concat(t,"%")},getStressStyle:function(){var t=.75*this.modifiers.stress;return"width: ".concat(t,"%")},sumHealthMods:function(){var t=0;return t+=this.modifiers.bleed,t+=this.modifiers.hunger,t+=this.modifiers.thirst,t+=this.modifiers.hygiene,t+=this.modifiers.medicine,t+=this.modifiers.infection,t+=this.modifiers.temperature,(t+=this.modifiers.constitution)<0?"(".concat(t,")"):"(+".concat(t,")")},sumStressMods:function(){var t=0;return t+=this.modifiers.pain,t+=this.modifiers.rest,t+=this.modifiers.comfort,t+=this.modifiers.beauty,t+=this.modifiers.joy,t+=this.modifiers.bravery,t+=this.modifiers.self_control,(t+=this.modifiers.social)<0?"(".concat(t,")"):"(+".concat(t,")")}},mounted:function(){this.getModifiers()}},ei=(i("fZkZ"),{props:["inspectObject","gameSettings"],components:{"item-preview":Le,"inspect-menu":Ue,"inspect-side":je,"item-options":Xe,"color-options":Ye,"material-options":Qe,"archetype-options":Ge,"category-options":Ze,"equipment-options":We,"equipment-inventory":Ve,"structure-options":Ke,"character-info":Ee(ti,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tile is-ancestor is-paddingless is-marginless"},[null!=t.modifiers.health?i("div",{staticClass:"tile is-vertical is-6"},[i("div",{staticClass:"tile is-parent is-modifier-stat"},[i("article",{staticClass:"tile is-child"},[i("span",{staticClass:"is-modifier-progress",staticStyle:{"background-color":"#FBEE01"},style:t.getHealthStyle}),t._v(" "),i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/health_fixed.png"}}),t._v(" "),i("div",[i("span",{staticClass:"is-modifier-text is-health",staticStyle:{right:"calc(50% - 4.5vmin)"},attrs:{"data-content":t.modifiers.health}}),t._v(" "),i("span",{staticClass:"is-modifier-text is-health is-smaller",attrs:{"data-content":t.sumHealthMods}})])])]),t._v(" "),i("div",{staticClass:"tile"},[i("div",{staticClass:"tile is-parent is-vertical is-modifier-stat"},[i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/bleed_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.bleed))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/hunger_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.hunger))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/thirst_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.thirst))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/hygiene_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.hygiene))}})])])]),t._v(" "),i("div",{staticClass:"tile is-parent is-vertical is-modifier-stat"},[i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/medicine_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.medicine))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/infection_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.infection))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/temperature_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.temperature))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/constitution_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.constitution))}})])])])])]):t._e(),t._v(" "),null!=t.modifiers.stress?i("div",{staticClass:"tile is-vertical is-6"},[i("div",{staticClass:"tile is-parent is-modifier-stat"},[i("article",{staticClass:"tile is-child"},[i("span",{staticClass:"is-modifier-progress",staticStyle:{"background-color":"#5EFA01"},style:t.getStressStyle}),t._v(" "),i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/stress_fixed.png"}}),t._v(" "),i("div",[i("span",{staticClass:"is-modifier-text is-stress",staticStyle:{right:"calc(50% - 4.5vmin)"},attrs:{"data-content":t.modifiers.stress}}),t._v(" "),i("span",{staticClass:"is-modifier-text is-stress is-smaller",attrs:{"data-content":t.sumStressMods}})])])]),t._v(" "),i("div",{staticClass:"tile"},[i("div",{staticClass:"tile is-parent is-vertical is-modifier-stat"},[i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/pain_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.pain))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/rest_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.rest))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/comfort_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.comfort))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/beauty_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.beauty))}})])])]),t._v(" "),i("div",{staticClass:"tile is-parent is-vertical is-modifier-stat"},[i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/joy_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.joy))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/bravery_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.bravery))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/self_control_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.self_control))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/social_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.social))}})])])])])]):t._e()])}),[],!1,null,"251429a5",null).exports},data:function(){return{player:this.inspectObject.player,structure:{},equipment:{},material:{},showSpinner:!1,isOpen:{mainMenu:!1,subMenu:!1,sideMenu:!1,categories:!1,archetypes:!1,colors:!1,items:!1,equipment:!1,structures:!1,character:!1,materials:!1,equipmentInventory:!1},mainMenu:[],subMenu:[],sideMenu:[],helpText:{title:"",text:""},minutePercent:0}},methods:{tick:function(){this.minutePercent=(new Date).getTime()/1e3%60*1.667,requestAnimationFrame(this.tick)},closeModal:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$parent.$data.menuSound="close",this.$parent.$data.inspectOpen=!1,t||(this.$parent.$data.inspectObject=void 0)},resetAllMenuSections:function(){var t=this;Object.keys(this.isOpen).forEach((function(e){"mainMenu"!=e&&(t.isOpen[e]=!1)}))},press:function(t){var e=this.getFocusedMenu();if(null!=e)switch(t){case"up":return void e.upCommand();case"left":return void e.leftCommand();case"down":return void e.downCommand();case"right":return void e.rightCommand();case"accept":if(this.showSpinner)return;return void e.selectCommand();case"cancel":var i=e.cancelCommand();return"close"==i&&this.closeModal(),i;default:return}},getFocusedMenu:function(){return this.isOpen.colors?this.$refs.colorOptions:this.isOpen.items?this.$refs.itemOptions:this.isOpen.archetypes?this.$refs.archetypeOptions:this.isOpen.sideMenu?this.$refs.sideMenu:this.isOpen.categories?this.$refs.categoryOptions:this.isOpen.equipment?this.$refs.equipmentOptions:this.isOpen.structures?this.$refs.structureOptions:this.isOpen.materials?this.$refs.materialOptions:this.isOpen.equipmentInventory?this.$refs.equipmentInventory:this.isOpen.character?this.$refs.characterInfo:this.isOpen.subMenu?this.$refs.subMenu:this.isOpen.mainMenu?this.$refs.mainMenu:void 0},setupMainMenu:function(){this.mainMenu=Ne.setupMainMenu(),this.isOpen.mainMenu=!0},setupSubMenu:function(){if(this.inspectObject.player.isCurrentUser){var t=this.$refs.mainMenu.selectedOption;if("Craft"===t.value)return this.$parent.isSimpleCraft=!0,this.$parent.craftingOpen=!0,void(this.$parent.inspectOpen=!1);this.subMenu=Ne.setupSubMenu(t),this.isOpen.subMenu=!0}},setupSideMenu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.inspectObject.player.isCurrentUser){var e=this.$refs.mainMenu.selectedOption,i=null!=this.$refs.subMenu?this.$refs.subMenu.selectedOption:{},n=null!=this.$refs.categoryOptions?this.$refs.categoryOptions.selectedCategory:{};this.sideMenu=Ne.setupSideMenu(e,i,t),"Portrait"==i.value&&"voice"==n.id&&(this.sideMenu=[{value:"Item",img:"item_fixed.png",helpText:{title:"Voices",text:"Select a voice to change"}}]),this.isOpen.sideMenu=!0}},getPlayerDetails:function(){var t=this;this.showSpinner=!0,W.a.get("/avatar/"+this.player.id).then((function(e){t.player=e.data,t.showSpinner=!1})).catch(a.raiseError)},updateHelpText:function(t){null!=t&&null!=t.helpText&&null!=t.helpText.text&&(this.helpText.title=t.helpText.title,this.helpText.text=t.helpText.text)},updateSlots:function(){null!=this.$parent.$refs.slotsOverview&&this.$parent.$refs.slotsOverview.getSlotInfo()},showLoadingSlots:function(){null!=this.$parent.$refs.slotsOverview&&(this.$parent.$refs.slotsOverview.isLoading=!0)},inventoryOpen:function(){return null!=this.$refs.mainMenu&&"Inventory"==this.$refs.mainMenu.selectedOption.value&&null!=this.$refs.subMenu&&"Portrait"!=this.$refs.subMenu.selectedOption.value&&"Avi"!=this.$refs.subMenu.selectedOption.value}},mounted:function(){null!=this.player?(this.setupMainMenu(),this.getPlayerDetails()):this.closeModal(),requestAnimationFrame(this.tick)}}),ii=(i("NI0k"),Ee(ei,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"section is-paddingless is-marginless",attrs:{id:"editor-modal"}},[i("div",{staticClass:"container is-paddingless is-marginless",class:{"adjusted-height":t.inventoryOpen()},attrs:{id:"editor-head"}},[i("div",{staticClass:"column is-marginless",staticStyle:{"max-height":"7vmin",padding:"0 1rem"}},[i("h1",{staticClass:"has-text-success has-text-weight-bold",staticStyle:{"font-size":"2.5vmin"}},[t._v("\n                "+t._s(t.helpText.title)+"\n            ")]),t._v(" "),i("p",{staticClass:"has-text-weight-bold has-text-white",staticStyle:{"font-size":"2vmin"}},[t._v("\n                "+t._s(t.helpText.text)+"\n            ")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!(t.isOpen.items||t.isOpen.categories||t.isOpen.colors||t.isOpen.sideMenu),expression:"!isOpen.items && !isOpen.categories && !isOpen.colors && !isOpen.sideMenu"}],staticClass:"column is-paddingless is-marginless"},[t.isOpen.mainMenu?i("div",[i("inspect-menu",{directives:[{name:"show",rawName:"v-show",value:t.isOpen.mainMenu&&!t.isOpen.subMenu,expression:"isOpen.mainMenu && !isOpen.subMenu"}],ref:"mainMenu",attrs:{options:t.mainMenu,isMain:!0}})],1):t._e(),t._v(" "),t.isOpen.subMenu?i("div",[i("inspect-menu",{directives:[{name:"show",rawName:"v-show",value:t.isOpen.subMenu&&!t.isOpen.categories&&!t.isOpen.items&&!t.isOpen.archetypes&&!t.isOpen.equipment&&!t.isOpen.colors&&!t.isOpen.structures,expression:"isOpen.subMenu && !isOpen.categories && !isOpen.items && !isOpen.archetypes && !isOpen.equipment && !isOpen.colors && !isOpen.structures"}],ref:"subMenu",attrs:{options:t.subMenu,isMain:!1,settings:t.gameSettings}})],1):t._e()]),t._v(" "),t.isOpen.categories||(t.isOpen.equipmentInventory||t.isOpen.materials)&&t.isOpen.sideMenu||this.isOpen.equipment?i("div",{staticClass:"columns is-paddingless is-marginless",staticStyle:{width:"100%"}},[i("div",{staticClass:"column is-paddingless is-marginless"},[t.showSpinner?i("div",{staticClass:"button is-loading is-spinner"},[t._v("Loading")]):t._e(),t._v(" "),null!=t.player&&null!=t.$refs.subMenu&&"Portrait"==t.$refs.subMenu.selectedOption.value?i("img",{staticClass:"is-player-avatar",attrs:{src:t.player.file_name}}):t._e(),t._v(" "),null!=t.player&&null!=t.player.avi&&null!=t.$refs.subMenu&&"Avi"==t.$refs.subMenu.selectedOption.value?i("img",{staticClass:"is-player-sprite",attrs:{src:t.player.avi.file_name}}):t._e(),t._v(" "),null!=t.structure&&null!=t.$refs.subMenu&&"Structure"==t.$refs.subMenu.selectedOption.value?i("img",{staticClass:"is-player-sprite",attrs:{src:t.structure.file_name}}):t._e(),t._v(" "),null==t.material||null==t.$refs.subMenu||"Material"!=t.$refs.subMenu.selectedOption.value&&"Consumable"!=t.$refs.subMenu.selectedOption.value?t._e():i("img",{staticClass:"is-player-avatar",attrs:{src:t.material.file_name}}),t._v(" "),null==t.equipment||null==t.$refs.equipmentOptions&&(null==t.$refs.subMenu||"Weapon"!=t.$refs.subMenu.selectedOption.value&&"Tool"!=t.$refs.subMenu.selectedOption.value&&"Armor"!=t.$refs.subMenu.selectedOption.value)?t._e():i("img",{staticClass:"is-player-avatar",attrs:{src:t.equipment.file_name}})]),t._v(" "),i("div",{staticClass:"column is-paddingless is-marginless"},[t.isOpen.sideMenu?i("div",[i("inspect-side",{directives:[{name:"show",rawName:"v-show",value:t.isOpen.sideMenu&&(t.isOpen.categories||t.isOpen.equipmentInventory||t.isOpen.materials),expression:"isOpen.sideMenu && (isOpen.categories || isOpen.equipmentInventory || isOpen.materials)"}],ref:"sideMenu",attrs:{options:t.sideMenu}})],1):t._e()])]):t._e()]),t._v(" "),i("div",{staticClass:"container is-paddingless is-marginless",class:{"adjusted-height":t.inventoryOpen()},attrs:{id:"editor-body"}},[i("div",{staticClass:"is-paddingless is-marginless"},[t.isOpen.structures?i("div",[i("structure-options",{directives:[{name:"show",rawName:"v-show",value:t.isOpen.structures&&!t.isOpen.items&&!t.isOpen.archetypes&&!t.isOpen.colors&&!t.isOpen.categories,expression:"isOpen.structures && !isOpen.items && !isOpen.archetypes && !isOpen.colors && !isOpen.categories"}],ref:"structureOptions"})],1):t._e(),t._v(" "),t.isOpen.equipmentInventory?i("div",[i("equipment-inventory",{directives:[{name:"show",rawName:"v-show",value:t.isOpen.equipmentInventory&&!t.isOpen.items&&!t.isOpen.archetypes&&!t.isOpen.colors&&!t.isOpen.categories,expression:"isOpen.equipmentInventory && !isOpen.items && !isOpen.archetypes && !isOpen.colors && !isOpen.categories"}],ref:"equipmentInventory",attrs:{equipmentType:t.$refs.subMenu.selectedOption.value}})],1):t._e(),t._v(" "),t.isOpen.equipment?i("div",[i("equipment-options",{directives:[{name:"show",rawName:"v-show",value:t.isOpen.equipment&&!t.isOpen.items&&!t.isOpen.archetypes&&!t.isOpen.colors&&!t.isOpen.categories,expression:"isOpen.equipment && !isOpen.items && !isOpen.archetypes && !isOpen.colors && !isOpen.categories"}],ref:"equipmentOptions",attrs:{equipmentType:t.$refs.subMenu.selectedOption.value}})],1):t._e(),t._v(" "),t.isOpen.categories?i("div",[i("category-options",{directives:[{name:"show",rawName:"v-show",value:t.isOpen.categories&&!t.isOpen.items&&!t.isOpen.archetypes&&!t.isOpen.colors,expression:"isOpen.categories && !isOpen.items && !isOpen.archetypes && !isOpen.colors"}],ref:"categoryOptions",attrs:{editorType:"Inventory"==t.$refs.mainMenu.selectedOption.value?t.$refs.subMenu.selectedOption:t.$refs.mainMenu.selectedOption,subType:null==t.$refs.subMenu?{}:t.$refs.subMenu.selectedOption}})],1):t._e(),t._v(" "),t.isOpen.archetypes?i("archetype-options",{ref:"archetypeOptions",attrs:{editorType:"Inventory"==t.$refs.mainMenu.selectedOption.value?t.$refs.subMenu.selectedOption:t.$refs.mainMenu.selectedOption,subType:null!=t.$refs.subMenu?t.$refs.subMenu.selectedOption:{},playerID:t.player.id}}):t._e(),t._v(" "),t.isOpen.materials?i("material-options",{ref:"materialOptions",attrs:{materialType:null!=t.$refs.subMenu?t.$refs.subMenu.selectedOption:{}}}):t._e(),t._v(" "),t.isOpen.items?i("item-options",{ref:"itemOptions",attrs:{editorType:"Inventory"==t.$refs.mainMenu.selectedOption.value?t.$refs.subMenu.selectedOption:t.$refs.mainMenu.selectedOption,subType:null!=t.$refs.subMenu?t.$refs.subMenu.selectedOption:{},categoryID:t.$refs.categoryOptions.selectedCategory.id,isRequired:t.$refs.categoryOptions.selectedCategory.is_required,structure:t.structure,player:t.player,equipment:t.equipment}}):t._e(),t._v(" "),t.isOpen.colors?i("color-options",{ref:"colorOptions",attrs:{playerID:t.player.id,editorType:t.$refs.mainMenu.selectedOption,subType:null!=t.$refs.subMenu?t.$refs.subMenu.selectedOption:{},categoryID:t.$refs.categoryOptions.selectedCategory.id,structure:t.structure,player:t.player,equipment:t.equipment}}):t._e(),t._v(" "),t.isOpen.character?i("progress",{staticClass:"progress is-warning is-marginless",attrs:{max:"100"},domProps:{value:t.minutePercent}},[t._v(t._s(t.minutePercent))]):t._e(),t._v(" "),t.isOpen.character?i("character-info",{ref:"characterInfo"}):t._e()],1)])])}),[],!1,null,"0f077f74",null).exports),ni=Ee({name:"EditorModalMenu",props:["options"],data:function(){return{selectedOption:{value:""}}},methods:{selectOption:function(t){this.selectedOption=t,this.$parent.editorType=this.selectedOption,this.$parent.$refs.itemOptions.getItems(t.value)},cancelCommand:function(){return"close"},selectCommand:function(){this.selectOption(this.selectedOption)},leftCommand:function(){this.move("left"),this.selectCommand()},rightCommand:function(){this.move("right"),this.selectCommand()},move:function(t){var e=this;this.selectedOption=Ne.navigateOptions(t,this.options,this.selectedOption,"menu");var i=this.options.find((function(t){return t.id==e.selectedOption.id})).navigationIndex;document.getElementById("menu"+i).scrollIntoView(),this.$parent.updateHelpText(this.selectedOption)}},mounted:function(){this.selectOption(this.options[0]),this.$parent.updateHelpText(this.selectedOption)}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.options,(function(e){return i("img",{key:"mainmenu"+e.value,staticClass:"is-game-modal-button",class:t.selectedOption.value==e.value?"active-menu-item":"",style:"width: 12.4vmin; height: 12.4vmin;"+(t.selectedOption.value==e.value?"opacity:1;":""),attrs:{id:"menu"+e.navigationIndex,src:"/img/game/menus/"+e.img},on:{click:function(i){return t.selectOption(e)}}})})),0)}),[],!1,null,null,null).exports,ri={name:"EditorModalItems",components:{"item-box":De},data:function(){return{items:[],selectedItem:{},lastEditorType:null}},methods:{selectItem:function(t){this.selectedItem=t,this.$parent.$parent.editorIsMinimised=!0},getItems:function(t){this.items=[];var e="";switch(null==t&&null!=this.lastEditorType&&(t=this.lastEditorType),t){case"Block":e="block";break;case"Side":return void(e="side");case"Top":e="topper";break;case"Object":e="object";break;default:return}this.lastEditorType=t,W.a.get("/tile?type="+e).then(this.setItems).catch(a.raiseError)},setItems:function(t){var e=this;this.items=t.data;for(var i=0;i<this.items.length;i++)this.items[i].navigationIndex=i;var n=this.items.find((function(t){return t.id==e.selectedItem.id}));this.selectedItem=null==n?this.items[0]:n,null==this.selectedItem&&(this.selectedItem={}),this.$parent.showSpinner=!1},selectCommand:function(){this.selectItem(this.selectedItem)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this;if(this.items.length){this.selectedItem=Ne.navigateOptions(t,this.items,this.selectedItem,"item");var i=this.items.find((function(t){return t.id==e.selectedItem.id})).navigationIndex;document.getElementById("item"+i).scrollIntoView()}}}},si=(i("xOCI"),{components:{"editor-menu":ni,"editor-items":Ee(ri,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-wrapper"},t._l(t.items,(function(e){return i("div",{key:"item"+e.navigationIndex,staticClass:"item-box is-spritesheet-preview",class:t.selectedItem.id==e.id&&t.selectedItem.is_structure==e.is_structure?"active-item active-menu-item-small":"inactive-item",style:"width: 8.2vmin; height: 8.2vmin; background-image: url("+(null==e.file_name?"/"+e.spritesheet:e.file_name)+");"+(e.is_structure?"background-size: 500%":""),attrs:{id:"item"+e.navigationIndex},on:{click:function(i){return t.selectItem(e)}}},[null!=e.amount&&e.amount>0?i("span",{staticClass:"tag is-dark is-rounded is-amount-counter"},[t._v(t._s(e.amount))]):t._e()])})),0)}),[],!1,null,"461aa763",null).exports},data:function(){return{showSpinner:!1,mainMenu:[],editorType:{value:""},extraSubMenu:[],helpText:{title:"",text:""}}},methods:{closeModal:function(){this.$parent.$data.editModalOpen=!1,this.$parent.$data.inspectOpen=!0},press:function(t){switch(t){case"up":return void this.$refs.itemOptions.upCommand();case"left":return void this.$refs.itemOptions.leftCommand();case"down":return void this.$refs.itemOptions.downCommand();case"right":return void this.$refs.itemOptions.rightCommand();case"anticlockwise":this.$refs.mainMenu.leftCommand();break;case"clockwise":this.$refs.mainMenu.rightCommand();break;case"accept":if(this.showSpinner)return;return this.$parent.editorIsMinimised=!0,"editMode";case"cancel":return this.closeModal(),"close";default:return}},setupMainMenu:function(){this.mainMenu=Ne.setupEditorMenu()},updateHelpText:function(t){null!=t&&null!=t.helpText&&null!=t.helpText.text&&(this.helpText.title=t.helpText.title,this.helpText.text=t.helpText.text)}},mounted:function(){this.setupMainMenu()}}),oi=(i("QgWe"),Ee(si,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"section is-paddingless is-marginless",attrs:{id:"editor-modal"}},[i("div",{staticClass:"container is-paddingless is-marginless",attrs:{id:"editor-head"}},[i("div",{staticClass:"column is-marginless",staticStyle:{"max-height":"3em",padding:"0 1rem"}},[i("h1",{staticClass:"has-text-success has-text-weight-bold"},[t._v("\n                "+t._s(t.helpText.title)+"\n            ")]),t._v(" "),i("p",{staticClass:"has-text-weight-bold has-text-white"},[t._v("\n                "+t._s(t.helpText.text)+"\n            ")])]),t._v(" "),i("div",{staticClass:"column is-paddingless is-marginless"},[t.mainMenu.length>0?i("editor-menu",{ref:"mainMenu",attrs:{options:t.mainMenu}}):t._e()],1)]),t._v(" "),i("div",{staticClass:"container is-paddingless is-marginless",attrs:{id:"editor-body"}},[i("div",{staticClass:"is-paddingless is-marginless"},[t.mainMenu.length?i("editor-items",{ref:"itemOptions"}):t._e()],1)])])}),[],!1,null,"22278544",null).exports),ai={props:["equippedArchetype","basicPossible","isHoveringPlayer","playerState","isDreamland","canWash","canWalk","canSleep","canInteract","canExamineFloor"],data:function(){return{menuIdentifier:"actionOption",options:Ne.setupActionMenu(this.equippedArchetype,this.basicPossible,this.isHoveringPlayer,this.playerState,this.isDreamland,this.canWash,this.canWalk,this.canSleep,this.canInteract,this.canExamineFloor),selectedOption:{},centerPoint:0,closeTimer:120,startTime:120}},methods:{selectOption:function(t){this.selectedOption=t,this.$parent.lastAction=this.selectedOption,"DoAction"===this.selectedOption.value&&(this.$parent.$data.doAction=!0),"Interact"===this.selectedOption.value&&(this.$parent.$data.doInteract=!0),"Craft"===this.selectedOption.value&&(this.$parent.$data.doSimpleCraft=!0),"Forage"===this.selectedOption.value&&(this.$parent.$data.doSimpleForage=!0),"Move"===this.selectedOption.value&&(this.$parent.$data.doMovement=!0),"Sleep"===this.selectedOption.value&&(this.$parent.$data.doSleep=!0),"Wake Up"===this.selectedOption.value&&(this.$parent.$data.doWakeUp=!0),"Wash"===this.selectedOption.value&&(this.$parent.$data.doWash=!0),"StopWash"===this.selectedOption.value&&(this.$parent.$data.doStopWash=!0),"StopWash"===this.selectedOption.value&&(this.$parent.$data.doStopWash=!0),"ExamineFloor"===this.selectedOption.value&&(this.$parent.$data.doExamineFloor=!0),this.closeModal()},closeModal:function(){this.$parent.$data.actionOpen=!1},press:function(t){switch(t){case"up":return void this.upCommand();case"left":return void this.leftCommand();case"down":return void this.downCommand();case"right":return void this.rightCommand();case"accept":return void this.selectCommand();case"cancel":var e=this.cancelCommand();return"close"==e&&this.closeModal(),e;default:return}},cancelCommand:function(){return"close"},selectCommand:function(){this.selectOption(this.selectedOption)},upCommand:function(){this.closeModal()},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.closeModal()},move:function(t){switch(t){case"right":var e=this.options.shift();this.options.push(e),this.options=Ne.setIndexes(this.options),this.selectedOption=this.options[this.centerPoint];break;case"left":var i=this.options.pop();this.options.unshift(i),this.options=Ne.setIndexes(this.options),this.selectedOption=this.options[this.centerPoint]}this.closeTimer=this.startTime}},mounted:function(){var t=this;if(this.options.length>0){if(this.centerPoint=Math.floor(this.options.length/2),this.selectedOption=this.options[this.centerPoint],void 0!==this.options.find((function(t){return"Move"===t.value})))for(;"Move"!==this.selectedOption.value;)this.leftCommand();if(this.$parent.lastAction!={}&&"ExamineFloor"!=this.$parent.lastAction.value){var e=this.options.find((function(e){return e.value==t.$parent.lastAction.value}));if(null==e)this.$parent.lastAction=this.selectedOption;else for(;this.selectedOption.value!=e.value;)this.move("left")}}else this.closeModal()}},hi=(i("WK0e"),Ee(ai,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"section is-paddingless is-marginless",attrs:{id:"action-modal"}},[i("transition-group",{staticClass:"action-container",attrs:{name:"action-list"}},t._l(t.options,(function(e){return i("img",{key:t.menuIdentifier+e.value,staticClass:"is-game-modal-button is-action-option",class:t.selectedOption.value==e.value?"action-option-selected":"",style:"width: 9vmin; height: 9vmin;"+(t.selectedOption.value==e.value?"background-image: url(/img/game/menus/box_active.png);opacity:1;":"background-image: url(/img/game/menus/box_1.png);"),attrs:{id:t.menuIdentifier+e.navigationIndex,src:e.isEquipment?e.img:"/img/game/menus/"+e.img},on:{click:function(i){return t.selectOption(e)}}})})),0)],1)}),[],!1,null,"77e361b6",null).exports),ui={name:"SlotsOverviewModal",data:function(){return{menuIdentifier:"slotsOverview",slots:[],isLoading:!1}},methods:{getSlotInfo:function(){var t=this;this.isLoading=!0,W.a.get("/kinds").then((function(e){t.slots=e.data,t.isLoading=!1})).catch(a.raiseError)}},mounted:function(){this.getSlotInfo()}},li=(i("uaCV"),Ee(ui,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"section is-paddingless is-marginless",attrs:{id:"equipment-overview-modal"}},[i("div",{staticClass:"container is-paddingless is-marginless",attrs:{id:"equipment-overview-head"}},[t.isLoading?i("div",{staticClass:"button is-loading is-spinner",staticStyle:{position:"absolute",height:"100%",width:"100%","background-color":"#000000",border:"none","z-index":"2"}},[t._v("Loading")]):t._e(),t._v(" "),t._l(t.slots,(function(e){return i("img",{key:t.menuIdentifier+e.id,staticClass:"is-game-modal-button is-slot-image",attrs:{src:"/"+e.file_name}})}))],2)])}),[],!1,null,"7d772ccd",null).exports),ci={name:"StatsOverviewModal",props:[],data:function(){return{stats:{},modifiers:{},isLoading:!1,minutePercent:0,firstLoad:!0}},methods:{tick:function(){void 0!==this.$parent.$refs.statsOverview&&(this.minutePercent+=.02778,this.minutePercent>100&&(this.minutePercent=100),requestAnimationFrame(this.tick))},getStats:function(){var t=this;W.a.get("/stats").then((function(e){t.stats=e.data})).catch(a.raiseError)},getModifiers:function(){var t=this;W.a.get("/modifiers").then((function(e){t.modifiers=e.data,t.minutePercent=t.firstLoad?(new Date).getTime()/1e3%60*1.667:0,t.firstLoad=!1})).catch(a.raiseError)},addStyling:function(t){return t<0?'<span class="has-text-negative">'.concat(t,"</span>"):'<span class="has-text-positive">+'.concat(t,"</span>")}},computed:{getHealthStyle:function(){var t=.75*this.modifiers.health;return"width: ".concat(t,"%")},getStressStyle:function(){var t=.75*this.modifiers.stress;return"width: ".concat(t,"%")},sumHealthMods:function(){var t=0;return t+=this.modifiers.bleed,t+=this.modifiers.hunger,t+=this.modifiers.thirst,t+=this.modifiers.hygiene,t+=this.modifiers.medicine,t+=this.modifiers.infection,t+=this.modifiers.temperature,(t+=this.modifiers.constitution)<0?"(".concat(t,")"):"(+".concat(t,")")},sumStressMods:function(){var t=0;return t+=this.modifiers.pain,t+=this.modifiers.rest,t+=this.modifiers.comfort,t+=this.modifiers.beauty,t+=this.modifiers.joy,t+=this.modifiers.bravery,t+=this.modifiers.self_control,(t+=this.modifiers.social)<0?"(".concat(t,")"):"(+".concat(t,")")}},mounted:function(){this.getModifiers(),requestAnimationFrame(this.tick)}},di=(i("cGnb"),Ee(ci,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"section is-paddingless is-marginless",attrs:{id:"equipment-overview-modal"}},[i("progress",{staticClass:"progress is-warning is-marginless",attrs:{max:"100"},domProps:{value:t.minutePercent}},[t._v(t._s(t.minutePercent))]),t._v(" "),i("div",{staticClass:"container is-paddingless is-marginless",attrs:{id:"equipment-overview-head"}},[t.isLoading?i("div",{staticClass:"button is-loading is-spinner",staticStyle:{position:"absolute",height:"100%",width:"100%","background-color":"#000000",border:"none","z-index":"2"}},[t._v("Loading")]):t._e(),t._v(" "),i("div",{staticClass:"tile is-ancestor is-paddingless is-marginless"},[null!=t.modifiers.health?i("div",{staticClass:"tile is-vertical is-6"},[i("div",{staticClass:"tile is-parent is-modifier-stat"},[i("article",{staticClass:"tile is-child"},[i("span",{staticClass:"is-modifier-progress",staticStyle:{"background-color":"#FBEE01"},style:t.getHealthStyle}),t._v(" "),i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/health_fixed.png"}}),t._v(" "),i("div",[i("span",{staticClass:"is-modifier-text is-health",staticStyle:{right:"calc(50% - 4.5vmin)"},attrs:{"data-content":t.modifiers.health}}),t._v(" "),i("span",{staticClass:"is-modifier-text is-health is-smaller",attrs:{"data-content":t.sumHealthMods}})])])]),t._v(" "),i("div",{staticClass:"tile"},[i("div",{staticClass:"tile is-parent is-vertical is-modifier-stat"},[i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/bleed_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.bleed))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/hunger_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.hunger))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/thirst_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.thirst))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/hygiene_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.hygiene))}})])])]),t._v(" "),i("div",{staticClass:"tile is-parent is-vertical is-modifier-stat"},[i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/medicine_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.medicine))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/infection_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.infection))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/temperature_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.temperature))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/constitution_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.constitution))}})])])])])]):t._e(),t._v(" "),null!=t.modifiers.stress?i("div",{staticClass:"tile is-vertical is-6"},[i("div",{staticClass:"tile is-parent is-modifier-stat"},[i("article",{staticClass:"tile is-child"},[i("span",{staticClass:"is-modifier-progress",staticStyle:{"background-color":"#5EFA01"},style:t.getStressStyle}),t._v(" "),i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/stress_fixed.png"}}),t._v(" "),i("div",[i("span",{staticClass:"is-modifier-text is-stress",staticStyle:{right:"calc(50% - 4.5vmin)"},attrs:{"data-content":t.modifiers.stress}}),t._v(" "),i("span",{staticClass:"is-modifier-text is-stress is-smaller",attrs:{"data-content":t.sumStressMods}})])])]),t._v(" "),i("div",{staticClass:"tile"},[i("div",{staticClass:"tile is-parent is-vertical is-modifier-stat"},[i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/pain_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.pain))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/rest_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.rest))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/comfort_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.comfort))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/beauty_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.beauty))}})])])]),t._v(" "),i("div",{staticClass:"tile is-parent is-vertical is-modifier-stat"},[i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/joy_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.joy))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/bravery_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.bravery))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/self_control_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.self_control))}})])]),t._v(" "),i("article",{staticClass:"tile is-child is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/social_fixed.png"}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{domProps:{innerHTML:t._s(t.addStyling(t.modifiers.social))}})])])])])]):t._e()])])])}),[],!1,null,"5163d419",null).exports),pi={props:["craftingOptions","refiningOptions","location","isSimple","craftingStation"],components:{"item-box":De},data:function(){return{helpText:{title:"",text:""},allOptions:[],archetypes:[],refinables:[],craftables:[],selectedOption:{},designs:[],selectedDesign:{},categories:[],selectedCategory:{},materials:[],selectedMaterial:{},isOpen:{designs:!1,categories:!1,materials:!1},craftButtonSelected:!1,allCategoriesFilled:!1,modeSelected:!1,selectedMode:{},modes:[{value:"all",img:"/img/game/crafting/tabs/all_fixed.png",navigationIndex:0},{value:"crafting",img:"/img/game/crafting/tabs/craft_fixed.png",navigationIndex:1},{value:"refining",img:"/img/game/crafting/tabs/refine_fixed.png",navigationIndex:2},{value:"favorites",img:"/img/game/crafting/tabs/favorites_fixed.png",navigationIndex:3}]}},methods:{closeModal:function(){this.isSimple&&(this.$parent.inspectOpen=!0),this.$parent.craftingOpen=!1},upCommand:function(){this.processNavigation("up")},downCommand:function(){this.processNavigation("down")},leftCommand:function(){this.processNavigation("left")},rightCommand:function(){this.processNavigation("right")},selectCommand:function(){return this.isOpen.materials?(this.selectedCategory.selectedMaterial=this.selectedMaterial,void this.cancelCommand()):this.isOpen.categories?this.craftButtonSelected?void this.processCraft():void this.getMaterials():void(this.isOpen.designs||this.selectedOption.isCrafting&&"App\\Material"==this.selectedOption.editor_type?this.getCategories():"App\\Item"!=this.selectedOption.editor_type?this.selectedOption.isCrafting?this.getDesigns():alert("Refining not yet implemented"):this.getCategories())},cancelCommand:function(){return this.isOpen.materials?(this.checkCategoriesFulfilled(),this.isOpen.materials=!1,this.selectedMaterial={},void(this.materials=[])):this.isOpen.categories?(this.isOpen.categories=!1,this.selectedCategory={},this.categories=[],void(null==this.selectedDesign.id&&(this.modeSelected=!1))):this.isOpen.designs?(this.isOpen.designs=!1,this.selectedDesign={},this.designs=[],void(this.modeSelected=!1)):"close"},processCraftCommand:function(){this.allCategoriesFilled&&(this.craftButtonSelected=!0,this.selectCommand())},processNavigation:function(t){if(!this.modeSelected&&("clockwise"==t||"anticlockwise"==t))return"clockwise"==t&&(t="right"),"anticlockwise"==t&&(t="left"),this.selectedMode=Ne.navigateOptions(t,this.modes,this.selectedMode,"mode_"),void this.changeTabs();if(this.isOpen.materials)this.selectedMaterial=Ne.navigateOptions(t,this.materials,this.selectedMaterial,"material_");else{if(!this.craftButtonSelected)return this.isOpen.categories?"up"==t&&this.selectedCategory.navigationIndex<3&&this.allCategoriesFilled?(this.craftButtonSelected=!0,void(this.selectedCategory={})):void(this.selectedCategory=Ne.navigateOptions(t,this.categories,this.selectedCategory,"category_")):void(this.isOpen.designs?this.selectedDesign=Ne.navigateOptions(t,this.designs,this.selectedDesign,"design_"):this.selectedOption=Ne.navigateOptions(t,this.allOptions,this.selectedOption,"option_"));"down"==t&&(this.craftButtonSelected=!1,this.selectedCategory=this.categories[0])}},press:function(t){switch(t){case"up":this.upCommand();break;case"left":this.leftCommand();break;case"down":this.downCommand();break;case"right":this.rightCommand();break;case"anticlockwise":case"clockwise":if(this.modeSelected)return;this.processNavigation(t);break;case"accept":if(this.showSpinner)break;this.selectCommand();break;case"cancel":var e=this.cancelCommand();return this.updateHelpText(),"close"==e&&this.closeModal(),e;default:return}this.updateHelpText()},changeTabs:function(){var t=this;switch(this.selectedMode.value){case"all":case"favorites":this.allOptions=JSON.parse(JSON.stringify(this.archetypes)),this.craftables.forEach((function(e){t.allOptions.push(e)})),this.refinables.forEach((function(e){t.allOptions.push(e)}));break;case"crafting":this.allOptions=JSON.parse(JSON.stringify(this.archetypes)),this.craftables.forEach((function(e){t.allOptions.push(e)}));break;case"refining":this.allOptions=[],this.refinables.forEach((function(e){t.allOptions.push(e)}))}Ne.setIndexes(this.allOptions),this.selectedOption=this.allOptions[0]},checkCategoriesFulfilled:function(){var t=!0;this.categories.forEach((function(e){e.is_required&&null==e.selectedMaterial&&(t=!1)})),this.allCategoriesFilled=t,this.craftButtonSelected&&!this.allCategoriesFilled&&(this.craftButtonSelected=!1)},updateHelpText:function(){return this.isOpen.materials?(this.helpText.title="Pick Ingredient",void(this.helpText.text=this.selectedMaterial.name)):this.isOpen.categories?this.craftButtonSelected?(this.helpText.title="Craft ".concat(this.selectedOption.name),void(this.helpText.text="...")):(this.helpText.title="Pick Category",void(this.helpText.text=this.selectedCategory.name)):this.isOpen.designs?(this.helpText.title="Pick Design",void(this.helpText.text="...")):void 0},getRefinables:function(){var t=this;W.a.get("/archetype/".concat(this.craftingStation.id,"/refining")).then((function(e){0!=e.data.length?(t.allOptions=JSON.parse(JSON.stringify(t.archetypes)),t.craftables=JSON.parse(JSON.stringify(e.data.filter((function(t){return 1==t.craftable})))),t.refinables=JSON.parse(JSON.stringify(e.data.filter((function(t){return 1==t.refinable})))),t.craftables.forEach((function(e){e.isCrafting=!0,t.allOptions.push(e)})),t.refinables.forEach((function(e){e.isRefining=!0,t.allOptions.push(e)})),Ne.setIndexes(t.allOptions)):t.changeTabs()})).catch(a.raiseError)},getHandCraftables:function(){var t=this;W.a.get("/hand_craftable").then((function(e){0!=e.data.length?(t.allOptions=JSON.parse(JSON.stringify(t.archetypes)),t.craftables=JSON.parse(JSON.stringify(e.data)),t.craftables.forEach((function(e){e.isCrafting=!0,t.allOptions.push(e)})),Ne.setIndexes(t.allOptions)):t.changeTabs()})).catch(a.raiseError)},getDesigns:function(){var t=this;W.a.get("/archetype/".concat(this.selectedOption.id,"/design")).then((function(e){if(0==e.data.length){var i=t.archetypes.find((function(e){return e.id==t.selectedOption.id}));if(null==i)return;return i.noDesigns=!0,void t.changeTabs()}t.designs=e.data;var n=0;t.designs.forEach((function(t){t.navigationIndex=n,n++})),t.selectedDesign=t.designs[0],t.isOpen.designs=!0,t.modeSelected=!0,t.updateHelpText()})).catch(a.raiseError)},getCategories:function(){var t=this,e="";switch(this.selectedOption.editor_type){case"App\\Equipment":e="equipment";break;case"App\\Structure":e="structure";break;case"App\\Material":e="material";break;case"App\\Item":return void this.getItemCategory();default:return}W.a.get("/categories?type=".concat(e)).then((function(i){if(0!=i.data.length){t.categories=i.data;var n=0;t.categories.forEach((function(t){t.navigationIndex=n,n++})),t.selectedCategory=t.categories[0],t.isOpen.categories=!0,t.updateHelpText(),t.checkCategoriesFulfilled(),"material"==e&&(t.modeSelected=!0)}})).catch(a.raiseError)},getItemCategory:function(){var t=this,e=this.selectedOption.category_id;null!=e&&W.a.get("/categories/".concat(e)).then((function(e){var i=[e.data];if(0!=i.length){t.categories=i;var n=0;t.categories.forEach((function(t){t.navigationIndex=n,n++})),t.selectedCategory=t.categories[0],t.isOpen.categories=!0,t.updateHelpText(),t.checkCategoriesFulfilled(),t.modeSelected=!0}})).catch(a.raiseError)},getMaterials:function(){var t=this,e="";switch(this.selectedOption.editor_type){case"App\\Equipment":e="equipment";break;case"App\\Structure":e="structures";break;case"App\\Material":return void this.getMaterialMaterials();case"App\\Item":return void this.getItemMaterials();default:return}var i=this.categories.find((function(e){return e.id==t.selectedCategory.id}));W.a.get("/".concat(e,"/").concat(this.selectedDesign.id,"/materials/").concat(i.id)).then((function(e){if(i.noMaterials=!1,i.lowMaterials=!1,0==e.data.length)return i.noMaterials=!0,void t.$forceUpdate();if(t.materials=e.data,t.categories.forEach((function(e){if(null!=e.selectedMaterial&&e.id!==i.id){var n=t.materials.find((function(t){return t.id==e.selectedMaterial.id}));void 0!==n&&(n.amount-=t.selectedDesign.materials_required)}})),t.materials=t.materials.filter((function(e){return e.amount>=t.selectedDesign.materials_required})),t.materials.length<1)return i.lowMaterials=!0,void t.$forceUpdate();var n=0;t.materials.forEach((function(t){t.navigationIndex=n,n++})),t.selectedMaterial=t.materials[0],t.isOpen.materials=!0,t.updateHelpText()})).catch(a.raiseError)},getMaterialMaterials:function(){var t=this,e=this.categories.find((function(e){return e.id==t.selectedCategory.id}));W.a.get("/materials/".concat(this.selectedOption.id,"/materials/").concat(e.id)).then((function(i){if(e.noMaterials=!1,e.lowMaterials=!1,0==i.data.length)return e.noMaterials=!0,void t.$forceUpdate();if(t.materials=i.data,t.categories.forEach((function(i){if(null!=i.selectedMaterial&&i.id!==e.id){var n=t.materials.find((function(t){return t.id==i.selectedMaterial.id}));void 0!==n&&(n.amount-=t.selectedOption.materials_required)}})),t.materials=t.materials.filter((function(e){return e.amount>=t.selectedOption.materials_required})),t.materials.length<1)return e.lowMaterials=!0,void t.$forceUpdate();var n=0;t.materials.forEach((function(t){t.navigationIndex=n,n++})),t.selectedMaterial=t.materials[0],t.isOpen.materials=!0,t.updateHelpText()})).catch(a.raiseError)},getItemMaterials:function(){var t=this,e=this.categories.find((function(e){return e.id==t.selectedCategory.id}));W.a.get("/items/".concat(this.selectedOption.id,"/materials/").concat(e.id)).then((function(i){if(e.noMaterials=!1,e.lowMaterials=!1,0==i.data.length)return e.noMaterials=!0,void t.$forceUpdate();if(t.materials=i.data,t.categories.forEach((function(i){if(null!=i.selectedMaterial&&i.id!==e.id){var n=t.materials.find((function(t){return t.id==i.selectedMaterial.id}));void 0!==n&&(n.amount-=t.selectedOption.materials_required)}})),t.materials=t.materials.filter((function(e){return e.amount>=t.selectedOption.materials_required})),t.materials.length<1)return e.lowMaterials=!0,void t.$forceUpdate();var n=0;t.materials.forEach((function(t){t.navigationIndex=n,n++})),t.selectedMaterial=t.materials[0],t.isOpen.materials=!0,t.updateHelpText()})).catch(a.raiseError)},processCraft:function(){if(this.isSimple)this.simpleCraft();else{if(null==this.selectedDesign.id)return"App\\Material"==this.selectedOption.editor_type&&this.craftMaterial(),void("App\\Item"==this.selectedOption.editor_type&&this.craftItem());if(this.allCategoriesFilled){var t=[];this.categories.forEach((function(e){null!=e.selectedMaterial&&t.push({id:e.id,material_id:e.selectedMaterial.id})})),W.a.post("/craft",{design_id:this.selectedDesign.id,categories:t,location:this.location}).then(this.resetCraftScreen).catch(a.raiseError)}}},simpleMaterialCraft:function(){if(this.allCategoriesFilled){var t=[];this.categories.forEach((function(e){null!=e.selectedMaterial&&t.push({id:e.id,material_id:e.selectedMaterial.id})})),W.a.post("/craft/material/basic",{material_id:this.selectedOption.id,categories:t}).then(this.resetCraftScreen).catch(a.raiseError)}},simpleItemCraft:function(){if(this.allCategoriesFilled){var t=[];this.categories.forEach((function(e){null!=e.selectedMaterial&&t.push({id:e.id,material_id:e.selectedMaterial.id})})),W.a.post("/craft/item/basic",{item_id:this.selectedOption.id,categories:t}).then(this.resetCraftScreen).catch(a.raiseError)}},simpleCraft:function(){if(null==this.selectedDesign.id)return"App\\Material"==this.selectedOption.editor_type&&this.simpleMaterialCraft(),void("App\\Item"==this.selectedOption.editor_type&&this.simpleItemCraft());if(this.allCategoriesFilled){var t=[];this.categories.forEach((function(e){null!=e.selectedMaterial&&t.push({id:e.id,material_id:e.selectedMaterial.id})})),W.a.post("/craft/basic",{design_id:this.selectedDesign.id,categories:t}).then(this.resetCraftScreen).catch(a.raiseError)}},craftMaterial:function(){if(this.allCategoriesFilled){var t=[];this.categories.forEach((function(e){null!=e.selectedMaterial&&t.push({id:e.id,material_id:e.selectedMaterial.id})})),W.a.post("/craft/material",{material_id:this.selectedOption.id,categories:t,location:this.location}).then(this.resetCraftScreen).catch(a.raiseError)}},craftItem:function(){if(this.allCategoriesFilled){var t=[];this.categories.forEach((function(e){null!=e.selectedMaterial&&t.push({id:e.id,material_id:e.selectedMaterial.id})})),W.a.post("/craft/item",{item_id:this.selectedOption.id,categories:t,location:this.location}).then(this.resetCraftScreen).catch(a.raiseError)}},resetCraftScreen:function(t){this.getCategories(),this.$parent.itemWasCrafted=!0,void 0!==t.data.id&&this.$parent.addCraftDrop(t.data)}},mounted:function(){this.archetypes=this.craftingOptions,null==this.archetypes&&this.closeModal(),this.archetypes.forEach((function(t){t.isArchetype=!0,t.isCrafting=!0}));var t=0;this.archetypes.forEach((function(e){e.navigationIndex=t,t++})),this.selectedOption=this.archetypes[0],this.updateHelpText(),this.selectedMode=this.modes[0],this.isSimple?this.getHandCraftables():this.getRefinables()}},fi=(i("2HMg"),Ee(pi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"section is-paddingless is-marginless",attrs:{id:"crafting-modal"}},[t.modeSelected?t._e():i("div",[i("div",{staticClass:"crafting-options-wrapper"},t._l(t.modes,(function(e){return i("img",{key:"mode_"+e.value,staticClass:"crafting-option is-tab-option",class:{"active-menu-item":t.selectedMode.value==e.value},attrs:{id:"mode_"+e.navigationIndex,src:e.img},on:{click:function(i){t.selectedMode=e,t.selectCommand()}}})})),0),t._v(" "),i("div",{staticClass:"crafting-options-wrapper"},t._l(t.allOptions,(function(e){return i("div",{key:"option_"+e.navigationIndex,staticClass:"crafting-option is-small",class:{"active-menu-item":e.navigationIndex==t.selectedOption.navigationIndex,"has-crafting-background":e.isCrafting,"has-refining-background":e.isRefining},attrs:{id:"option_"+e.navigationIndex},on:{click:function(i){t.selectedOption=e,t.selectCommand()}}},["App\\Item"!=e.editor_type?i("img",{staticClass:"inner-image",attrs:{src:1==e.noDesigns?"/img/game/crafting/no_design.png":e.file_name}}):i("item-box",{staticClass:"clickable inner-image",attrs:{item:e,color:null==e.category.color?{hex:"#fff"}:{hex:e.category.color.hex},preview:!1,avi:e.is_avi}})],1)})),0),t._v(" "),null!=t.selectedOption?i("div",{staticClass:"crafting-option active-menu-item",class:{"has-crafting-background":t.selectedOption.isCrafting,"has-refining-background":t.selectedOption.isRefining},staticStyle:{position:"absolute",top:"13vmin",left:"-16vmin"}},["App\\Item"!=t.selectedOption.editor_type?i("img",{staticClass:"inner-image",attrs:{src:t.selectedOption.file_name}}):i("item-box",{staticClass:"clickable inner-image",attrs:{item:t.selectedOption,color:null==t.selectedOption.category.color?{hex:"#fff"}:{hex:t.selectedOption.category.color.hex},preview:!1,avi:t.selectedOption.is_avi}})],1):t._e()]),t._v(" "),t.modeSelected?i("div",[i("div",{staticClass:"column is-marginless",staticStyle:{padding:"0 1rem"}},[i("h1",{staticClass:"has-text-success has-text-weight-bold"},[t._v("\n                "+t._s(t.helpText.title)+"\n            ")]),t._v(" "),i("p",{staticClass:"has-text-weight-bold has-text-white"},[t._v("\n                "+t._s(t.helpText.text)+"\n            ")])]),t._v(" "),t.isOpen.designs?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isOpen.categories,expression:"!isOpen.categories"}],staticClass:"crafting-options-wrapper"},t._l(t.designs,(function(e){return i("div",{key:"design_"+e.id,staticClass:"crafting-option has-red-background",class:{"active-menu-item":e.id==t.selectedDesign.id},attrs:{id:"design_"+e.navigationIndex},on:{click:function(i){t.selectedDesign=e,t.selectCommand()}}},[i("img",{staticClass:"inner-image",class:{"is-player-sprite":"App\\Structure"==t.selectedOption.editor_type},attrs:{src:e.file_name}})])})),0):t._e(),t._v(" "),t.isOpen.categories?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isOpen.materials,expression:"!isOpen.materials"}],staticClass:"crafting-options-wrapper"},[i("div",{staticClass:"crafting-option has-red-background is-opaque"},[i("img",{staticClass:"inner-image",class:{"is-player-sprite":"App\\Structure"==t.selectedOption.editor_type},attrs:{src:null==t.selectedDesign.id?t.selectedOption.file_name:t.selectedDesign.file_name}})]),t._v(" "),i("div",{staticClass:"crafting-option has-blue-background",class:{"active-menu-item":t.craftButtonSelected},on:{click:function(e){return t.processCraftCommand()}}},[i("img",{staticClass:"inner-image",attrs:{alt:"Craft",src:"/img/game/menus/build_fixed.png"}})])]):t._e(),t._v(" "),t.isOpen.categories?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isOpen.materials,expression:"!isOpen.materials"}],staticClass:"crafting-options-wrapper",class:{"is-reverse-ordered":t.categories.length<2}},t._l(t.categories,(function(e){return i("div",{key:"category_"+e.id,staticClass:"crafting-option",class:{"active-menu-item":e.id==t.selectedCategory.id,"has-yellow-background":e.is_required,"has-green-background":1!=e.is_required},attrs:{id:"category_"+e.navigationIndex},on:{click:function(i){t.selectedCategory=e,t.selectCommand()}}},[e.noMaterials||e.lowMaterials?t._e():i("img",{staticClass:"inner-image",attrs:{src:null==e.selectedMaterial?e.craft_file_name:e.selectedMaterial.file_name}}),t._v(" "),e.noMaterials||e.lowMaterials?i("img",{staticClass:"inner-image",attrs:{src:e.noMaterials?"/img/game/crafting/no_material.png":"/img/game/crafting/low_material.png"}}):t._e(),t._v(" "),null!=e.selectedMaterial?i("span",{staticClass:"tag is-dark is-rounded is-amount-counter",staticStyle:{bottom:"2vmin",right:"2vmin"}},[t._v(t._s(null!=t.selectedDesign.id?t.selectedDesign.materials_required:t.selectedOption.materials_required))]):t._e()])})),0):t._e(),t._v(" "),t.isOpen.materials?i("div",{staticClass:"crafting-options-wrapper"},t._l(t.materials,(function(e){return i("div",{key:"material_"+e.id,staticClass:"crafting-option is-small has-blue-background",class:{"active-menu-item":e.id==t.selectedMaterial.id},attrs:{id:"material_"+e.navigationIndex},on:{click:function(i){t.selectedMaterial=e,t.selectCommand()}}},[i("img",{staticClass:"inner-image",attrs:{src:e.file_name}}),t._v(" "),null!=e.amount&&e.amount>0?i("span",{staticClass:"tag is-dark is-rounded is-amount-counter"},[t._v(t._s(e.amount))]):t._e(),t._v(" "),i("div",{staticClass:"name-box clickable inner-image",staticStyle:{position:"absolute",bottom:"0"}},[t._v(t._s(e.name))])])})),0):t._e()]):t._e()])}),[],!1,null,"12041f52",null).exports),gi={props:[],data:function(){return{modifiers:{},negativeHealthModifiers:{},negativeStressModifiers:{},isShowing:"health",changedAt:0,minutePercent:0,healthModifiers:["bleed","hunger","thirst","hygiene","medicine","infection","temperature","constitution"],stressModifiers:["pain","rest","comfort","beauty","joy","bravery","self_control","social"],modifierImages:{bleed:"/img/game/modifiers/bleed_fixed.png",hunger:"/img/game/modifiers/hunger_fixed.png",thirst:"/img/game/modifiers/thirst_fixed.png",hygiene:"/img/game/modifiers/hygiene_fixed.png",medicine:"/img/game/modifiers/medicine_fixed.png",infection:"/img/game/modifiers/infection_fixed.png",temperature:"/img/game/modifiers/temperature_fixed.png",constitution:"/img/game/modifiers/constitution_fixed.png",pain:"/img/game/modifiers/pain_fixed.png",rest:"/img/game/modifiers/rest_fixed.png",comfort:"/img/game/modifiers/comfort_fixed.png",beauty:"/img/game/modifiers/beauty_fixed.png",joy:"/img/game/modifiers/joy_fixed.png",bravery:"/img/game/modifiers/bravery_fixed.png",self_control:"/img/game/modifiers/self_control_fixed.png",social:"/img/game/modifiers/social_fixed.png"}}},methods:{getModifiers:function(){var t=this;axios.get("/modifiers").then((function(e){for(var i in t.modifiers=e.data,t.negativeHealthModifiers={},t.negativeStressModifiers={},e.data)e.data[i]<0&&t.isHealthModifier(i)&&(t.negativeHealthModifiers[i]=e.data[i]),e.data[i]<0&&t.isStressModifier(i)&&(t.negativeStressModifiers[i]=e.data[i]),t.minutePercent=(new Date).getSeconds()/60*100}))},isHealthModifier:function(t){return this.healthModifiers.includes(t)},isStressModifier:function(t){return this.stressModifiers.includes(t)},calculateMinutePercent:function(){var t=(new Date).getSeconds()/60*100+(new Date).getMilliseconds()/1e3;this.minutePercent=Math.round(100*t)/100},tick:function(){if(void 0!==this.$parent.$refs.negativeModifiers&&(window.requestAnimationFrame(this.tick),this.minutePercent<99&&this.calculateMinutePercent(),!((new Date).getSeconds()%3>0))){var t=Math.abs(this.changedAt-(new Date).getSeconds());this.canChange=t>2,this.canChange&&(this.changedAt=(new Date).getSeconds(),this.isShowing="health"===this.isShowing?"stress":"health")}}},computed:{getHealthStyle:function(){var t=.75*this.modifiers.health;return"width: ".concat(t,"%")},getStressStyle:function(){var t=.75*this.modifiers.stress;return"width: ".concat(t,"%")},sumHealthMods:function(){var t=0;return t+=this.modifiers.bleed,t+=this.modifiers.hunger,t+=this.modifiers.thirst,t+=this.modifiers.hygiene,t+=this.modifiers.medicine,t+=this.modifiers.infection,t+=this.modifiers.temperature,(t+=this.modifiers.constitution)<0?"(".concat(t,")"):"(+".concat(t,")")},sumStressMods:function(){var t=0;return t+=this.modifiers.pain,t+=this.modifiers.rest,t+=this.modifiers.comfort,t+=this.modifiers.beauty,t+=this.modifiers.joy,t+=this.modifiers.bravery,t+=this.modifiers.self_control,(t+=this.modifiers.social)<0?"(".concat(t,")"):"(+".concat(t,")")}},mounted:function(){var t=this;this.getModifiers(),this.$nextTick((function(){window.requestAnimationFrame(t.tick)}))}},mi=(i("fWtX"),Ee(gi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"negative-modifiers-container"},[i("progress",{staticClass:"progress is-warning is-marginless is-timer",attrs:{max:"100"},domProps:{value:t.minutePercent}},[t._v(t._s(t.minutePercent))]),t._v(" "),i("transition",{attrs:{name:"fade"}},["health"===t.isShowing?i("div",{staticClass:"has-modifiers"},[i("div",[i("span",{staticClass:"is-modifier-progress"}),t._v(" "),i("span",{staticClass:"is-modifier-progress",staticStyle:{"background-color":"#FBEE01"},style:t.getHealthStyle}),t._v(" "),i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/health_fixed.png"}}),t._v(" "),i("div",[i("span",{staticClass:"is-modifier-text is-health",attrs:{"data-content":t.modifiers.health}}),t._v(" "),i("span",{staticClass:"is-modifier-text is-health is-smaller",attrs:{"data-content":t.sumHealthMods}})])]),t._v(" "),t._l(t.negativeHealthModifiers,(function(e,n){return i("div",{key:"modifier_"+n,staticClass:"is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:t.modifierImages[n]}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{staticClass:"has-text-negative"},[t._v(t._s(e))])])])}))],2):t._e()]),t._v(" "),i("transition",{attrs:{name:"fade"}},["stress"===t.isShowing?i("div",{staticClass:"has-modifiers"},[i("div",[i("span",{staticClass:"is-modifier-progress"}),t._v(" "),i("span",{staticClass:"is-modifier-progress",staticStyle:{"background-color":"#5EFA01"},style:t.getStressStyle}),t._v(" "),i("img",{staticClass:"is-modifier-img",attrs:{src:"/img/game/modifiers/stress_fixed.png"}}),t._v(" "),i("div",[i("span",{staticClass:"is-modifier-text is-stress",attrs:{"data-content":t.modifiers.stress}}),t._v(" "),i("span",{staticClass:"is-modifier-text is-stress is-smaller",attrs:{"data-content":t.sumStressMods}})])]),t._v(" "),t._l(t.negativeStressModifiers,(function(e,n){return i("div",{key:"modifier_"+n,staticClass:"is-modifier-stat"},[i("img",{staticClass:"is-modifier-img",attrs:{src:t.modifierImages[n]}}),t._v(" "),i("p",{staticClass:"is-modifier-text"},[i("span",{staticClass:"has-text-negative"},[t._v(t._s(e))])])])}))],2):t._e()])],1)}),[],!1,null,"32b2dd72",null).exports),vi=i("wp0G"),yi=i("qoEl"),_i=i("0/xZ"),bi=i("SrKC"),xi=i("sKAn"),wi=function(t){this.renderer=t,this._foundShapes=[]};function Si(t){var e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");return i.fillStyle=t,i.fillRect(0,0,6,1),e}function Ti(){if("undefined"==typeof document)return!1;var t=Si("#ff00ff"),e=Si("#ffff00"),i=document.createElement("canvas");i.width=6,i.height=1;var n=i.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(t,0,0),n.drawImage(e,2,0);var r=n.getImageData(2,0,1,1);if(!r)return!1;var s=r.data;return 255===s[0]&&0===s[1]&&0===s[2]}wi.prototype.pushMask=function(t){var e=this.renderer,i=t.isMaskData?t.maskObject:t;e.context.save();var n=this._foundShapes;if(this.recursiveFindShapes(i,n),n.length>0){var r=e.context,s=e.resolution;r.beginPath();for(var o=0;o<n.length;o++){var a=n[o],h=a.transform.worldTransform;this.renderer.context.setTransform(h.a*s,h.b*s,h.c*s,h.d*s,h.tx*s,h.ty*s),this.renderGraphicsShape(a)}n.length=0,r.clip()}},wi.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var i=t.children;if(i)for(var n=0;n<i.length;n++)this.recursiveFindShapes(i[n],e)},wi.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,i=t.geometry.graphicsData,n=i.length;if(0!==n)for(var r=0;r<n;r++){var s=i[r],o=s.shape;if(s.type===_i.l.POLY){var a=o.points;e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(s.type===_i.l.RECT)e.rect(o.x,o.y,o.width,o.height),e.closePath();else if(s.type===_i.l.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath();else if(s.type===_i.l.ELIP){var u=2*o.width,l=2*o.height,c=o.x-u/2,d=o.y-l/2,p=u/2*.5522848,f=l/2*.5522848,g=c+u,m=d+l,v=c+u/2,y=d+l/2;e.moveTo(c,y),e.bezierCurveTo(c,y-f,v-p,d,v,d),e.bezierCurveTo(v+p,d,g,y-f,g,y),e.bezierCurveTo(g,y+f,v+p,m,v,m),e.bezierCurveTo(v-p,m,c,y+f,c,y),e.closePath()}else if(s.type===_i.l.RREC){var _=o.x,b=o.y,x=o.width,w=o.height,S=o.radius,T=Math.min(x,w)/2|0;S=S>T?T:S,e.moveTo(_,b+S),e.lineTo(_,b+w-S),e.quadraticCurveTo(_,b+w,_+S,b+w),e.lineTo(_+x-S,b+w),e.quadraticCurveTo(_+x,b+w,_+x,b+w-S),e.lineTo(_+x,b+S),e.quadraticCurveTo(_+x,b,_+x-S,b),e.lineTo(_+S,b),e.quadraticCurveTo(_,b,_,b+S),e.closePath()}}},wi.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},wi.prototype.destroy=function(){};var ki=function(t){function e(i,n,r){var s;t.call(this,"Canvas",i,n,r),this.type=bi.j.CANVAS,this.rootContext=this.view.getContext("2d",{alpha:this.transparent}),this.context=this.rootContext,this.refresh=!0,this.maskManager=new wi(this),this.smoothProperty="imageSmoothingEnabled",this.rootContext.imageSmoothingEnabled||(this.rootContext.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.rootContext.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.rootContext.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.rootContext.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(e.__plugins),this.blendModes=(void 0===s&&(s=[]),Ti()?(s[bi.b.NORMAL]="source-over",s[bi.b.ADD]="lighter",s[bi.b.MULTIPLY]="multiply",s[bi.b.SCREEN]="screen",s[bi.b.OVERLAY]="overlay",s[bi.b.DARKEN]="darken",s[bi.b.LIGHTEN]="lighten",s[bi.b.COLOR_DODGE]="color-dodge",s[bi.b.COLOR_BURN]="color-burn",s[bi.b.HARD_LIGHT]="hard-light",s[bi.b.SOFT_LIGHT]="soft-light",s[bi.b.DIFFERENCE]="difference",s[bi.b.EXCLUSION]="exclusion",s[bi.b.HUE]="hue",s[bi.b.SATURATION]="saturate",s[bi.b.COLOR]="color",s[bi.b.LUMINOSITY]="luminosity"):(s[bi.b.NORMAL]="source-over",s[bi.b.ADD]="lighter",s[bi.b.MULTIPLY]="source-over",s[bi.b.SCREEN]="source-over",s[bi.b.OVERLAY]="source-over",s[bi.b.DARKEN]="source-over",s[bi.b.LIGHTEN]="source-over",s[bi.b.COLOR_DODGE]="source-over",s[bi.b.COLOR_BURN]="source-over",s[bi.b.HARD_LIGHT]="source-over",s[bi.b.SOFT_LIGHT]="source-over",s[bi.b.DIFFERENCE]="source-over",s[bi.b.EXCLUSION]="source-over",s[bi.b.HUE]="source-over",s[bi.b.SATURATION]="source-over",s[bi.b.COLOR]="source-over",s[bi.b.LUMINOSITY]="source-over"),s[bi.b.NORMAL_NPM]=s[bi.b.NORMAL],s[bi.b.ADD_NPM]=s[bi.b.ADD],s[bi.b.SCREEN_NPM]=s[bi.b.SCREEN],s[bi.b.SRC_IN]="source-in",s[bi.b.SRC_OUT]="source-out",s[bi.b.SRC_ATOP]="source-atop",s[bi.b.DST_OVER]="destination-over",s[bi.b.DST_IN]="destination-in",s[bi.b.DST_OUT]="destination-out",s[bi.b.DST_ATOP]="destination-atop",s[bi.b.XOR]="xor",s[bi.b.SUBTRACT]="source-over",s),this._activeBlendMode=null,this._outerBlend=!1,this.renderingToScreen=!1,Object(yi.sayHello)("Canvas"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t,e,i,n,r){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new yi.CanvasRenderTarget(e.width,e.height,e.resolution),e.resource=new vi.N.CanvasResource(e._canvasRenderTarget.canvas),e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var o=this.context;if(e||(this._lastObjectRendered=t),!r){var a=t.parent,h=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copyTo(h),t.transform._parentID=-1):h.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a,n&&(t.transform._parentID=-1)}o.save(),o.setTransform(1,0,0,1,0,0),o.globalAlpha=1,this._activeBlendMode=bi.b.NORMAL,this._outerBlend=!1,o.globalCompositeOperation=this.blendModes[bi.b.NORMAL],(void 0!==i?i:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?o.clearRect(0,0,this.width,this.height):(o.fillStyle=this._backgroundColorString,o.fillRect(0,0,this.width,this.height)));var u=this.context;this.context=o,t.renderCanvas(this),this.context=u,o.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t,e){var i=t===bi.b.SRC_IN||t===bi.b.SRC_OUT||t===bi.b.DST_IN||t===bi.b.DST_ATOP;!e&&i&&(t=bi.b.NORMAL),this._activeBlendMode!==t&&(this._activeBlendMode=t,this._outerBlend=i,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=xi.b.SCALE_MODE===bi.k.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(vi.b),Ci={getTintedCanvas:function(t,e){var i=t.texture,n="#"+("00000"+(0|(e=Ci.roundColor(e))).toString(16)).substr(-6);i.tintCache=i.tintCache||{};var r,s=i.tintCache[n];if(s){if(s.tintId===i._updateID)return i.tintCache[n];r=i.tintCache[n]}else r=Ci.canvas||document.createElement("canvas");if(Ci.tintMethod(i,e,r),r.tintId=i._updateID,Ci.convertTintToImage){var o=new Image;o.src=r.toDataURL(),i.tintCache[n]=o}else i.tintCache[n]=r,Ci.canvas=null;return r},tintWithMultiply:function(t,e,i){var n=i.getContext("2d"),r=t._frame.clone(),s=t.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="multiply";var o=t.baseTexture.getDrawableSource();n.drawImage(o,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(o,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.restore()},tintWithOverlay:function(t,e,i){var n=i.getContext("2d"),r=t._frame.clone(),s=t.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.restore()},tintWithPerPixel:function(t,e,i){var n=i.getContext("2d"),r=t._frame.clone(),s=t.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.restore();for(var o=Object(yi.hex2rgb)(e),a=o[0],h=o[1],u=o[2],l=n.getImageData(0,0,r.width,r.height),c=l.data,d=0;d<c.length;d+=4)c[d+0]*=a,c[d+1]*=h,c[d+2]*=u;n.putImageData(l,0,0)},roundColor:function(t){var e=Ci.cacheStepsPerColorChannel,i=Object(yi.hex2rgb)(t);return i[0]=Math.min(255,i[0]/e*e),i[1]=Math.min(255,i[1]/e*e),i[2]=Math.min(255,i[2]/e*e),Object(yi.rgb2hex)(i)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:Ti(),tintMethod:function(){}};Ci.tintMethod=Ci.canUseMultiply?Ci.tintWithMultiply:Ci.tintWithPerPixel;var Ei=vi.z.create;vi.z.create=function(t){if(!(t&&t.forceCanvas))try{return Ei(t)}catch(t){}return new ki(t)},vi.e.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:this.source};var Oi=i("VmXM"),Ii=i("wg2Q"),Pi=function(t){this.renderer=t};Pi.prototype.render=function(t){var e=this.renderer,i=e.context,n=t.worldTransform,r=e.resolution;t.roundPixels?i.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):i.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode!==bi.c.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},Pi.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,i=0;i<e-2;i++){var n=2*i;this._renderDrawTriangle(t,n,n+2,n+4)}},Pi.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,i=e.length,n=0;n<i;n+=3){var r=2*e[n],s=2*e[n+1],o=2*e[n+2];this._renderDrawTriangle(t,r,s,o)}},Pi.prototype._renderDrawTriangle=function(t,e,i,n){var r=this.renderer.context,s=t.geometry.buffers[0].data,o=t.uvs,a=t.texture;if(a.valid){var h=a.baseTexture,u=h.getDrawableSource(),l=h.width,c=h.height,d=o[e]*h.width,p=o[i]*h.width,f=o[n]*h.width,g=o[e+1]*h.height,m=o[i+1]*h.height,v=o[n+1]*h.height,y=s[e],_=s[i],b=s[n],x=s[e+1],w=s[i+1],S=s[n+1],T=t.canvasPadding/this.renderer.resolution;if(T>0){var k=T/Math.abs(t.worldTransform.a),C=T/Math.abs(t.worldTransform.d),E=(y+_+b)/3,O=(x+w+S)/3,I=y-E,P=x-O,M=Math.sqrt(I*I+P*P);y=E+I/M*(M+k),x=O+P/M*(M+C),P=w-O,_=E+(I=_-E)/(M=Math.sqrt(I*I+P*P))*(M+k),w=O+P/M*(M+C),P=S-O,b=E+(I=b-E)/(M=Math.sqrt(I*I+P*P))*(M+k),S=O+P/M*(M+C)}r.save(),r.beginPath(),r.moveTo(y,x),r.lineTo(_,w),r.lineTo(b,S),r.closePath(),r.clip();var A=d*m+g*f+p*v-m*f-g*p-d*v,R=y*m+g*b+_*v-m*b-g*_-y*v,D=d*_+y*f+p*b-_*f-y*p-d*b,L=d*m*b+g*_*f+y*p*v-y*m*f-g*p*b-d*_*v,F=x*m+g*S+w*v-m*S-g*w-x*v,N=d*w+x*f+p*S-w*f-x*p-d*S,B=d*m*S+g*w*f+x*p*v-x*m*f-g*p*S-d*w*v;r.transform(R/A,F/A,D/A,N/A,L/A,B/A),r.drawImage(u,0,0,l*h.resolution,c*h.resolution,0,0,l,c),r.restore(),this.renderer.invalidateBlendMode()}},Pi.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.geometry.getBuffer("aVertexPosition").data,n=i.length/2;e.beginPath();for(var r=1;r<n-2;++r){var s=2*r,o=i[s],a=i[s+1],h=i[s+2],u=i[s+3],l=i[s+4],c=i[s+5];e.moveTo(o,a),e.lineTo(h,u),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},Pi.prototype.destroy=function(){this.renderer=null},xi.b.MESH_CANVAS_PADDING=0,Oi.d.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},Ii.a.prototype._cachedTint=16777215,Ii.a.prototype._tintedCanvas=null,Ii.a.prototype._canvasUvs=null,Ii.a.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,n=t.resolution,r=16777215!==this.tint,s=this.texture;r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=Ci.getTintedCanvas(this,this.tint));var o=r?this._tintedCanvas:s.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,h=this._canvasUvs,u=r?0:s.frame.x,l=r?0:s.frame.y,c=u+s.frame.width,d=l+s.frame.height;h[0]=u,h[1]=u+this._leftWidth,h[2]=c-this._rightWidth,h[3]=c,h[4]=l,h[5]=l+this._topHeight,h[6]=d-this._bottomHeight,h[7]=d;for(var p=0;p<8;p++)h[p]*=s.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.roundPixels?e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n|0,i.ty*n|0):e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n);for(var f=0;f<3;f++)for(var g=0;g<3;g++){var m=2*g+8*f,v=Math.max(1,h[g+1]-h[g]),y=Math.max(1,h[f+5]-h[f+4]),_=Math.max(1,a[m+10]-a[m]),b=Math.max(1,a[m+11]-a[m+1]);e.drawImage(o,h[g],h[f+4],v,y,a[m],a[m+1],_,b)}},Oi.a.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas(t,this)},Oi.a.prototype._canvasPadding=null,Object.defineProperty(Oi.a.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:xi.b.MESH_CANVAS_PADDING},set:function(t){this._canvasPadding=t}}),Ii.d.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},Ii.f.prototype._renderCanvas=function(t){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};var Mi,Ai=i("Z6+S"),Ri=function(t){this.renderer=t};Ri.prototype.render=function(t){var e=this.renderer,i=e.context,n=t.worldAlpha,r=t.transform.worldTransform,s=e.resolution;i.setTransform(r.a*s,r.b*s,r.c*s,r.d*s,r.tx*s,r.ty*s),t.canvasTintDirty===t.geometry.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var o=t.geometry.graphicsData,a=0;a<o.length;a++){var h=o[a],u=h.shape,l=h.fillStyle,c=h.lineStyle,d=h._fillTint,p=h._lineTint;if(i.lineWidth=c.width,h.type===_i.l.POLY){i.beginPath();var f=u.points,g=h.holes,m=void 0,v=void 0,y=void 0,_=void 0;i.moveTo(f[0],f[1]);for(var b=2;b<f.length;b+=2)i.lineTo(f[b],f[b+1]);if(u.closeStroke&&i.closePath(),g.length>0){m=0,y=f[0],_=f[1];for(var x=2;x+2<f.length;x+=2)m+=(f[x]-y)*(f[x+3]-_)-(f[x+2]-y)*(f[x+1]-_);for(var w=0;w<g.length;w++)if(f=g[w].shape.points){v=0,y=f[0],_=f[1];for(var S=2;S+2<f.length;S+=2)v+=(f[S]-y)*(f[S+3]-_)-(f[S+2]-y)*(f[S+1]-_);if(v*m<0){i.moveTo(f[0],f[1]);for(var T=2;T<f.length;T+=2)i.lineTo(f[T],f[T+1])}else{i.moveTo(f[f.length-2],f[f.length-1]);for(var k=f.length-4;k>=0;k-=2)i.lineTo(f[k],f[k+1])}g[w].shape.closeStroke&&i.closePath()}}l.visible&&(i.globalAlpha=l.alpha*n,i.fillStyle="#"+("00000"+(0|d).toString(16)).substr(-6),i.fill()),c.visible&&(i.globalAlpha=c.alpha*n,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.stroke())}else if(h.type===_i.l.RECT)l.visible&&(i.globalAlpha=l.alpha*n,i.fillStyle="#"+("00000"+(0|d).toString(16)).substr(-6),i.fillRect(u.x,u.y,u.width,u.height)),c.visible&&(i.globalAlpha=c.alpha*n,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.strokeRect(u.x,u.y,u.width,u.height));else if(h.type===_i.l.CIRC)i.beginPath(),i.arc(u.x,u.y,u.radius,0,2*Math.PI),i.closePath(),l.visible&&(i.globalAlpha=l.alpha*n,i.fillStyle="#"+("00000"+(0|d).toString(16)).substr(-6),i.fill()),c.visible&&(i.globalAlpha=c.alpha*n,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.stroke());else if(h.type===_i.l.ELIP){var C=2*u.width,E=2*u.height,O=u.x-C/2,I=u.y-E/2;i.beginPath();var P=C/2*.5522848,M=E/2*.5522848,A=O+C,R=I+E,D=O+C/2,L=I+E/2;i.moveTo(O,L),i.bezierCurveTo(O,L-M,D-P,I,D,I),i.bezierCurveTo(D+P,I,A,L-M,A,L),i.bezierCurveTo(A,L+M,D+P,R,D,R),i.bezierCurveTo(D-P,R,O,L+M,O,L),i.closePath(),l.visible&&(i.globalAlpha=l.alpha*n,i.fillStyle="#"+("00000"+(0|d).toString(16)).substr(-6),i.fill()),c.visible&&(i.globalAlpha=c.alpha*n,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.stroke())}else if(h.type===_i.l.RREC){var F=u.x,N=u.y,B=u.width,U=u.height,j=u.radius,z=Math.min(B,U)/2|0;j=j>z?z:j,i.beginPath(),i.moveTo(F,N+j),i.lineTo(F,N+U-j),i.quadraticCurveTo(F,N+U,F+j,N+U),i.lineTo(F+B-j,N+U),i.quadraticCurveTo(F+B,N+U,F+B,N+U-j),i.lineTo(F+B,N+j),i.quadraticCurveTo(F+B,N,F+B-j,N),i.lineTo(F+j,N),i.quadraticCurveTo(F,N,F,N+j),i.closePath(),l.visible&&(i.globalAlpha=l.alpha*n,i.fillStyle="#"+("00000"+(0|d).toString(16)).substr(-6),i.fill()),c.visible&&(i.globalAlpha=c.alpha*n,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.stroke())}}},Ri.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.geometry.dirty;for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,n=(255&t.tint)/255,r=t.geometry.graphicsData,s=0;s<r.length;++s){var o=r[s],a=0|o.fillStyle.color,h=0|o.lineStyle.color;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*n*255,o._lineTint=((h>>16&255)/255*e*255<<16)+((h>>8&255)/255*i*255<<8)+(255&h)/255*n*255}},Ri.prototype.destroy=function(){this.renderer=null};var Di=new _i.d;Ai.c.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var i=this.getLocalBounds(),n=vi.x.create(i.width,i.height,t,e);Mi||(Mi=new ki),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(Di),Di.invert(),Di.tx-=i.x,Di.ty-=i.y,Mi.render(this,n,!0,Di);var r=vi.E.from(n.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return r.baseTexture.resolution=e,r.baseTexture.update(),r},Ai.c.prototype.cachedGraphicsData=[],Ai.c.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};var Li=i("fqrp"),Fi=new _i.d,Ni=function(t){this.renderer=t};Ni.prototype.render=function(t){var e=t._texture,i=this.renderer,n=i.context,r=e._frame.width,s=e._frame.height,o=t.transform.worldTransform,a=0,h=0,u=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&u&&e.valid){i.setBlendMode(t.blendMode,!0),i.context.globalAlpha=t.worldAlpha;var l=e.baseTexture.scaleMode===bi.k.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==l&&(n[i.smoothProperty]=l),e.trim?(a=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,h=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(a=(.5-t.anchor.x)*e.orig.width,h=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copyTo(Fi),o=Fi,_i.n.matrixAppendRotationInv(o,e.rotate,a,h),a=0,h=0),a-=r/2,h-=s/2,t.roundPixels?(i.context.setTransform(o.a,o.b,o.c,o.d,o.tx*i.resolution|0,o.ty*i.resolution|0),a|=0,h|=0):i.context.setTransform(o.a,o.b,o.c,o.d,o.tx*i.resolution,o.ty*i.resolution);var c=e.baseTexture.resolution,d=i._outerBlend;d&&(n.save(),n.beginPath(),n.rect(a*i.resolution,h*i.resolution,r*i.resolution,s*i.resolution),n.clip()),16777215!==t.tint?(t._cachedTint===t.tint&&t._tintedCanvas.tintId===t._texture._updateID||(t._cachedTint=t.tint,t._tintedCanvas=Ci.getTintedCanvas(t,t.tint)),n.drawImage(t._tintedCanvas,0,0,Math.floor(r*c),Math.floor(s*c),Math.floor(a*i.resolution),Math.floor(h*i.resolution),Math.floor(r*i.resolution),Math.floor(s*i.resolution))):n.drawImage(u,e._frame.x*c,e._frame.y*c,Math.floor(r*c),Math.floor(s*c),Math.floor(a*i.resolution),Math.floor(h*i.resolution),Math.floor(r*i.resolution),Math.floor(s*i.resolution)),d&&n.restore(),i.setBlendMode(bi.b.NORMAL)}},Ni.prototype.destroy=function(){this.renderer=null},Li.a.prototype._tintedCanvas=null,Li.a.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};var Bi=new _i.j,Ui=function(t){this.renderer=t,t.extract=this};Ui.prototype.image=function(t,e,i){var n=new Image;return n.src=this.base64(t,e,i),n},Ui.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},Ui.prototype.canvas=function(t){var e,i,n,r,s=this.renderer;t&&(r=t instanceof vi.x?t:s.generateTexture(t)),r?(e=r.baseTexture._canvasRenderTarget.context,i=r.baseTexture._canvasRenderTarget.resolution,n=r.frame):(e=s.rootContext,i=s.resolution,(n=Bi).width=this.renderer.width,n.height=this.renderer.height);var o=Math.floor(n.width*i+1e-4),a=Math.floor(n.height*i+1e-4),h=new yi.CanvasRenderTarget(o,a,1),u=e.getImageData(n.x*i,n.y*i,o,a);return h.context.putImageData(u,0,0),h.canvas},Ui.prototype.pixels=function(t){var e,i,n,r,s=this.renderer;return t&&(r=t instanceof vi.x?t:s.generateTexture(t)),r?(e=r.baseTexture._canvasRenderTarget.context,i=r.baseTexture._canvasRenderTarget.resolution,n=r.frame):(e=s.rootContext,(n=Bi).width=s.width,n.height=s.height),e.getImageData(0,0,n.width*i,n.height*i).data},Ui.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};var ji=i("jxzM"),zi=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this,this.canvas=document.createElement("canvas"),this.canvas.width=16,this.canvas.height=16,this.ctx=this.canvas.getContext("2d"),this.registerUploadHook(Xi)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(ji.a);function Xi(t,e){if(e instanceof vi.e){var i=e.source,n=0===i.width?t.canvas.width:Math.min(t.canvas.width,i.width),r=0===i.height?t.canvas.height:Math.min(t.canvas.height,i.height);return t.ctx.drawImage(i,0,0,n,r,0,0,t.canvas.width,t.canvas.height),!0}return!1}i("QJtt").a.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var i=t.context,n=this.worldTransform,r=t.resolution,s=e.baseTexture,o=s.getDrawableSource(),a=s.resolution,h=this.tilePosition.x/this.tileScale.x%e._frame.width*a,u=this.tilePosition.y/this.tileScale.y%e._frame.height*a;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new yi.CanvasRenderTarget(e._frame.width,e._frame.height,a);16777215!==this.tint?(this._tintedCanvas=Ci.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)):l.context.drawImage(o,-e._frame.x*a,-e._frame.y*a),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,i.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),t.setBlendMode(this.blendMode),i.fillStyle=this._canvasPattern,i.scale(this.tileScale.x/a,this.tileScale.y/a);var c=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(i.translate(h,u),i.fillRect(-h+c,-u+d,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(i.translate(h+c,u+d),i.fillRect(-h,-u,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},i("D0C/").a.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,n=!0,r=0,s=0,o=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var h=0;h<this.children.length;++h){var u=this.children[h];if(u.visible){var l=u._texture.frame;if(e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0)n&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx*t.resolution,i.ty*t.resolution),n=!1),r=u.anchor.x*(-l.width*u.scale.x)+u.position.x+.5,s=u.anchor.y*(-l.height*u.scale.y)+u.position.y+.5,o=l.width*u.scale.x,a=l.height*u.scale.y;else{n||(n=!0),u.displayObjectUpdateTransform();var c=u.worldTransform;this.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),r=u.anchor.x*-l.width+.5,s=u.anchor.y*-l.height+.5,o=l.width,a=l.height}var d=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.getDrawableSource(),l.x*d,l.y*d,l.width*d,l.height*d,r*t.resolution,s*t.resolution,o*t.resolution,a*t.resolution)}}}};var Hi=i("msCR");Hi.b.prototype._renderCanvas=function(t){},Hi.b.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},Hi.c.prototype.renderCanvas=function(t){},i("G12T").b.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Li.a.prototype._renderCanvas.call(this,t)},ki.registerPlugin("accessibility",h.accessibility.AccessibilityManager),ki.registerPlugin("extract",Ui),ki.registerPlugin("graphics",Ri),ki.registerPlugin("interaction",h.interaction.InteractionManager),ki.registerPlugin("mesh",Pi),ki.registerPlugin("prepare",zi),ki.registerPlugin("sprite",Ni);var Yi={props:["item","label"],components:{},data:function(){return{identifier:"spriteCanvasPreview_".concat(this.label,"_").concat(this.item.id,"_").concat(this.item.navigationIndex),textureIdentifier:""}},methods:{handleResize:function(){var t=document.getElementById(this.identifier);this.canvas.renderer.resize(t.offsetWidth,t.offsetWidth),this.sprite.width=t.offsetWidth,this.sprite.height=t.offsetWidth},loadSprite:function(){var t=document.getElementById(this.identifier),e=new h.Texture(h.utils.TextureCache[this.textureIdentifier],new h.Rectangle(0,0,128,140)),i=new h.Sprite(e);i.width=t.offsetWidth,i.height=t.offsetWidth,this.canvas.stage.addChild(i),this.sprite=i,window.addEventListener("resize",this.handleResize)}},mounted:function(){if(null!=this.item.spritesheet&&(this.item.file_name=this.item.spritesheet),null!=this.item.file_name){var t=document.getElementById(this.identifier);if(null==this.canvas)if(h.utils.skipHello(),this.canvas=new h.Application({width:t.offsetWidth,height:t.offsetWidth,antialias:!0,transparent:!0,resolution:1,forceCanvas:!0}),t.appendChild(this.canvas.view),this.canvas.renderer.autoResize=!0,this.canvas.renderer.resize(t.offsetWidth,t.offsetWidth),this.item.is_tile&&(this.textureIdentifier="tile"+this.item.id),this.item.is_item&&(this.textureIdentifier="item"+this.item.id),this.item.is_structure&&(this.textureIdentifier="structure"+this.item.id),""==this.textureIdentifier&&(this.textureIdentifier=this.identifier),null==h.utils.TextureCache[this.textureIdentifier])(new h.Loader).add(this.textureIdentifier,this.item.file_name).load(this.loadSprite);else this.loadSprite()}},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize),null!=this.canvas&&this.canvas.destroy()}},qi=(i("HstN"),Ee(Yi,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"spritesheet-preview",attrs:{id:this.identifier}})}),[],!1,null,"89d79ec2",null).exports),Wi={props:["item","label"],components:{},data:function(){return{identifier:"layeredSpriteCanvasPreview_".concat(this.label,"_").concat(this.item.id,"_").concat(this.item.navigationIndex),textureIdentifier:"itemlayer"}},methods:{handleResize:function(){var t=document.getElementById(this.identifier);this.canvas.renderer.resize(t.offsetWidth,t.offsetWidth),this.sprites.forEach((function(e){e.width=t.offsetWidth,e.height=t.offsetWidth}))},loadSprites:function(){var t=this,e=document.getElementById(this.identifier);this.sprites=[],this.item.layers.forEach((function(i){var n=new h.Texture(h.utils.TextureCache[i.identifier],new h.Rectangle(0,0,200,200)),r=new h.Sprite(n);if(r.width=e.offsetWidth,r.height=e.offsetWidth,i.colorable){var s=t.item.category.color.hex;r.tint="0x"+s.substring(1)}t.canvas.stage.addChild(r),t.sprites.push(r)})),window.addEventListener("resize",this.handleResize)}},mounted:function(){var t=this;if(!(null==this.item.layers||this.item.layers.length<1)){var e=document.getElementById(this.identifier);if(null==this.canvas){h.utils.skipHello(),this.canvas=new h.Application({width:e.offsetWidth,height:e.offsetWidth,antialias:!0,transparent:!0,resolution:1,forceCanvas:!0}),e.appendChild(this.canvas.view),this.canvas.renderer.autoResize=!0,this.canvas.renderer.resize(e.offsetWidth,e.offsetWidth);var i=!1,n=new h.Loader;this.item.layers.forEach((function(e){e.identifier=t.textureIdentifier+e.id,null==h.utils.TextureCache[e.identifier]&&(i=!0,n.add(e.identifier,e.file_name))})),i?n.load(this.loadSprites):this.loadSprites()}}},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize),null!=this.canvas&&this.canvas.destroy()}},Vi=(i("h+G0"),{props:["cellID","structureID"],components:{"sprite-preview":qi,"layered-sprite-preview":Ee(Wi,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"spritesheet-preview",attrs:{id:this.identifier}})}),[],!1,null,"d25fa8d6",null).exports},data:function(){return{showSpinner:!1,amountToSwap:1,storageID:0,storageType:"",storageBanner:"",storageContents:[],inventoryContents:[],selectedItem:{},inStorage:!1}},methods:{closeModal:function(){this.$parent.$data.menuSound="close",this.$parent.$data.storageOpen=!1},press:function(t){switch(t){case"up":return void this.upCommand();case"left":return void this.leftCommand();case"down":return void this.downCommand();case"right":return void this.rightCommand();case"accept":if(this.showSpinner)return;return this.amountToSwap=1,void this.selectCommand();case"cancel":var e=this.cancelCommand();return"close"==e&&this.closeModal(),e;case"menu":return void(this.inventoryContents.length>0&&this.inStorage&&(this.toggleMenuSelection(!1),this.selectedItem=this.inventoryContents[0]));case"other":return void(this.storageContents.length>0&&!this.inStorage&&(this.toggleMenuSelection(!0),this.selectedItem=this.storageContents[0]));case"clockwise":if(this.showSpinner)return;return this.amountToSwap=this.selectedItem.amount,void this.selectCommand();case"anticlockwise":if(this.showSpinner)return;return this.amountToSwap=Math.floor(this.selectedItem.amount/2),void this.selectCommand();default:return}},updateHelpText:function(t){},getStorage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];W.a.get("/store/".concat(this.storageType,"/").concat(this.storageID)).then((function(i){t.storageContents=Ne.setIndexes(i.data),e?t.getInventory():t.processSelectedItem()})).catch(a.raiseError)},getInventory:function(){var t=this;W.a.get("/inventory").then((function(e){t.inventoryContents=Ne.setIndexes(e.data),t.processSelectedItem()})).catch(a.raiseError)},sendToInventory:function(){var t=this,e={amount:this.amountToSwap};this.selectedItem.is_material&&(e.material_id=this.selectedItem.id),this.selectedItem.is_tile&&(e.tile_id=this.selectedItem.id),this.selectedItem.is_structure&&(e.structure_id=this.selectedItem.id),this.selectedItem.is_item&&(e.item_id=this.selectedItem.id),W.a.post("/store/".concat(this.storageType,"/").concat(this.storageID,"/take"),e).then((function(e){if(null!=e.data.transferred){t.selectedItem.amount-=e.data.transferred,t.selectedItem.amount<1&&t.getStorage();var i=t.getSelectedItemFromInventory();null!=i?i.amount+=e.data.transferred:t.getInventory(!1)}}))},sendToStorage:function(){var t=this,e={amount:this.amountToSwap};this.selectedItem.is_material&&(e.material_id=this.selectedItem.id),this.selectedItem.is_tile&&(e.tile_id=this.selectedItem.id),this.selectedItem.is_structure&&(e.structure_id=this.selectedItem.id),this.selectedItem.is_item&&(e.item_id=this.selectedItem.id),W.a.post("/store/".concat(this.storageType,"/").concat(this.storageID,"/place"),e).then((function(e){if(null!=e.data.transferred){t.selectedItem.amount-=e.data.transferred,t.selectedItem.amount<1&&t.getInventory();var i=t.getSelectedItemFromStorage();null!=i?i.amount+=e.data.transferred:t.getStorage(!1)}}))},getSelectedItemFromInventory:function(){var t=this;return this.inventoryContents.find((function(e){return e.id==t.selectedItem.id&&e.is_material==t.selectedItem.is_material&&e.is_tile==t.selectedItem.is_tile&&e.is_structure==t.selectedItem.is_structure&&e.is_item==t.selectedItem.is_item}))},getSelectedItemFromStorage:function(){var t=this;return this.storageContents.find((function(e){return e.id==t.selectedItem.id&&e.is_material==t.selectedItem.is_material&&e.is_tile==t.selectedItem.is_tile&&e.is_structure==t.selectedItem.is_structure&&e.is_item==t.selectedItem.is_item}))},processSelectedItem:function(){var t=this;if(this.selectedItem!={}){if(this.inStorage&&null!=this.storageContents.find((function(e){return e.id==t.selectedItem.id})))return;if(!this.inStorage&&null!=this.inventoryContents.find((function(e){return e.id==t.selectedItem.id})))return;if(this.inStorage){var e=this.storageContents.find((function(e){return e.navigationIndex==t.selectedItem.navigationIndex-1}));if(void 0!==e)return void(this.selectedItem=e)}if(!this.inStorage){var i=this.inventoryContents.find((function(e){return e.navigationIndex==t.selectedItem.navigationIndex-1}));if(void 0!==i)return void(this.selectedItem=i)}}this.inventoryContents.length>0&&!this.inStorage?this.selectedItem=this.inventoryContents[0]:this.storageContents.length>0&&this.inStorage?this.selectedItem=this.storageContents[0]:this.inventoryContents.length>0?(this.selectedItem=this.inventoryContents[0],this.inStorage=!1):this.storageContents.length>0&&(this.selectedItem=this.storageContents[0],this.inStorage=!0)},toggleMenuSelection:function(t){this.inStorage=t},selectItem:function(t){if(!this.showSpinner)return t.id==this.selectedItem.id&&t.navigationIndex==this.selectedItem.navigationIndex?this.inStorage?void this.sendToInventory():void this.sendToStorage():void(this.selectedItem=t)},cancelCommand:function(){this.closeModal()},selectCommand:function(){this.selectItem(this.selectedItem)},upCommand:function(){this.move("up")},leftCommand:function(){this.move("left")},rightCommand:function(){this.move("right")},downCommand:function(){this.move("down")},move:function(t){var e=this,i=this.inStorage?this.storageContents:this.inventoryContents,n=this.inStorage?"storageItem":"inventoryItem";if(!(this.inStorage&&this.storageContents.length<2)&&(this.inStorage||!(this.inventoryContents.length<2))){this.selectedItem=Ne.navigateOptions(t,i,this.selectedItem,n);var r=i.find((function(t){return t.id==e.selectedItem.id})).navigationIndex;document.getElementById(n+r).scrollIntoView()}}},mounted:function(){null!=this.cellID&&(this.storageID=this.cellID,this.storageType="cell",this.storageBanner="/img/game/storage/inventory_ground.jpg"),null!=this.structureID&&(this.storageID=this.structureID,this.storageType="structure",this.storageBanner="/img/game/storage/inventory_storage.jpg"),0!=this.storageID?this.getStorage(!0):this.closeModal()}}),Gi=(i("bIaz"),{name:"GameCanvas",components:{"chat-message":Oe,"game-controls":Ae,"inspect-modal":ii,"map-edit-modal":oi,"action-modal":hi,"material-drop":Pe,"slots-overview":li,"stats-overview":di,"crafting-modal":fi,"negative-modifiers":mi,"storage-modal":Ee(Vi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"storage-modal"},[i("img",{staticClass:"image is-storage-banner",attrs:{src:"/img/game/storage/inventory_backpack.jpg"}}),t._v(" "),i("div",{staticClass:"storage-container"},t._l(t.inventoryContents,(function(e){return i("div",{key:"inventoryItem"+e.navigationIndex,staticClass:"storage-cell",class:{"inactive-item":t.selectedItem.navigationIndex!=e.navigationIndex||t.inStorage,"active-menu-item":t.selectedItem.navigationIndex==e.navigationIndex&&!t.inStorage},attrs:{id:"inventoryItem"+e.navigationIndex},on:{click:function(i){t.toggleMenuSelection(!1),t.selectItem(e)}}},[i("img",{staticClass:"is-single-image",attrs:{src:"/img/game/backgrounds/rarity_1.png"}}),t._v(" "),e.is_material||e.is_equipment?i("img",{staticClass:"is-single-image",attrs:{src:e.file_name}}):t._e(),t._v(" "),e.is_material||e.is_equipment||e.is_item?t._e():i("sprite-preview",{attrs:{item:e,label:"playerstorage"}}),t._v(" "),e.is_item?i("layered-sprite-preview",{attrs:{item:e,label:"playerstorage"}}):t._e(),t._v(" "),e.navigationIndex!=t.selectedItem.navigationIndex||t.inStorage?t._e():i("img",{staticClass:"is-single-image is-flipped is-cursor-image",attrs:{src:"/img/game/storage/cursor_fixed.png"}}),t._v(" "),null!=e.amount&&e.amount>0?i("span",{staticClass:"tag is-dark is-rounded is-amount-counter"},[t._v(t._s(e.amount))]):t._e()],1)})),0),t._v(" "),i("img",{staticClass:"image is-storage-banner",attrs:{src:t.storageBanner}}),t._v(" "),i("div",{staticClass:"storage-container"},t._l(t.storageContents,(function(e){return i("div",{key:"storageItem"+e.navigationIndex,staticClass:"storage-cell",class:{"inactive-item":t.selectedItem.navigationIndex!=e.navigationIndex||!t.inStorage,"active-menu-item":t.selectedItem.navigationIndex==e.navigationIndex&&t.inStorage},attrs:{id:"storageItem"+e.navigationIndex},on:{click:function(i){t.toggleMenuSelection(!0),t.selectItem(e)}}},[i("img",{staticClass:"is-single-image",attrs:{src:"/img/game/backgrounds/rarity_1.png"}}),t._v(" "),e.is_material||e.is_equipment?i("img",{staticClass:"is-single-image",attrs:{src:e.file_name}}):t._e(),t._v(" "),e.is_material||e.is_equipment||e.is_item?t._e():i("sprite-preview",{attrs:{item:e,label:"otherstorage"}}),t._v(" "),e.is_item?i("layered-sprite-preview",{attrs:{item:e,label:"playerstorage"}}):t._e(),t._v(" "),e.navigationIndex==t.selectedItem.navigationIndex&&t.inStorage?i("img",{staticClass:"is-single-image is-cursor-image",attrs:{src:"/img/game/storage/cursor_fixed.png"}}):t._e(),t._v(" "),null!=e.amount&&e.amount>0?i("span",{staticClass:"tag is-dark is-rounded is-amount-counter"},[t._v(t._s(e.amount))]):t._e()],1)})),0)])}),[],!1,null,"4c81f49a",null).exports},props:["map_id","user_id"],data:function(){return{mapID:this.map_id,userID:this.user_id,controlsVisible:!1,storageOpen:!1,storageCell:void 0,storageStructure:void 0,inspectOpen:!1,inspectObject:void 0,editModalOpen:!1,editorIsMinimised:!1,actionOpen:!1,craftingOpen:!1,craftingOptions:[],refiningOptions:[],doWash:!1,doStopWash:!1,doSleep:!1,doWakeUp:!1,doMovement:!1,doAction:!1,doInteract:!1,doSimpleCraft:!1,doSimpleForage:!1,isSimpleCraft:!1,doExamineFloor:!1,distanceFromCell:0,craftingStation:{},selected_avatar:void 0,selected_cell:"/img/game/unknown_cell2.png",activeCell:void 0,visibilityChange:"",hidden:"",loader:new ke,isLoading:!1,isLoaded:!1,inputVisble:!1,chatMessage:"",messages:[],historicMessages:[],chatIndex:0,materialIndex:0,craftIndex:0,equippedArchetype:void 0,basicPossible:!1,materialDrops:[],craftDrops:[],lastAction:{},slotsOverviewOpen:!1,statsOverviewOpen:!1,isHoveringPlayer:!1,gameBlurred:!1,isBlackedOut:!1,boardFilter:"",gameSettings:{sfxVolume:0,bgmVolume:0},songName:"",socketConnected:!0,playerIsDead:!1,cursorLocation:{},itemWasCrafted:!1,playerState:"standing",menuSound:"normal",isDreamland:!1,canWash:!1,canWalk:!1,canSleep:!1,canInteract:!1,canExamineFloor:!1,playRollFailSound:!1,playRollSuccessSound:!1}},methods:{getSettingsData:function(){return this.gameSettings},removeChatMessage:function(t){this.messages=this.messages.filter((function(e){return e.index!=t}))},addMaterialDrop:function(t){t.index=this.materialIndex,this.materialIndex++,this.materialDrops.push(t)},addRollDrop:function(t){},removeMaterialDrop:function(t){this.materialDrops=this.materialDrops.filter((function(e){return e.index!=t}))},addCraftDrop:function(t){t.index=this.craftIndex,this.craftIndex++,this.craftDrops.push(t)},removeCraftDrop:function(t){this.craftDrops=this.craftDrops.filter((function(e){return e.index!=t}))},handleVisibilityChange:function(){},loadData:function(){this.isLoading||(this.isLoading=!0,this.loader.startLoading())},startGame:function(){var t=this;this.loader.dataLoaded&&(new Se(this.loader.data.board,this.loader.data.map,this.loader.data.players,this.loader.data.tiles,this.loader.data.poses,this.loader.data.sounds,this.loader.data.skews,this.loader.data.weathers,this.loader.data.clusters,this.loader.data.playlists,this.loader.data.voices,this.loader.data.tint,this.loader.data.biome,this.loader.data.archetypes,this.loader.data.structures,this.loader.data.settings),document.getElementById("game-wrapper").addEventListener("touchend",(function(){t.controlsVisible=!t.controlsVisible})))},closeAllWindows:function(){this.slotsOverviewOpen=!1,this.statsOverviewOpen=!1,this.editModalOpen=!1,this.inspectOpen=!1,this.craftingOpen=!1,this.storageOpen=!1},hasOpenModals:function(){return this.inspectOpen||this.editModalOpen||this.storageOpen||this.craftingOpen},updateMenuSound:function(t){t!==this.menuSound&&(this.menuSound=t)},updateSongName:function(t){this.songName=t,document.getElementById("song-name").classList.add("is-visible"),null!=this.songTimeoutID&&window.clearTimeout(this.songTimeoutID),this.songTimeoutID=window.setTimeout((function(){document.getElementById("song-name").classList.remove("is-visible")}),1e4)},updatePlayerState:function(t){this.playerState!==t&&(this.playerState=t)},updateModifiers:function(){null!=this.$refs.statsOverview&&this.$refs.statsOverview.getModifiers(),null!=this.$refs.negativeModifiers&&this.$refs.negativeModifiers.getModifiers(),null!=this.$refs.inspectModal&&null!=this.$refs.inspectModal.$refs.characterInfo&&this.$refs.inspectModal.$refs.characterInfo.getModifiers()},updateBoardFilter:function(t){switch(t){case 0:case 1:this.boardFilter="is-day-one";break;case 2:case 3:this.boardFilter="is-day-two";break;case 4:case 5:this.boardFilter="is-day-three";break;case 6:case 7:this.boardFilter="is-day-four";break;case 8:case 9:this.boardFilter="is-day-five";break;case 10:case 11:this.boardFilter="is-day-six";break;case 12:case 13:this.boardFilter="is-night-one";break;case 14:case 15:this.boardFilter="is-night-two";break;case 16:case 17:this.boardFilter="is-night-three";break;case 18:case 19:this.boardFilter="is-night-four";break;case 20:case 21:this.boardFilter="is-night-five";break;case 22:case 23:this.boardFilter="is-night-six"}},pressKey:function(t){if(this.inspectOpen){var e=this.$refs.inspectModal;if(null!=e)return e.press(t)}if(this.editModalOpen){var i=this.$refs.mapEditModal;if(null!=i&&!this.editorIsMinimised)return i.press(t)}if(this.actionOpen){var n=this.$refs.actionModal;null!=n&&n.press(t)}if(this.craftingOpen){var r=this.$refs.craftingModal;if(null!=r)return r.press(t)}if(this.storageOpen){var s=this.$refs.storageModal;if(null!=s)return s.press(t)}},processEnterKey:function(){var t=this,e="";return this.inputVisble?this.inputVisble&&""!=this.chatMessage?((e=this.chatMessage).includes("!!!")&&(e=e.toUpperCase()),W.a.post("/message",{message:this.chatMessage,map_id:this.mapID}).then((function(t){})).catch(a.raiseError),this.chatMessage="",this.inputVisble=!1,this.$refs.chatInput.blur(),e):(this.inputVisble=!1,e):(this.inputVisble=!0,this.$nextTick((function(){t.$refs.chatInput.focus()})),e)}},mounted:function(){var t=this;void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange");var e=document.getElementById("version-display");null!=e&&(e.innerText="v0.7.0"),this.$nextTick((function(){document.addEventListener(t.visibilityChange,t.handleVisibilityChange,!1)}))}}),$i=(i("7Kek"),Ee(Gi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game-grid",class:{"is-blurred":t.gameBlurred,"is-darkened":"sleeping"===t.playerState,"is-blacked-out":t.isBlackedOut}},[i("div",{staticClass:"version-display",attrs:{id:"version-display"}}),t._v(" "),i("transition",{attrs:{name:"slow-fade"}},[t.isLoading&&!t.isLoaded?i("div",{staticStyle:{position:"absolute",left:"calc(50% - 25vmin)",top:"25vmin","z-index":"999",width:"50vmin"}},[i("img",{staticStyle:{transform:"scaleX(-1)","margin-left":"calc(25vmin - 50px)","max-width":"100px"},attrs:{src:"/img/game/loading/loading_mob.gif"}}),t._v(" "),i("progress",{staticClass:"progress is-danger",staticStyle:{width:"500px","margin-left":"calc(25vmin - 250px)"},attrs:{max:"100"},domProps:{value:t.loader.loadedPercent}},[t._v(t._s(t.loader.loadedPercent)+"%")]),t._v(" "),i("img",{staticStyle:{"max-width":"500px","margin-left":"calc(25vmin - 250px)"},attrs:{src:"/img/game/loading/controls.png"}})]):t._e()]),t._v(" "),i("transition",{attrs:{name:"connecting-fade"}},[t.socketConnected?t._e():i("div",{staticClass:"connecting",staticStyle:{position:"absolute",left:"50%",top:"50%","margin-top":"-50px","margin-left":"-50px","z-index":"999"}},[i("img",{attrs:{src:"/img/game/connecting_gif.gif"}})])]),t._v(" "),t.isLoading?t._e():i("div",{staticClass:"plain-wrapper"},[i("div",{staticClass:"row is-game"},[i("div",{staticClass:"content-square is-game-button"},[i("button",{staticClass:"is-submit",on:{click:function(e){return t.loadData()}}}),t._v(" "),i("span",{staticClass:"is-header"},[t._v("Enter the Void")]),t._v(" "),i("img",{staticClass:"image is-media",attrs:{src:"/img/600x200_enter.jpg"}})])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],staticStyle:{margin:"0 auto",position:"relative"},attrs:{id:"game-wrapper"}},[i("div",{staticClass:"board-filter",class:t.playerIsDead?"is-dead":t.boardFilter,staticStyle:{margin:"0 auto",position:"relative"},attrs:{id:"game-wrapper-inner"}}),t._v(" "),i("div",{staticStyle:{position:"absolute",display:"flex","flex-wrap":"wrap",width:"50vmin","z-index":"9",bottom:"25vmin"}},t._l(t.messages,(function(t){return i("chat-message",{key:"message-"+t.index,attrs:{message:t.message,name:t.name,avatar_image:t.avatar_file,index:t.index}})})),1),t._v(" "),t.inspectOpen||t.editModalOpen?t._e():i("div",{staticStyle:{position:"absolute",display:"flex","flex-wrap":"wrap","z-index":"9",left:"calc(50vmin - 35px)",bottom:"51vmin","max-width":"100px"}},[i("transition-group",{attrs:{name:"drops"}},t._l(t.materialDrops,(function(e){return i("div",{key:"material-"+e.index},[e.index==t.materialIndex-1?i("material-drop",{attrs:{material_image:e.file_name,index:e.index,isMaterialDrop:!0}}):t._e()],1)})),0)],1),t._v(" "),t.craftingOpen?i("div",{staticStyle:{position:"absolute",display:"flex","flex-wrap":"wrap","z-index":"9",left:"53vmin",top:"8vmin","max-width":"100px"}},[i("transition-group",{attrs:{name:"drops"}},t._l(t.craftDrops,(function(e){return i("div",{key:"craft-"+e.index},[e.index==t.craftIndex-1?i("material-drop",{attrs:{material_image:e.file_name,index:e.index,isMaterialDrop:!1}}):t._e()],1)})),0)],1):t._e(),t._v(" "),!t.isHoveringPlayer||t.inspectOpen||t.editModalOpen||t.editorIsMinimised?t._e():i("negative-modifiers",{ref:"negativeModifiers"}),t._v(" "),i("div",{staticClass:"flip-container",class:{"is-flipped":t.inputVisble,"is-dead":t.playerIsDead}},[i("div",{staticClass:"flipper"},[i("div",{staticClass:"front",on:{click:function(e){t.inputVisble=!t.inputVisble}}},[i("transition",{attrs:{name:"fade"}},[null!=t.selected_avatar?i("img",{staticStyle:{width:"100%"},attrs:{src:t.selected_avatar.file}}):t._e()])],1),t._v(" "),i("div",{staticClass:"back"},[i("transition",{attrs:{name:"fade"}},[t.inputVisble?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.chatMessage,expression:"chatMessage"}],ref:"chatInput",staticClass:"chat-input",attrs:{maxlength:"150",id:"chat-input"},domProps:{value:t.chatMessage},on:{input:function(e){e.target.composing||(t.chatMessage=e.target.value)}}}):t._e()])],1)])]),t._v(" "),i("div",{staticClass:"song-name",attrs:{id:"song-name"}},[t._v(t._s(t.songName))]),t._v(" "),i("div",{staticClass:"song-name in-menu",class:{"is-visible":t.inspectOpen}},[t._v(t._s(t.songName))]),t._v(" "),(t.selected_cell,t._e()),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:(t.inspectOpen||t.editModalOpen||t.craftingOpen)&&!t.editorIsMinimised&&!t.controlsVisible,expression:"(inspectOpen || editModalOpen || craftingOpen) && !editorIsMinimised && !controlsVisible"}],staticStyle:{position:"absolute",right:"0",top:"0","z-index":"99"}},[i("span",{staticClass:"icon is-medium",attrs:{id:"menuReturn"}},[i("i",{staticClass:"fa fa-level-up"})])])]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.editModalOpen?i("img",{staticClass:"image is-builder-mode",attrs:{src:"/img/game/builder_mode_fixed.png"}}):t._e()]),t._v(" "),t.actionOpen?i("action-modal",{ref:"actionModal",attrs:{equippedArchetype:t.equippedArchetype,basicPossible:t.basicPossible,isHoveringPlayer:null!=this.selected_avatar&&!this.selected_avatar.isCurrentPlayer,playerState:this.playerState,isDreamland:t.isDreamland,canWash:t.canWash,canWalk:t.canWalk,canSleep:t.canSleep,canInteract:t.canInteract,canExamineFloor:t.canExamineFloor}}):t._e()],1),t._v(" "),i("game-controls",{directives:[{name:"show",rawName:"v-show",value:t.controlsVisible,expression:"controlsVisible"}]}),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.slotsOverviewOpen?i("slots-overview",{ref:"slotsOverview"}):t._e()],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.statsOverviewOpen?i("stats-overview",{ref:"statsOverview"}):t._e()],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.inspectOpen?i("inspect-modal",{ref:"inspectModal",attrs:{inspectObject:t.inspectObject,gameSettings:t.gameSettings}}):t._e()],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.craftingOpen?i("crafting-modal",{ref:"craftingModal",attrs:{craftingOptions:t.craftingOptions,refiningOptions:t.refiningOptions,location:t.cursorLocation,isSimple:t.isSimpleCraft,craftingStation:t.craftingStation}}):t._e()],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.storageOpen?i("storage-modal",{ref:"storageModal",attrs:{cellID:t.storageCell,structureID:t.storageStructure}}):t._e()],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.editModalOpen?i("map-edit-modal",{directives:[{name:"show",rawName:"v-show",value:!t.editorIsMinimised,expression:"!editorIsMinimised"}],ref:"mapEditModal"}):t._e()],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row is-game is-navigation"},[e("div",{staticClass:"content-square is-middle"},[e("a",{staticClass:"is-header",attrs:{href:"/logout",onclick:"event.preventDefault(); document.getElementById('logout-form').submit();"}},[this._v("\n                    Logout\n                ")])]),this._v(" "),e("div",{staticClass:"content-square is-middle"},[e("a",{staticClass:"is-header",attrs:{href:"/"}},[this._v("Home")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row is-game"},[e("p",{staticClass:"is-void-text is-centered"},[this._v("RpVoid is being created by 2 people:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row is-game"},[i("a",{staticClass:"content-square is-creator",attrs:{href:"https://twitter.com/srgrafo2"}},[i("img",{staticClass:"image is-media",attrs:{src:"/img/grafo_1.png"}}),t._v(" "),i("p",{staticClass:"is-void-text is-creator-name"},[t._v("SrGrafo")]),t._v(" "),i("p",{staticClass:"is-void-text is-creator-job"},[t._v("Art")])]),t._v(" "),i("a",{staticClass:"content-square is-creator",attrs:{href:"https://twitter.com/fodderdev"}},[i("img",{staticClass:"image is-media",attrs:{src:"/img/fodder_1.png"}}),t._v(" "),i("p",{staticClass:"is-void-text is-creator-name"},[t._v("Fodderstompf")]),t._v(" "),i("p",{staticClass:"is-void-text is-creator-job"},[t._v("Code")])])])}],!1,null,"288c3f14",null).exports),Ki={props:["avatar"],data:function(){return{name:this.avatar.name,portrait:this.avatar.file_name,gender:this.avatar.archetype.gender,lineage:""}},methods:{reroll:function(t){"gender"==t&&this.swapGender(),"gender"!=t&&"portrait"!=t||(t=this.getPortraitType()),W.a.post("/reroll",{type:t}).then(this.repopulateData).catch(a.raiseError)},repopulateData:function(t){null!=t.data&&(this.name=t.data.name,this.portrait=t.data.file_name,this.gender=t.data.archetype.gender)},swapGender:function(){this.gender="male"===this.gender?"female":"male"},getPortraitType:function(){return"".concat(this.gender,"_avatar")},navigate:function(){location.href="/birth"}}},Zi=(i("HcAG"),Ee(Ki,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"creator-container"},[i("img",{staticClass:"portrait",attrs:{src:t.portrait}}),t._v(" "),i("div",{staticClass:"reroll-section"},[i("img",{staticClass:"reroll-button is-top is-disabled",attrs:{src:"/img/game/starter/lineage_fixed.png"}}),t._v(" "),i("img",{staticClass:"reroll-button",attrs:{src:"/img/game/starter/"+t.gender+"_fixed.png"},on:{click:function(e){return t.reroll("gender")}}}),t._v(" "),i("img",{staticClass:"reroll-button",attrs:{src:"/img/game/starter/randomize_fixed.png"},on:{click:function(e){return t.reroll("portrait")}}}),t._v(" "),i("img",{staticClass:"reroll-button",attrs:{src:"/img/game/starter/randomize_fixed.png"},on:{click:function(e){return t.reroll("full_name")}}})]),t._v(" "),i("div",{staticClass:"text-section"},[i("p",{staticClass:"has-text-grey has-text-weight-bold has-text-centered side-text"},[t._v(t._s(t.lineage||"Lineage"))]),t._v(" "),i("p",{staticClass:"has-text-light has-text-weight-bold has-text-centered side-text"},[t._v(t._s(t.gender.charAt(0).toUpperCase()+t.gender.substr(1).toLowerCase()||"Unknown"))]),t._v(" "),i("p",{staticClass:"has-text-light has-text-weight-bold has-text-centered side-text"},[t._v("Portrait")]),t._v(" "),i("p",{staticClass:"has-text-light has-text-weight-bold has-text-centered side-text is-small"},[t._v(t._s(t.name))])])]),t._v(" "),i("button",{staticClass:"has-text-light has-text-weight-bold birth-button",on:{click:function(e){return t.navigate()}}},[t._v("Born")])])}),[],!1,null,"38e1815a",null).exports);i("9Wh1"),r.a.use(s.a);var Ji=new s.a.Store({modules:{},strict:!1});new r.a({el:"#app",store:Ji,components:{"game-canvas":$i,"creator-screen":Zi},data:init_data,methods:{submitForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this,i=new FormData;for(var n in this.form_data[t])this.form_data[t].hasOwnProperty(n)&&null!=this.form_data[t][n]&&i.append(n,this.form_data[t][n]);var r=e.form_url[t].replace(/\/+$/,"");axios({method:e.form_method,url:r,data:i}).then((function(i){null==e.form_data[t].id&&(t>0?(console.log("redirect"),window.location.assign(window.location)):window.location.assign(e.form_return+i.data.id+"/edit")),void 0!==e.form_data[t]._type&&(i.data._type=e.form_data[t]._type),e.form_data[t]=i.data,e.form_data[t]._method="PUT",e.$forceUpdate()})).catch(a.raiseError)},updateFile:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.form_data[i][t]=e.target.files[0],this.$forceUpdate()},updateFileWithDrop:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.preventDefault(),e.dataTransfer.items)for(var n=0;n<e.dataTransfer.items.length;n++)if("file"===e.dataTransfer.items[n].kind){var r=e.dataTransfer.items[n].getAsFile();this.form_data[i][t]=r,this.$forceUpdate()}},deleteItem:function(t){if(!confirm("Are you sure you want to delete this item?"))return!1;axios.delete(this.delete_url+t).then((function(t){window.location.assign(window.location)})).catch(a.raiseError)},deleteForm:function(t,e){null!=this.form_data[t].id&&axios.delete(e+this.form_data[t].id).then((function(t){alert("Deleted")})).catch(a.raiseError),this.form_data.splice(t,1)},addForm:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{_method:"POST"};this.form_data.push(JSON.parse(JSON.stringify(e))),this.form_url.push(t)}}})},bgNW:function(t,e,i){"use strict";var n=i("TcbD");i.n(n).a},cGnb:function(t,e,i){"use strict";var n=i("nKqK");i.n(n).a},eC5B:function(t,e,i){(function(e){var i;window,i=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){!function(t){"use strict";var e=function(t){var e,i=new Float64Array(16);if(t)for(e=0;e<t.length;e++)i[e]=t[e];return i},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=e(),a=e([1]),h=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(t,e,i,n){t[e]=i>>24&255,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function g(t,e,i,n,r){var s,o=0;for(s=0;s<r;s++)o|=t[e+s]^i[n+s];return(1&o-1>>>8)-1}function m(t,e,i,n){return g(t,e,i,n,16)}function v(t,e,i,n){return g(t,e,i,n,32)}function y(t,e,i,n){!function(t,e,i,n){for(var r,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,a=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,h=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,u=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,f=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&i[16]|(255&i[17])<<8|(255&i[18])<<16|(255&i[19])<<24,v=255&i[20]|(255&i[21])<<8|(255&i[22])<<16|(255&i[23])<<24,y=255&i[24]|(255&i[25])<<8|(255&i[26])<<16|(255&i[27])<<24,_=255&i[28]|(255&i[29])<<8|(255&i[30])<<16|(255&i[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,x=s,w=o,S=a,T=h,k=u,C=l,E=c,O=d,I=p,P=f,M=g,A=m,R=v,D=y,L=_,F=b,N=0;N<20;N+=2)x^=(r=(R^=(r=(I^=(r=(k^=(r=x+R|0)<<7|r>>>25)+x|0)<<9|r>>>23)+k|0)<<13|r>>>19)+I|0)<<18|r>>>14,C^=(r=(w^=(r=(D^=(r=(P^=(r=C+w|0)<<7|r>>>25)+C|0)<<9|r>>>23)+P|0)<<13|r>>>19)+D|0)<<18|r>>>14,M^=(r=(E^=(r=(S^=(r=(L^=(r=M+E|0)<<7|r>>>25)+M|0)<<9|r>>>23)+L|0)<<13|r>>>19)+S|0)<<18|r>>>14,F^=(r=(A^=(r=(O^=(r=(T^=(r=F+A|0)<<7|r>>>25)+F|0)<<9|r>>>23)+T|0)<<13|r>>>19)+O|0)<<18|r>>>14,x^=(r=(T^=(r=(S^=(r=(w^=(r=x+T|0)<<7|r>>>25)+x|0)<<9|r>>>23)+w|0)<<13|r>>>19)+S|0)<<18|r>>>14,C^=(r=(k^=(r=(O^=(r=(E^=(r=C+k|0)<<7|r>>>25)+C|0)<<9|r>>>23)+E|0)<<13|r>>>19)+O|0)<<18|r>>>14,M^=(r=(P^=(r=(I^=(r=(A^=(r=M+P|0)<<7|r>>>25)+M|0)<<9|r>>>23)+A|0)<<13|r>>>19)+I|0)<<18|r>>>14,F^=(r=(L^=(r=(D^=(r=(R^=(r=F+L|0)<<7|r>>>25)+F|0)<<9|r>>>23)+R|0)<<13|r>>>19)+D|0)<<18|r>>>14;x=x+s|0,w=w+o|0,S=S+a|0,T=T+h|0,k=k+u|0,C=C+l|0,E=E+c|0,O=O+d|0,I=I+p|0,P=P+f|0,M=M+g|0,A=A+m|0,R=R+v|0,D=D+y|0,L=L+_|0,F=F+b|0,t[0]=x>>>0&255,t[1]=x>>>8&255,t[2]=x>>>16&255,t[3]=x>>>24&255,t[4]=w>>>0&255,t[5]=w>>>8&255,t[6]=w>>>16&255,t[7]=w>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=T>>>0&255,t[13]=T>>>8&255,t[14]=T>>>16&255,t[15]=T>>>24&255,t[16]=k>>>0&255,t[17]=k>>>8&255,t[18]=k>>>16&255,t[19]=k>>>24&255,t[20]=C>>>0&255,t[21]=C>>>8&255,t[22]=C>>>16&255,t[23]=C>>>24&255,t[24]=E>>>0&255,t[25]=E>>>8&255,t[26]=E>>>16&255,t[27]=E>>>24&255,t[28]=O>>>0&255,t[29]=O>>>8&255,t[30]=O>>>16&255,t[31]=O>>>24&255,t[32]=I>>>0&255,t[33]=I>>>8&255,t[34]=I>>>16&255,t[35]=I>>>24&255,t[36]=P>>>0&255,t[37]=P>>>8&255,t[38]=P>>>16&255,t[39]=P>>>24&255,t[40]=M>>>0&255,t[41]=M>>>8&255,t[42]=M>>>16&255,t[43]=M>>>24&255,t[44]=A>>>0&255,t[45]=A>>>8&255,t[46]=A>>>16&255,t[47]=A>>>24&255,t[48]=R>>>0&255,t[49]=R>>>8&255,t[50]=R>>>16&255,t[51]=R>>>24&255,t[52]=D>>>0&255,t[53]=D>>>8&255,t[54]=D>>>16&255,t[55]=D>>>24&255,t[56]=L>>>0&255,t[57]=L>>>8&255,t[58]=L>>>16&255,t[59]=L>>>24&255,t[60]=F>>>0&255,t[61]=F>>>8&255,t[62]=F>>>16&255,t[63]=F>>>24&255}(t,e,i,n)}function _(t,e,i,n){!function(t,e,i,n){for(var r,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,a=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,h=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,u=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,f=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&i[16]|(255&i[17])<<8|(255&i[18])<<16|(255&i[19])<<24,v=255&i[20]|(255&i[21])<<8|(255&i[22])<<16|(255&i[23])<<24,y=255&i[24]|(255&i[25])<<8|(255&i[26])<<16|(255&i[27])<<24,_=255&i[28]|(255&i[29])<<8|(255&i[30])<<16|(255&i[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,x=0;x<20;x+=2)s^=(r=(v^=(r=(p^=(r=(u^=(r=s+v|0)<<7|r>>>25)+s|0)<<9|r>>>23)+u|0)<<13|r>>>19)+p|0)<<18|r>>>14,l^=(r=(o^=(r=(y^=(r=(f^=(r=l+o|0)<<7|r>>>25)+l|0)<<9|r>>>23)+f|0)<<13|r>>>19)+y|0)<<18|r>>>14,g^=(r=(c^=(r=(a^=(r=(_^=(r=g+c|0)<<7|r>>>25)+g|0)<<9|r>>>23)+_|0)<<13|r>>>19)+a|0)<<18|r>>>14,b^=(r=(m^=(r=(d^=(r=(h^=(r=b+m|0)<<7|r>>>25)+b|0)<<9|r>>>23)+h|0)<<13|r>>>19)+d|0)<<18|r>>>14,s^=(r=(h^=(r=(a^=(r=(o^=(r=s+h|0)<<7|r>>>25)+s|0)<<9|r>>>23)+o|0)<<13|r>>>19)+a|0)<<18|r>>>14,l^=(r=(u^=(r=(d^=(r=(c^=(r=l+u|0)<<7|r>>>25)+l|0)<<9|r>>>23)+c|0)<<13|r>>>19)+d|0)<<18|r>>>14,g^=(r=(f^=(r=(p^=(r=(m^=(r=g+f|0)<<7|r>>>25)+g|0)<<9|r>>>23)+m|0)<<13|r>>>19)+p|0)<<18|r>>>14,b^=(r=(_^=(r=(y^=(r=(v^=(r=b+_|0)<<7|r>>>25)+b|0)<<9|r>>>23)+v|0)<<13|r>>>19)+y|0)<<18|r>>>14;t[0]=s>>>0&255,t[1]=s>>>8&255,t[2]=s>>>16&255,t[3]=s>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=g>>>0&255,t[9]=g>>>8&255,t[10]=g>>>16&255,t[11]=g>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=c>>>0&255,t[17]=c>>>8&255,t[18]=c>>>16&255,t[19]=c>>>24&255,t[20]=d>>>0&255,t[21]=d>>>8&255,t[22]=d>>>16&255,t[23]=d>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=f>>>0&255,t[29]=f>>>8&255,t[30]=f>>>16&255,t[31]=f>>>24&255}(t,e,i,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(t,e,i,n,r,s,o){var a,h,u=new Uint8Array(16),l=new Uint8Array(64);for(h=0;h<16;h++)u[h]=0;for(h=0;h<8;h++)u[h]=s[h];for(;r>=64;){for(y(l,u,o,b),h=0;h<64;h++)t[e+h]=i[n+h]^l[h];for(a=1,h=8;h<16;h++)a=a+(255&u[h])|0,u[h]=255&a,a>>>=8;r-=64,e+=64,n+=64}if(r>0)for(y(l,u,o,b),h=0;h<r;h++)t[e+h]=i[n+h]^l[h];return 0}function w(t,e,i,n,r){var s,o,a=new Uint8Array(16),h=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;i>=64;){for(y(h,a,r,b),o=0;o<64;o++)t[e+o]=h[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;i-=64,e+=64}if(i>0)for(y(h,a,r,b),o=0;o<i;o++)t[e+o]=h[o];return 0}function S(t,e,i,n,r){var s=new Uint8Array(32);_(s,n,r,b);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return w(t,e,i,o,s)}function T(t,e,i,n,r,s,o){var a=new Uint8Array(32);_(a,s,o,b);for(var h=new Uint8Array(8),u=0;u<8;u++)h[u]=s[u+16];return x(t,e,i,n,r,h,a)}var k=function(t){var e,i,n,r,s,o,a,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,i=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|i<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(i>>>10|n<<6),r=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|r<<9),s=255&t[8]|(255&t[9])<<8,this.r[4]=255&(r>>>4|s<<12),this.r[5]=s>>>1&8190,o=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(s>>>14|o<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(o>>>11|a<<5),h=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function C(t,e,i,n,r,s){var o=new k(s);return o.update(i,n,r),o.finish(t,e),0}function E(t,e,i,n,r,s){var o=new Uint8Array(16);return C(o,0,i,n,r,s),m(t,e,o,0)}function O(t,e,i,n,r){var s;if(i<32)return-1;for(T(t,0,e,0,i,n,r),C(t,16,t,32,i-32,t),s=0;s<16;s++)t[s]=0;return 0}function I(t,e,i,n,r){var s,o=new Uint8Array(32);if(i<32)return-1;if(S(o,0,32,n,r),0!==E(e,16,e,32,i-32,o))return-1;for(T(t,0,e,0,i,n,r),s=0;s<32;s++)t[s]=0;return 0}function P(t,e){var i;for(i=0;i<16;i++)t[i]=0|e[i]}function M(t){var e,i,n=1;for(e=0;e<16;e++)i=t[e]+n+65535,n=Math.floor(i/65536),t[e]=i-65536*n;t[0]+=n-1+37*(n-1)}function A(t,e,i){for(var n,r=~(i-1),s=0;s<16;s++)n=r&(t[s]^e[s]),t[s]^=n,e[s]^=n}function R(t,i){var n,r,s,o=e(),a=e();for(n=0;n<16;n++)a[n]=i[n];for(M(a),M(a),M(a),r=0;r<2;r++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,A(a,o,1-s)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function D(t,e){var i=new Uint8Array(32),n=new Uint8Array(32);return R(i,t),R(n,e),v(i,0,n,0)}function L(t){var e=new Uint8Array(32);return R(e,t),1&e[0]}function F(t,e){var i;for(i=0;i<16;i++)t[i]=e[2*i]+(e[2*i+1]<<8);t[15]&=32767}function N(t,e,i){for(var n=0;n<16;n++)t[n]=e[n]+i[n]}function B(t,e,i){for(var n=0;n<16;n++)t[n]=e[n]-i[n]}function U(t,e,i){var n,r,s=0,o=0,a=0,h=0,u=0,l=0,c=0,d=0,p=0,f=0,g=0,m=0,v=0,y=0,_=0,b=0,x=0,w=0,S=0,T=0,k=0,C=0,E=0,O=0,I=0,P=0,M=0,A=0,R=0,D=0,L=0,F=i[0],N=i[1],B=i[2],U=i[3],j=i[4],z=i[5],X=i[6],H=i[7],Y=i[8],q=i[9],W=i[10],V=i[11],G=i[12],$=i[13],K=i[14],Z=i[15];s+=(n=e[0])*F,o+=n*N,a+=n*B,h+=n*U,u+=n*j,l+=n*z,c+=n*X,d+=n*H,p+=n*Y,f+=n*q,g+=n*W,m+=n*V,v+=n*G,y+=n*$,_+=n*K,b+=n*Z,o+=(n=e[1])*F,a+=n*N,h+=n*B,u+=n*U,l+=n*j,c+=n*z,d+=n*X,p+=n*H,f+=n*Y,g+=n*q,m+=n*W,v+=n*V,y+=n*G,_+=n*$,b+=n*K,x+=n*Z,a+=(n=e[2])*F,h+=n*N,u+=n*B,l+=n*U,c+=n*j,d+=n*z,p+=n*X,f+=n*H,g+=n*Y,m+=n*q,v+=n*W,y+=n*V,_+=n*G,b+=n*$,x+=n*K,w+=n*Z,h+=(n=e[3])*F,u+=n*N,l+=n*B,c+=n*U,d+=n*j,p+=n*z,f+=n*X,g+=n*H,m+=n*Y,v+=n*q,y+=n*W,_+=n*V,b+=n*G,x+=n*$,w+=n*K,S+=n*Z,u+=(n=e[4])*F,l+=n*N,c+=n*B,d+=n*U,p+=n*j,f+=n*z,g+=n*X,m+=n*H,v+=n*Y,y+=n*q,_+=n*W,b+=n*V,x+=n*G,w+=n*$,S+=n*K,T+=n*Z,l+=(n=e[5])*F,c+=n*N,d+=n*B,p+=n*U,f+=n*j,g+=n*z,m+=n*X,v+=n*H,y+=n*Y,_+=n*q,b+=n*W,x+=n*V,w+=n*G,S+=n*$,T+=n*K,k+=n*Z,c+=(n=e[6])*F,d+=n*N,p+=n*B,f+=n*U,g+=n*j,m+=n*z,v+=n*X,y+=n*H,_+=n*Y,b+=n*q,x+=n*W,w+=n*V,S+=n*G,T+=n*$,k+=n*K,C+=n*Z,d+=(n=e[7])*F,p+=n*N,f+=n*B,g+=n*U,m+=n*j,v+=n*z,y+=n*X,_+=n*H,b+=n*Y,x+=n*q,w+=n*W,S+=n*V,T+=n*G,k+=n*$,C+=n*K,E+=n*Z,p+=(n=e[8])*F,f+=n*N,g+=n*B,m+=n*U,v+=n*j,y+=n*z,_+=n*X,b+=n*H,x+=n*Y,w+=n*q,S+=n*W,T+=n*V,k+=n*G,C+=n*$,E+=n*K,O+=n*Z,f+=(n=e[9])*F,g+=n*N,m+=n*B,v+=n*U,y+=n*j,_+=n*z,b+=n*X,x+=n*H,w+=n*Y,S+=n*q,T+=n*W,k+=n*V,C+=n*G,E+=n*$,O+=n*K,I+=n*Z,g+=(n=e[10])*F,m+=n*N,v+=n*B,y+=n*U,_+=n*j,b+=n*z,x+=n*X,w+=n*H,S+=n*Y,T+=n*q,k+=n*W,C+=n*V,E+=n*G,O+=n*$,I+=n*K,P+=n*Z,m+=(n=e[11])*F,v+=n*N,y+=n*B,_+=n*U,b+=n*j,x+=n*z,w+=n*X,S+=n*H,T+=n*Y,k+=n*q,C+=n*W,E+=n*V,O+=n*G,I+=n*$,P+=n*K,M+=n*Z,v+=(n=e[12])*F,y+=n*N,_+=n*B,b+=n*U,x+=n*j,w+=n*z,S+=n*X,T+=n*H,k+=n*Y,C+=n*q,E+=n*W,O+=n*V,I+=n*G,P+=n*$,M+=n*K,A+=n*Z,y+=(n=e[13])*F,_+=n*N,b+=n*B,x+=n*U,w+=n*j,S+=n*z,T+=n*X,k+=n*H,C+=n*Y,E+=n*q,O+=n*W,I+=n*V,P+=n*G,M+=n*$,A+=n*K,R+=n*Z,_+=(n=e[14])*F,b+=n*N,x+=n*B,w+=n*U,S+=n*j,T+=n*z,k+=n*X,C+=n*H,E+=n*Y,O+=n*q,I+=n*W,P+=n*V,M+=n*G,A+=n*$,R+=n*K,D+=n*Z,b+=(n=e[15])*F,o+=38*(w+=n*B),a+=38*(S+=n*U),h+=38*(T+=n*j),u+=38*(k+=n*z),l+=38*(C+=n*X),c+=38*(E+=n*H),d+=38*(O+=n*Y),p+=38*(I+=n*q),f+=38*(P+=n*W),g+=38*(M+=n*V),m+=38*(A+=n*G),v+=38*(R+=n*$),y+=38*(D+=n*K),_+=38*(L+=n*Z),s=(n=(s+=38*(x+=n*N))+(r=1)+65535)-65536*(r=Math.floor(n/65536)),o=(n=o+r+65535)-65536*(r=Math.floor(n/65536)),a=(n=a+r+65535)-65536*(r=Math.floor(n/65536)),h=(n=h+r+65535)-65536*(r=Math.floor(n/65536)),u=(n=u+r+65535)-65536*(r=Math.floor(n/65536)),l=(n=l+r+65535)-65536*(r=Math.floor(n/65536)),c=(n=c+r+65535)-65536*(r=Math.floor(n/65536)),d=(n=d+r+65535)-65536*(r=Math.floor(n/65536)),p=(n=p+r+65535)-65536*(r=Math.floor(n/65536)),f=(n=f+r+65535)-65536*(r=Math.floor(n/65536)),g=(n=g+r+65535)-65536*(r=Math.floor(n/65536)),m=(n=m+r+65535)-65536*(r=Math.floor(n/65536)),v=(n=v+r+65535)-65536*(r=Math.floor(n/65536)),y=(n=y+r+65535)-65536*(r=Math.floor(n/65536)),_=(n=_+r+65535)-65536*(r=Math.floor(n/65536)),b=(n=b+r+65535)-65536*(r=Math.floor(n/65536)),s=(n=(s+=r-1+37*(r-1))+(r=1)+65535)-65536*(r=Math.floor(n/65536)),o=(n=o+r+65535)-65536*(r=Math.floor(n/65536)),a=(n=a+r+65535)-65536*(r=Math.floor(n/65536)),h=(n=h+r+65535)-65536*(r=Math.floor(n/65536)),u=(n=u+r+65535)-65536*(r=Math.floor(n/65536)),l=(n=l+r+65535)-65536*(r=Math.floor(n/65536)),c=(n=c+r+65535)-65536*(r=Math.floor(n/65536)),d=(n=d+r+65535)-65536*(r=Math.floor(n/65536)),p=(n=p+r+65535)-65536*(r=Math.floor(n/65536)),f=(n=f+r+65535)-65536*(r=Math.floor(n/65536)),g=(n=g+r+65535)-65536*(r=Math.floor(n/65536)),m=(n=m+r+65535)-65536*(r=Math.floor(n/65536)),v=(n=v+r+65535)-65536*(r=Math.floor(n/65536)),y=(n=y+r+65535)-65536*(r=Math.floor(n/65536)),_=(n=_+r+65535)-65536*(r=Math.floor(n/65536)),b=(n=b+r+65535)-65536*(r=Math.floor(n/65536)),s+=r-1+37*(r-1),t[0]=s,t[1]=o,t[2]=a,t[3]=h,t[4]=u,t[5]=l,t[6]=c,t[7]=d,t[8]=p,t[9]=f,t[10]=g,t[11]=m,t[12]=v,t[13]=y,t[14]=_,t[15]=b}function j(t,e){U(t,e,e)}function z(t,i){var n,r=e();for(n=0;n<16;n++)r[n]=i[n];for(n=253;n>=0;n--)j(r,r),2!==n&&4!==n&&U(r,r,i);for(n=0;n<16;n++)t[n]=r[n]}function X(t,i){var n,r=e();for(n=0;n<16;n++)r[n]=i[n];for(n=250;n>=0;n--)j(r,r),1!==n&&U(r,r,i);for(n=0;n<16;n++)t[n]=r[n]}function H(t,i,n){var r,s,o=new Uint8Array(32),a=new Float64Array(80),u=e(),l=e(),c=e(),d=e(),p=e(),f=e();for(s=0;s<31;s++)o[s]=i[s];for(o[31]=127&i[31]|64,o[0]&=248,F(a,n),s=0;s<16;s++)l[s]=a[s],d[s]=u[s]=c[s]=0;for(u[0]=d[0]=1,s=254;s>=0;--s)A(u,l,r=o[s>>>3]>>>(7&s)&1),A(c,d,r),N(p,u,c),B(u,u,c),N(c,l,d),B(l,l,d),j(d,p),j(f,u),U(u,c,u),U(c,l,p),N(p,u,c),B(u,u,c),j(l,u),B(c,d,f),U(u,c,h),N(u,u,d),U(c,c,u),U(u,d,f),U(d,l,a),j(l,p),A(u,l,r),A(c,d,r);for(s=0;s<16;s++)a[s+16]=u[s],a[s+32]=c[s],a[s+48]=l[s],a[s+64]=d[s];var g=a.subarray(32),m=a.subarray(16);return z(g,g),U(m,m,g),R(t,m),0}function Y(t,e){return H(t,e,s)}function q(t,e){return n(e,32),Y(t,e)}function W(t,e,i){var n=new Uint8Array(32);return H(n,i,e),_(t,r,n,b)}k.prototype.blocks=function(t,e,i){for(var n,r,s,o,a,h,u,l,c,d,p,f,g,m,v,y,_,b,x,w=this.fin?0:2048,S=this.h[0],T=this.h[1],k=this.h[2],C=this.h[3],E=this.h[4],O=this.h[5],I=this.h[6],P=this.h[7],M=this.h[8],A=this.h[9],R=this.r[0],D=this.r[1],L=this.r[2],F=this.r[3],N=this.r[4],B=this.r[5],U=this.r[6],j=this.r[7],z=this.r[8],X=this.r[9];i>=16;)d=c=0,d+=(S+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*R,d+=(T+=8191&(n>>>13|(r=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*X),d+=(k+=8191&(r>>>10|(s=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*z),d+=(C+=8191&(s>>>7|(o=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*j),c=(d+=(E+=8191&(o>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*U))>>>13,d&=8191,d+=(O+=a>>>1&8191)*(5*B),d+=(I+=8191&(a>>>14|(h=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*N),d+=(P+=8191&(h>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*F),d+=(M+=8191&(u>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*L),p=c+=(d+=(A+=l>>>5|w)*(5*D))>>>13,p+=S*D,p+=T*R,p+=k*(5*X),p+=C*(5*z),c=(p+=E*(5*j))>>>13,p&=8191,p+=O*(5*U),p+=I*(5*B),p+=P*(5*N),p+=M*(5*F),c+=(p+=A*(5*L))>>>13,p&=8191,f=c,f+=S*L,f+=T*D,f+=k*R,f+=C*(5*X),c=(f+=E*(5*z))>>>13,f&=8191,f+=O*(5*j),f+=I*(5*U),f+=P*(5*B),f+=M*(5*N),g=c+=(f+=A*(5*F))>>>13,g+=S*F,g+=T*L,g+=k*D,g+=C*R,c=(g+=E*(5*X))>>>13,g&=8191,g+=O*(5*z),g+=I*(5*j),g+=P*(5*U),g+=M*(5*B),m=c+=(g+=A*(5*N))>>>13,m+=S*N,m+=T*F,m+=k*L,m+=C*D,c=(m+=E*R)>>>13,m&=8191,m+=O*(5*X),m+=I*(5*z),m+=P*(5*j),m+=M*(5*U),v=c+=(m+=A*(5*B))>>>13,v+=S*B,v+=T*N,v+=k*F,v+=C*L,c=(v+=E*D)>>>13,v&=8191,v+=O*R,v+=I*(5*X),v+=P*(5*z),v+=M*(5*j),y=c+=(v+=A*(5*U))>>>13,y+=S*U,y+=T*B,y+=k*N,y+=C*F,c=(y+=E*L)>>>13,y&=8191,y+=O*D,y+=I*R,y+=P*(5*X),y+=M*(5*z),_=c+=(y+=A*(5*j))>>>13,_+=S*j,_+=T*U,_+=k*B,_+=C*N,c=(_+=E*F)>>>13,_&=8191,_+=O*L,_+=I*D,_+=P*R,_+=M*(5*X),b=c+=(_+=A*(5*z))>>>13,b+=S*z,b+=T*j,b+=k*U,b+=C*B,c=(b+=E*N)>>>13,b&=8191,b+=O*F,b+=I*L,b+=P*D,b+=M*R,x=c+=(b+=A*(5*X))>>>13,x+=S*X,x+=T*z,x+=k*j,x+=C*U,c=(x+=E*B)>>>13,x&=8191,x+=O*N,x+=I*F,x+=P*L,x+=M*D,S=d=8191&(c=(c=((c+=(x+=A*R)>>>13)<<2)+c|0)+(d&=8191)|0),T=p+=c>>>=13,k=f&=8191,C=g&=8191,E=m&=8191,O=v&=8191,I=y&=8191,P=_&=8191,M=b&=8191,A=x&=8191,e+=16,i-=16;this.h[0]=S,this.h[1]=T,this.h[2]=k,this.h[3]=C,this.h[4]=E,this.h[5]=O,this.h[6]=I,this.h[7]=P,this.h[8]=M,this.h[9]=A},k.prototype.finish=function(t,e){var i,n,r,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(i=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=i,i=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*i,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,o[0]=this.h[0]+5,i=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+i,i=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^i)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),r=this.h[0]+this.pad[0],this.h[0]=65535&r,s=1;s<8;s++)r=(this.h[s]+this.pad[s]|0)+(r>>>16)|0,this.h[s]=65535&r;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},k.prototype.update=function(t,e,i){var n,r;if(this.leftover){for((r=16-this.leftover)>i&&(r=i),n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];if(i-=r,e+=r,this.leftover+=r,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(i>=16&&(r=i-i%16,this.blocks(t,e,r),e+=r,i-=r),i){for(n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=i}};var V=O,G=I,$=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function K(t,e,i,n){for(var r,s,o,a,h,u,l,c,d,p,f,g,m,v,y,_,b,x,w,S,T,k,C,E,O,I,P=new Int32Array(16),M=new Int32Array(16),A=t[0],R=t[1],D=t[2],L=t[3],F=t[4],N=t[5],B=t[6],U=t[7],j=e[0],z=e[1],X=e[2],H=e[3],Y=e[4],q=e[5],W=e[6],V=e[7],G=0;n>=128;){for(w=0;w<16;w++)S=8*w+G,P[w]=i[S+0]<<24|i[S+1]<<16|i[S+2]<<8|i[S+3],M[w]=i[S+4]<<24|i[S+5]<<16|i[S+6]<<8|i[S+7];for(w=0;w<80;w++)if(r=A,s=R,o=D,a=L,h=F,u=N,l=B,d=j,p=z,f=X,g=H,m=Y,v=q,y=W,C=65535&(k=V),E=k>>>16,O=65535&(T=U),I=T>>>16,C+=65535&(k=(Y>>>14|F<<18)^(Y>>>18|F<<14)^(F>>>9|Y<<23)),E+=k>>>16,O+=65535&(T=(F>>>14|Y<<18)^(F>>>18|Y<<14)^(Y>>>9|F<<23)),I+=T>>>16,C+=65535&(k=Y&q^~Y&W),E+=k>>>16,O+=65535&(T=F&N^~F&B),I+=T>>>16,C+=65535&(k=$[2*w+1]),E+=k>>>16,O+=65535&(T=$[2*w]),I+=T>>>16,T=P[w%16],E+=(k=M[w%16])>>>16,O+=65535&T,I+=T>>>16,O+=(E+=(C+=65535&k)>>>16)>>>16,C=65535&(k=x=65535&C|E<<16),E=k>>>16,O=65535&(T=b=65535&O|(I+=O>>>16)<<16),I=T>>>16,C+=65535&(k=(j>>>28|A<<4)^(A>>>2|j<<30)^(A>>>7|j<<25)),E+=k>>>16,O+=65535&(T=(A>>>28|j<<4)^(j>>>2|A<<30)^(j>>>7|A<<25)),I+=T>>>16,E+=(k=j&z^j&X^z&X)>>>16,O+=65535&(T=A&R^A&D^R&D),I+=T>>>16,c=65535&(O+=(E+=(C+=65535&k)>>>16)>>>16)|(I+=O>>>16)<<16,_=65535&C|E<<16,C=65535&(k=g),E=k>>>16,O=65535&(T=a),I=T>>>16,E+=(k=x)>>>16,O+=65535&(T=b),I+=T>>>16,R=r,D=s,L=o,F=a=65535&(O+=(E+=(C+=65535&k)>>>16)>>>16)|(I+=O>>>16)<<16,N=h,B=u,U=l,A=c,z=d,X=p,H=f,Y=g=65535&C|E<<16,q=m,W=v,V=y,j=_,w%16==15)for(S=0;S<16;S++)T=P[S],C=65535&(k=M[S]),E=k>>>16,O=65535&T,I=T>>>16,T=P[(S+9)%16],C+=65535&(k=M[(S+9)%16]),E+=k>>>16,O+=65535&T,I+=T>>>16,b=P[(S+1)%16],C+=65535&(k=((x=M[(S+1)%16])>>>1|b<<31)^(x>>>8|b<<24)^(x>>>7|b<<25)),E+=k>>>16,O+=65535&(T=(b>>>1|x<<31)^(b>>>8|x<<24)^b>>>7),I+=T>>>16,b=P[(S+14)%16],E+=(k=((x=M[(S+14)%16])>>>19|b<<13)^(b>>>29|x<<3)^(x>>>6|b<<26))>>>16,O+=65535&(T=(b>>>19|x<<13)^(x>>>29|b<<3)^b>>>6),I+=T>>>16,I+=(O+=(E+=(C+=65535&k)>>>16)>>>16)>>>16,P[S]=65535&O|I<<16,M[S]=65535&C|E<<16;C=65535&(k=j),E=k>>>16,O=65535&(T=A),I=T>>>16,T=t[0],E+=(k=e[0])>>>16,O+=65535&T,I+=T>>>16,I+=(O+=(E+=(C+=65535&k)>>>16)>>>16)>>>16,t[0]=A=65535&O|I<<16,e[0]=j=65535&C|E<<16,C=65535&(k=z),E=k>>>16,O=65535&(T=R),I=T>>>16,T=t[1],E+=(k=e[1])>>>16,O+=65535&T,I+=T>>>16,I+=(O+=(E+=(C+=65535&k)>>>16)>>>16)>>>16,t[1]=R=65535&O|I<<16,e[1]=z=65535&C|E<<16,C=65535&(k=X),E=k>>>16,O=65535&(T=D),I=T>>>16,T=t[2],E+=(k=e[2])>>>16,O+=65535&T,I+=T>>>16,I+=(O+=(E+=(C+=65535&k)>>>16)>>>16)>>>16,t[2]=D=65535&O|I<<16,e[2]=X=65535&C|E<<16,C=65535&(k=H),E=k>>>16,O=65535&(T=L),I=T>>>16,T=t[3],E+=(k=e[3])>>>16,O+=65535&T,I+=T>>>16,I+=(O+=(E+=(C+=65535&k)>>>16)>>>16)>>>16,t[3]=L=65535&O|I<<16,e[3]=H=65535&C|E<<16,C=65535&(k=Y),E=k>>>16,O=65535&(T=F),I=T>>>16,T=t[4],E+=(k=e[4])>>>16,O+=65535&T,I+=T>>>16,I+=(O+=(E+=(C+=65535&k)>>>16)>>>16)>>>16,t[4]=F=65535&O|I<<16,e[4]=Y=65535&C|E<<16,C=65535&(k=q),E=k>>>16,O=65535&(T=N),I=T>>>16,T=t[5],E+=(k=e[5])>>>16,O+=65535&T,I+=T>>>16,I+=(O+=(E+=(C+=65535&k)>>>16)>>>16)>>>16,t[5]=N=65535&O|I<<16,e[5]=q=65535&C|E<<16,C=65535&(k=W),E=k>>>16,O=65535&(T=B),I=T>>>16,T=t[6],E+=(k=e[6])>>>16,O+=65535&T,I+=T>>>16,I+=(O+=(E+=(C+=65535&k)>>>16)>>>16)>>>16,t[6]=B=65535&O|I<<16,e[6]=W=65535&C|E<<16,C=65535&(k=V),E=k>>>16,O=65535&(T=U),I=T>>>16,T=t[7],E+=(k=e[7])>>>16,O+=65535&T,I+=T>>>16,I+=(O+=(E+=(C+=65535&k)>>>16)>>>16)>>>16,t[7]=U=65535&O|I<<16,e[7]=V=65535&C|E<<16,G+=128,n-=128}return n}function Z(t,e,i){var n,r=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=i;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,K(r,s,e,i),i%=128,n=0;n<i;n++)o[n]=e[a-i+n];for(o[i]=128,o[(i=256-128*(i<112?1:0))-9]=0,f(o,i-8,a/536870912|0,a<<3),K(r,s,o,i),n=0;n<8;n++)f(t,8*n,r[n],s[n]);return 0}function J(t,i){var n=e(),r=e(),s=e(),o=e(),a=e(),h=e(),u=e(),c=e(),d=e();B(n,t[1],t[0]),B(d,i[1],i[0]),U(n,n,d),N(r,t[0],t[1]),N(d,i[0],i[1]),U(r,r,d),U(s,t[3],i[3]),U(s,s,l),U(o,t[2],i[2]),N(o,o,o),B(a,r,n),B(h,o,s),N(u,o,s),N(c,r,n),U(t[0],a,h),U(t[1],c,u),U(t[2],u,h),U(t[3],a,c)}function Q(t,e,i){var n;for(n=0;n<4;n++)A(t[n],e[n],i)}function tt(t,i){var n=e(),r=e(),s=e();z(s,i[2]),U(n,i[0],s),U(r,i[1],s),R(t,r),t[31]^=L(n)<<7}function et(t,e,i){var n,r;for(P(t[0],o),P(t[1],a),P(t[2],a),P(t[3],o),r=255;r>=0;--r)Q(t,e,n=i[r/8|0]>>(7&r)&1),J(e,t),J(t,t),Q(t,e,n)}function it(t,i){var n=[e(),e(),e(),e()];P(n[0],c),P(n[1],d),P(n[2],a),U(n[3],c,d),et(t,n,i)}function nt(t,i,r){var s,o=new Uint8Array(64),a=[e(),e(),e(),e()];for(r||n(i,32),Z(o,i,32),o[0]&=248,o[31]&=127,o[31]|=64,it(a,o),tt(t,a),s=0;s<32;s++)i[s+32]=t[s];return 0}var rt,st=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var i,n,r,s;for(n=63;n>=32;--n){for(i=0,r=n-32,s=n-12;r<s;++r)e[r]+=i-16*e[n]*st[r-(n-32)],i=e[r]+128>>8,e[r]-=256*i;e[r]+=i,e[n]=0}for(i=0,r=0;r<32;r++)e[r]+=i-(e[31]>>4)*st[r],i=e[r]>>8,e[r]&=255;for(r=0;r<32;r++)e[r]-=i*st[r];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function at(t){var e,i=new Float64Array(64);for(e=0;e<64;e++)i[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,i)}function ht(t,i,n,r){var s,o,a=new Uint8Array(64),h=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),c=[e(),e(),e(),e()];Z(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64;var d=n+64;for(s=0;s<n;s++)t[64+s]=i[s];for(s=0;s<32;s++)t[32+s]=a[32+s];for(Z(u,t.subarray(32),n+32),at(u),it(c,u),tt(t,c),s=32;s<64;s++)t[s]=r[s];for(Z(h,t,n+64),at(h),s=0;s<64;s++)l[s]=0;for(s=0;s<32;s++)l[s]=u[s];for(s=0;s<32;s++)for(o=0;o<32;o++)l[s+o]+=h[s]*a[o];return ot(t.subarray(32),l),d}function ut(t,i,n,r){var s,h=new Uint8Array(32),l=new Uint8Array(64),c=[e(),e(),e(),e()],d=[e(),e(),e(),e()];if(n<64)return-1;if(function(t,i){var n=e(),r=e(),s=e(),h=e(),l=e(),c=e(),d=e();return P(t[2],a),F(t[1],i),j(s,t[1]),U(h,s,u),B(s,s,t[2]),N(h,t[2],h),j(l,h),j(c,l),U(d,c,l),U(n,d,s),U(n,n,h),X(n,n),U(n,n,s),U(n,n,h),U(n,n,h),U(t[0],n,h),j(r,t[0]),U(r,r,h),D(r,s)&&U(t[0],t[0],p),j(r,t[0]),U(r,r,h),D(r,s)?-1:(L(t[0])===i[31]>>7&&B(t[0],o,t[0]),U(t[3],t[0],t[1]),0)}(d,r))return-1;for(s=0;s<n;s++)t[s]=i[s];for(s=0;s<32;s++)t[s+32]=r[s];if(Z(l,t,n),at(l),et(c,d,l),it(d,i.subarray(32)),J(c,d),tt(h,c),n-=64,v(i,0,h,0)){for(s=0;s<n;s++)t[s]=0;return-1}for(s=0;s<n;s++)t[s]=i[s+64];return n}function lt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function ct(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function dt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:T,crypto_stream:S,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:w,crypto_onetimeauth:C,crypto_onetimeauth_verify:E,crypto_verify_16:m,crypto_verify_32:v,crypto_secretbox:O,crypto_secretbox_open:I,crypto_scalarmult:H,crypto_scalarmult_base:Y,crypto_box_beforenm:W,crypto_box_afternm:V,crypto_box:function(t,e,i,n,r,s){var o=new Uint8Array(32);return W(o,r,s),V(t,e,i,n,o)},crypto_box_open:function(t,e,i,n,r,s){var o=new Uint8Array(32);return W(o,r,s),G(t,e,i,n,o)},crypto_box_keypair:q,crypto_hash:Z,crypto_sign:ht,crypto_sign_keypair:nt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:st,pack25519:R,unpack25519:F,M:U,A:N,S:j,Z:B,pow2523:X,add:J,set25519:P,modL:ot,scalarmult:et,scalarbase:it},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,i){ct(t,e,i),lt(i,e);for(var n=new Uint8Array(32+t.length),r=new Uint8Array(n.length),s=0;s<t.length;s++)n[s+32]=t[s];return O(r,n,n.length,e,i),r.subarray(16)},t.secretbox.open=function(t,e,i){ct(t,e,i),lt(i,e);for(var n=new Uint8Array(16+t.length),r=new Uint8Array(n.length),s=0;s<t.length;s++)n[s+16]=t[s];return n.length<32||0!==I(r,n,n.length,e,i)?null:r.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(ct(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var i=new Uint8Array(32);return H(i,t,e),i},t.scalarMult.base=function(t){if(ct(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return Y(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,i,n,r){var s=t.box.before(n,r);return t.secretbox(e,i,s)},t.box.before=function(t,e){ct(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var i=new Uint8Array(32);return W(i,t,e),i},t.box.after=t.secretbox,t.box.open=function(e,i,n,r){var s=t.box.before(n,r);return t.secretbox.open(e,i,s)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(ct(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return Y(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(ct(t,e),64!==e.length)throw new Error("bad secret key size");var i=new Uint8Array(64+t.length);return ht(i,t,t.length,e),i},t.sign.open=function(t,e){if(ct(t,e),32!==e.length)throw new Error("bad public key size");var i=new Uint8Array(t.length),n=ut(i,t,t.length,e);if(n<0)return null;for(var r=new Uint8Array(n),s=0;s<r.length;s++)r[s]=i[s];return r},t.sign.detached=function(e,i){for(var n=t.sign(e,i),r=new Uint8Array(64),s=0;s<r.length;s++)r[s]=n[s];return r},t.sign.detached.verify=function(t,e,i){if(ct(t,e,i),64!==e.length)throw new Error("bad signature size");if(32!==i.length)throw new Error("bad public key size");var n,r=new Uint8Array(64+t.length),s=new Uint8Array(64+t.length);for(n=0;n<64;n++)r[n]=e[n];for(n=0;n<t.length;n++)r[n+64]=t[n];return ut(s,r,r.length,i)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(ct(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),i=0;i<e.length;i++)e[i]=t[32+i];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(ct(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),i=new Uint8Array(64),n=0;n<32;n++)i[n]=t[n];return nt(e,i,!0),{publicKey:e,secretKey:i}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){ct(t);var e=new Uint8Array(64);return Z(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return ct(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===g(t,0,e,0,t.length)},t.setPRNG=function(t){n=t},(rt="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&rt.getRandomValues?t.setPRNG((function(t,e){var i,n=new Uint8Array(e);for(i=0;i<e;i+=65536)rt.getRandomValues(n.subarray(i,i+Math.min(e-i,65536)));for(i=0;i<e;i++)t[i]=n[i];dt(n)})):(rt=i(3))&&rt.randomBytes&&t.setPRNG((function(t,e){var i,n=rt.randomBytes(e);for(i=0;i<e;i++)t[i]=n[i];dt(n)}))}(t.exports?t.exports:self.nacl=self.nacl||{})},function(t,i,n){!function(e,i){"use strict";t.exports?t.exports=i():(e.nacl||(e.nacl={}),e.nacl.util=i())}(this,(function(){"use strict";var t={};function i(t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!=typeof t)throw new TypeError("expected string");var e,i=unescape(encodeURIComponent(t)),n=new Uint8Array(i.length);for(e=0;e<i.length;e++)n[e]=i.charCodeAt(e);return n},t.encodeUTF8=function(t){var e,i=[];for(e=0;e<t.length;e++)i.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(i.join("")))},"undefined"==typeof atob?void 0!==e.from?(t.encodeBase64=function(t){return e.from(t).toString("base64")},t.decodeBase64=function(t){return i(t),new Uint8Array(Array.prototype.slice.call(e.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new e(t).toString("base64")},t.decodeBase64=function(t){return i(t),new Uint8Array(Array.prototype.slice.call(new e(t,"base64"),0))}):(t.encodeBase64=function(t){var e,i=[],n=t.length;for(e=0;e<n;e++)i.push(String.fromCharCode(t[e]));return btoa(i.join(""))},t.decodeBase64=function(t){i(t);var e,n=atob(t),r=new Uint8Array(n.length);for(e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}),t}))},function(t,e,i){t.exports=i(4).default},function(t,e){},function(t,e,i){"use strict";i.r(e);for(var n=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,i=this.prefix+e,n=this.name+"["+e+"]",r=!1,s=function(){r||(t.apply(null,arguments),r=!0)};return this[e]=s,{number:e,id:i,name:n,callback:s}},t.prototype.remove=function(t){delete this[t.number]},t}(),r=new n("_pusher_script_","Pusher.ScriptReceivers"),s={VERSION:"5.1.1",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},o=function(){function t(t){this.options=t,this.receivers=t.receivers||r,this.loading={}}return t.prototype.load=function(t,e,i){var n=this;if(n.loading[t]&&n.loading[t].length>0)n.loading[t].push(i);else{n.loading[t]=[i];var r=be.createScriptRequest(n.getPath(t,e)),s=n.receivers.create((function(e){if(n.receivers.remove(s),n.loading[t]){var i=n.loading[t];delete n.loading[t];for(var o=function(t){t||r.cleanup()},a=0;a<i.length;a++)i[a](e,o)}}));r.send(s)}},t.prototype.getRoot=function(t){var e=be.getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}(),a=new n("_pusher_dependencies","Pusher.DependenciesReceivers"),h=new o({cdn_http:s.cdn_http,cdn_https:s.cdn_https,version:s.VERSION,suffix:s.dependency_suffix,receivers:a}),u=String.fromCharCode,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c={},d=0,p=l.length;d<p;d++)c[l.charAt(d)]=d;var f,g=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?u(192|e>>>6)+u(128|63&e):u(224|e>>>12&15)+u(128|e>>>6&63)+u(128|63&e)},m=function(t){return t.replace(/[^\x00-\x7F]/g,g)},v=function(t){var e=[0,2,1][t.length%3],i=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[l.charAt(i>>>18),l.charAt(i>>>12&63),e>=2?"=":l.charAt(i>>>6&63),e>=1?"=":l.charAt(63&i)].join("")},y=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,v)},_=function(){function t(t,e,i,n){var r=this;this.clear=e,this.timer=t((function(){r.timer&&(r.timer=n(r.timer))}),i)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),b=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function x(t){window.clearTimeout(t)}function w(t){window.clearInterval(t)}var S=function(t){function e(e,i){return t.call(this,setTimeout,x,e,(function(t){return i(),null}))||this}return b(e,t),e}(_),T=function(t){function e(e,i){return t.call(this,setInterval,w,e,(function(t){return i(),t}))||this}return b(e,t),e}(_),k={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new S(0,t)},method:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,n.concat(arguments))}}};function C(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++){var r=e[n];for(var s in r)r[s]&&r[s].constructor&&r[s].constructor===Object?t[s]=C(t[s]||{},r[s]):t[s]=r[s]}return t}function E(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(B(arguments[e]));return t.join(" : ")}function O(t,e){var i=Array.prototype.indexOf;if(null===t)return-1;if(i&&t.indexOf===i)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function I(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)}function P(t){var e=[];return I(t,(function(t,i){e.push(i)})),e}function M(t,e,i){for(var n=0;n<t.length;n++)e.call(i||window,t[n],n,t)}function A(t,e){for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n,t,i));return i}function R(t,e){e=e||function(t){return!!t};for(var i=[],n=0;n<t.length;n++)e(t[n],n,t,i)&&i.push(t[n]);return i}function D(t,e){var i={};return I(t,(function(n,r){(e&&e(n,r,t,i)||Boolean(n))&&(i[r]=n)})),i}function L(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return!0;return!1}function F(t){return e=function(t){return"object"==typeof t&&(t=B(t)),encodeURIComponent((e=t.toString(),y(m(e))));var e},i={},I(t,(function(t,n){i[n]=e(t)})),i;var e,i}function N(t){var e,i,n=D(t,(function(t){return void 0!==t}));return A((e=F(n),i=[],I(e,(function(t,e){i.push([e,t])})),i),k.method("join","=")).join("&")}function B(t){try{return JSON.stringify(t)}catch(n){return JSON.stringify((e=[],i=[],function t(n,r){var s,o,a;switch(typeof n){case"object":if(!n)return null;for(s=0;s<e.length;s+=1)if(e[s]===n)return{$ref:i[s]};if(e.push(n),i.push(r),"[object Array]"===Object.prototype.toString.apply(n))for(a=[],s=0;s<n.length;s+=1)a[s]=t(n[s],r+"["+s+"]");else for(o in a={},n)Object.prototype.hasOwnProperty.call(n,o)&&(a[o]=t(n[o],r+"["+JSON.stringify(o)+"]"));return a;case"number":case"string":case"boolean":return n}}(t,"$")))}var e,i}var U=new(function(){function t(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLog,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogWarn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogError,t)},t.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},t.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},t.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=E.apply(this,arguments);if(Ie.log)Ie.log(n);else if(Ie.logToConsole){var r=t.bind(this);r(n)}},t}()),j={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"}}},z=function(t){var e,i=j.urls[t];return i?(i.fullUrl?e=i.fullUrl:i.path&&(e=j.baseUrl+i.path),e?"See: "+e:""):""},X=function(t,e,i){var n,r=this;for(var s in(n=be.createXHR()).open("POST",r.options.authEndpoint,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)n.setRequestHeader(s,this.authOptions.headers[s]);return n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var t,e=!1;try{t=JSON.parse(n.responseText),e=!0}catch(t){i(!0,"JSON returned from auth endpoint was invalid, yet status code was 200. Data was: "+n.responseText)}e&&i(!1,t)}else{var s=z("authenticationEndpoint");U.error("Unable to retrieve auth string from auth endpoint - received status "+n.status+" from "+r.options.authEndpoint+". Clients must be authenticated to join private or presence channels. "+s),i(!0,n.status)}},n.send(this.composeQuery(e)),n},H=function(t,e,i){void 0!==this.authOptions.headers&&U.warn("To send headers with the auth request, you must use AJAX, rather than JSONP.");var n=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var r=t.getDocument(),s=r.createElement("script");t.auth_callbacks[n]=function(t){i(!1,t)};var o="Pusher.auth_callbacks['"+n+"']";s.src=this.options.authEndpoint+"?callback="+encodeURIComponent(o)+"&"+this.composeQuery(e);var a=r.getElementsByTagName("head")[0]||r.documentElement;a.insertBefore(s,a.firstChild)},Y=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,i="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(i)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+i+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var n=document.getElementsByTagName("head")[0];n.insertBefore(e.script,n.firstChild),e.errorScript&&n.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),q=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=N(this.data),i=this.url+"/"+t.number+"?"+e;this.request=be.createScriptRequest(i),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),W={name:"jsonp",getAgent:function(t,e){return function(i,n){var s="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,o=be.createJSONPRequest(s,i),a=be.ScriptReceivers.create((function(e,i){r.remove(a),o.cleanup(),i&&i.host&&(t.host=i.host),n&&n(e,i)}));o.send(a)}}};function V(t,e,i){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+i}function G(t,e){return"/app/"+t+"?protocol="+s.PROTOCOL+"&client=js&version="+s.VERSION+(e?"&"+e:"")}var $={getInitial:function(t,e){return V("ws",e,(e.httpPath||"")+G(t,"flash=false"))}},K={getInitial:function(t,e){return V("http",e,(e.httpPath||"/pusher")+G(t))}},Z={getInitial:function(t,e){return V("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return G(t)}},J=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[Q(t)]},t.prototype.add=function(t,e,i){var n=Q(t);this._callbacks[n]=this._callbacks[n]||[],this._callbacks[n].push({fn:e,context:i})},t.prototype.remove=function(t,e,i){if(t||e||i){var n=t?[Q(t)]:P(this._callbacks);e||i?this.removeCallback(n,e,i):this.removeAllCallbacks(n)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,i){M(t,(function(t){this._callbacks[t]=R(this._callbacks[t]||[],(function(t){return e&&e!==t.fn||i&&i!==t.context})),0===this._callbacks[t].length&&delete this._callbacks[t]}),this)},t.prototype.removeAllCallbacks=function(t){M(t,(function(t){delete this._callbacks[t]}),this)},t}();function Q(t){return"_"+t}var tt=function(){function t(t){this.callbacks=new J,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,i){return this.callbacks.add(t,e,i),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,i){return this.callbacks.remove(t,e,i),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=R(this.global_callbacks||[],(function(e){return e!==t})),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e,i){for(var n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var r=this.callbacks.get(t),s=[];if(i?s.push(e,i):e&&s.push(e),r&&r.length>0)for(n=0;n<r.length;n++)r[n].fn.apply(r[n].context||window,s);else this.failThrough&&this.failThrough(t,e);return this},t}(),et=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),it=function(t){function e(e,i,n,r,s){var o=t.call(this)||this;return o.initialize=be.transportConnectionInitializer,o.hooks=e,o.name=i,o.priority=n,o.key=r,o.options=s,o.state="new",o.timeline=s.timeline,o.activityTimeout=s.activityTimeout,o.id=o.timeline.generateUniqueID(),o}return et(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return k.defer((function(){t.onError(e),t.changeState("closed")})),!1}return this.bindListeners(),U.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(k.defer((function(){e.socket&&e.socket.send(t)})),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return C({cid:this.id},t)},e}(tt),nt=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,i,n){return new it(this.hooks,t,e,i,n)},t}(),rt=new nt({urls:$,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(be.getWebSocketAPI())},isSupported:function(){return Boolean(be.getWebSocketAPI())},getSocket:function(t){return be.createWebSocket(t)}}),st={urls:K,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ot=C({getSocket:function(t){return be.HTTPFactory.createStreamingSocket(t)}},st),at=C({getSocket:function(t){return be.HTTPFactory.createPollingSocket(t)}},st),ht={isSupported:function(){return be.isXHRSupported()}},ut={ws:rt,xhr_streaming:new nt(C({},ot,ht)),xhr_polling:new nt(C({},at,ht))},lt=new nt({file:"sockjs",urls:Z,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:h.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),ct={isSupported:function(t){return be.isXDRSupported(t.useTLS)}},dt=new nt(C({},ot,ct)),pt=new nt(C({},at,ct));ut.xdr_streaming=dt,ut.xdr_polling=pt,ut.sockjs=lt;var ft=ut,gt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),mt=new(function(t){function e(){var e=t.call(this)||this,i=e;return void 0!==window.addEventListener&&(window.addEventListener("online",(function(){i.emit("online")}),!1),window.addEventListener("offline",(function(){i.emit("offline")}),!1)),e}return gt(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(tt)),vt=function(){function t(t,e,i){this.manager=t,this.transport=e,this.minPingDelay=i.minPingDelay,this.maxPingDelay=i.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,i,n){var r=this;n=C({},n,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(t,e,i,n),o=null,a=function(){s.unbind("open",a),s.bind("closed",h),o=k.now()},h=function(t){if(s.unbind("closed",h),1002===t.code||1003===t.code)r.manager.reportDeath();else if(!t.wasClean&&o){var e=k.now()-o;e<2*r.maxPingDelay&&(r.manager.reportDeath(),r.pingDelay=Math.max(e/2,r.minPingDelay))}};return s.bind("open",a),s},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}(),yt={decodeMessage:function(t){try{var e=JSON.parse(t.data),i=e.data;if("string"==typeof i)try{i=JSON.parse(e.data)}catch(t){}var n={event:e.event,channel:e.channel,data:i};return e.user_id&&(n.user_id=e.user_id),n}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=yt.decodeMessage(t);if("pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},_t=yt,bt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),xt=function(t){function e(e,i){var n=t.call(this)||this;return n.id=e,n.transport=i,n.activityTimeout=i.activityTimeout,n.bindListeners(),n}return bt(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,i){var n={event:t,data:e};return i&&(n.channel=i),U.debug("Event sent",n),this.send(_t.encodeMessage(n))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var i;try{i=_t.decodeMessage(e)}catch(i){t.emit("error",{type:"MessageParseError",error:i,data:e.data})}if(void 0!==i){switch(U.debug("Event recd",i),i.event){case"pusher:error":t.emit("error",{type:"PusherError",data:i.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",i)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){i(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},i=function(){I(e,(function(e,i){t.transport.unbind(i,e)}))};I(e,(function(e,i){t.transport.bind(i,e)}))},e.prototype.handleCloseEvent=function(t){var e=_t.getCloseAction(t),i=_t.getCloseError(t);i&&this.emit("error",i),e&&this.emit(e,{action:e,error:i})},e}(tt),wt=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var i;t.unbindListeners();try{i=_t.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===i.action?t.finish("connected",{connection:new xt(i.id,t.transport),activityTimeout:i.activityTimeout}):(t.finish(i.action,{error:i.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var i=_t.getCloseAction(e)||"backoff",n=_t.getCloseError(e);t.finish(i,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(C({transport:this.transport,action:t},e))},t}(),St=function(){function t(t,e){this.channel=t;var i=e.authTransport;if(void 0===be.getAuthorizers()[i])throw"'"+i+"' is not a recognized auth transport";this.type=i,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var i in this.authOptions.params)e+="&"+encodeURIComponent(i)+"="+encodeURIComponent(this.authOptions.params[i]);return e},t.prototype.authorize=function(e,i){t.authorizers=t.authorizers||be.getAuthorizers(),t.authorizers[this.type].call(this,be,e,i)},t}(),Tt=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(be.TimelineTransport.getAgent(this,t),e)},t}(),kt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ct=function(t){function e(e){var i=this.constructor,n=t.call(this,e)||this;return Object.setPrototypeOf(n,i.prototype),n}return kt(e,t),e}(Error),Et=function(t){function e(e){var i=this.constructor,n=t.call(this,e)||this;return Object.setPrototypeOf(n,i.prototype),n}return kt(e,t),e}(Error),Ot=function(t){function e(e){var i=this.constructor,n=t.call(this,e)||this;return Object.setPrototypeOf(n,i.prototype),n}return kt(e,t),e}(Error),It=function(t){function e(e){var i=this.constructor,n=t.call(this,e)||this;return Object.setPrototypeOf(n,i.prototype),n}return kt(e,t),e}(Error),Pt=function(t){function e(e){var i=this.constructor,n=t.call(this,e)||this;return Object.setPrototypeOf(n,i.prototype),n}return kt(e,t),e}(Error),Mt=function(t){function e(e){var i=this.constructor,n=t.call(this,e)||this;return Object.setPrototypeOf(n,i.prototype),n}return kt(e,t),e}(Error),At=function(t){function e(e){var i=this.constructor,n=t.call(this,e)||this;return Object.setPrototypeOf(n,i.prototype),n}return kt(e,t),e}(Error),Rt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Dt=function(t){function e(e,i){var n=t.call(this,(function(t,i){U.debug("No callbacks on "+e+" for "+t)}))||this;return n.name=e,n.pusher=i,n.subscribed=!1,n.subscriptionPending=!1,n.subscriptionCancelled=!1,n}return Rt(e,t),e.prototype.authorize=function(t,e){return e(!1,{auth:""})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new Ct("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var i=z("triggeringClientEvents");U.warn("Client event triggered before channel 'subscription_succeeded' event . "+i)}return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t){var e=t.event,i=t.data;"pusher_internal:subscription_succeeded"===e?this.handleSubscriptionSucceededEvent(t):0!==e.indexOf("pusher_internal:")&&this.emit(e,i,{})},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(e,i){e?(U.error(i),t.emit("pusher:subscription_error",i)):(i=i,t.pusher.send_event("pusher:subscribe",{auth:i.auth,channel_data:i.channel_data,channel:t.name}))})))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(tt),Lt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e.prototype.authorize=function(t,e){return Vt.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(Dt),Nt=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;I(this.members,(function(i,n){t(e.get(n))}))},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),Bt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ut=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.members=new Nt,n}return Bt(e,t),e.prototype.authorize=function(e,i){var n=this;t.prototype.authorize.call(this,e,(function(t,e){if(!t){if(void 0===(e=e).channel_data){var r=z("authenticationEndpoint");return U.error("Invalid auth response for channel '"+n.name+"',expected 'channel_data' field. "+r),void i("Invalid auth response")}var s=JSON.parse(e.channel_data);n.members.setMyID(s.user_id)}i(t,e)}))},e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var i=t.data,n={};t.user_id&&(n.user_id=t.user_id),this.emit(e,i,n)}},e.prototype.handleInternalEvent=function(t){var e=t.event,i=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:member_added":var n=this.members.addMember(i);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var r=this.members.removeMember(i);r&&this.emit("pusher:member_removed",r)}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(Ft),jt=i(0),zt=i(1),Xt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ht=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key=null,e}return Xt(e,t),e.prototype.authorize=function(e,i){var n=this;t.prototype.authorize.call(this,e,(function(t,e){if(t)i(!0,e);else{var r=e.shared_secret;if(r)n.key=Object(zt.decodeBase64)(r),delete e.shared_secret,i(!1,e);else{var s="No shared_secret key in auth payload for encrypted channel: "+n.name;i(!0,s)}}}))},e.prototype.trigger=function(t,e){throw new Pt("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(e){var i=e.event,n=e.data;0!==i.indexOf("pusher_internal:")&&0!==i.indexOf("pusher:")?this.handleEncryptedEvent(i,n):t.prototype.handleEvent.call(this,e)},e.prototype.handleEncryptedEvent=function(t,e){var i=this;if(this.key)if(e.ciphertext&&e.nonce){var n=Object(zt.decodeBase64)(e.ciphertext);if(n.length<jt.secretbox.overheadLength)U.error("Expected encrypted event ciphertext length to be "+jt.secretbox.overheadLength+", got: "+n.length);else{var r=Object(zt.decodeBase64)(e.nonce);if(r.length<jt.secretbox.nonceLength)U.error("Expected encrypted event nonce length to be "+jt.secretbox.nonceLength+", got: "+r.length);else{var s=jt.secretbox.open(n,r,this.key);if(null===s)return U.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(function(e,o){e?U.error("Failed to make a request to the authEndpoint: "+o+". Unable to fetch new key, so dropping encrypted event"):null!==(s=jt.secretbox.open(n,r,i.key))?i.emitJSON(t,Object(zt.encodeUTF8)(s)):U.error("Failed to decrypt event with new key. Dropping encrypted event")}));this.emitJSON(t,Object(zt.encodeUTF8)(s))}}}else U.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);else U.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.emitJSON=function(t,e){try{this.emit(t,JSON.parse(e))}catch(i){this.emit(t,e)}return this},e}(Ft),Yt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qt=function(t){function e(e,i){var n=t.call(this)||this;n.key=e,n.options=i||{},n.state="initialized",n.connection=null,n.usingTLS=!!i.useTLS,n.timeline=n.options.timeline,n.errorCallbacks=n.buildErrorCallbacks(),n.connectionCallbacks=n.buildConnectionCallbacks(n.errorCallbacks),n.handshakeCallbacks=n.buildHandshakeCallbacks(n.errorCallbacks);var r=be.getNetwork();return r.bind("online",(function(){n.timeline.info({netinfo:"online"}),"connecting"!==n.state&&"unavailable"!==n.state||n.retryIn(0)})),r.bind("offline",(function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()})),n.updateStrategy(),n}return Yt(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,i){return!!this.connection&&this.connection.send_event(t,e,i)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var t=this,e=function(i,n){i?t.runner=t.strategy.connect(0,e):"error"===n.action?(t.emit("error",{type:"HandshakeError",error:n.error}),t.timeline.error({handshakeError:n.error})):(t.abortConnecting(),t.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new S(t||0,(function(){e.disconnectInternally(),e.connect()}))},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new S(this.options.unavailableTimeout,(function(){t.updateState("unavailable")}))},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new S(this.options.pongTimeout,(function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)}))},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new S(this.activityTimeout,(function(){t.sendActivityCheck()})))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(t){var e=this;return C({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return C({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(i){i.error&&t.emit("error",{type:"WebSocketError",error:i.error}),e(i)}};return{tls_only:e((function(){t.usingTLS=!0,t.updateStrategy(),t.retryIn(0)})),refused:e((function(){t.disconnect()})),backoff:e((function(){t.retryIn(1e3)})),retry:e((function(){t.retryIn(0)}))}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var i=this.state;if(this.state=t,i!==t){var n=t;"connected"===n&&(n+=" with new socket ID "+e.socket_id),U.debug("State changed",i+" -> "+n),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:i,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(tt),Wt=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){return 0===t.indexOf("private-encrypted-")?Vt.createEncryptedChannel(t,e):0===t.indexOf("private-")?Vt.createPrivateChannel(t,e):0===t.indexOf("presence-")?Vt.createPresenceChannel(t,e):Vt.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return function(t){var e=[];return I(t,(function(t){e.push(t)})),e}(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){I(this.channels,(function(t){t.disconnect()}))},t}(),Vt={createChannels:function(){return new Wt},createConnectionManager:function(t,e){return new qt(t,e)},createChannel:function(t,e){return new Dt(t,e)},createPrivateChannel:function(t,e){return new Ft(t,e)},createPresenceChannel:function(t,e){return new Ut(t,e)},createEncryptedChannel:function(t,e){return new Ht(t,e)},createTimelineSender:function(t,e){return new Tt(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new St(t,e)},createHandshake:function(t,e){return new wt(t,e)},createAssistantToTheTransportManager:function(t,e,i){return new vt(t,e,i)}},Gt=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return Vt.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),$t=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return L(this.strategies,k.method("isSupported"))},t.prototype.connect=function(t,e){var i=this,n=this.strategies,r=0,s=this.timeout,o=null,a=function(h,u){u?e(null,u):(r+=1,i.loop&&(r%=n.length),r<n.length?(s&&(s*=2,i.timeoutLimit&&(s=Math.min(s,i.timeoutLimit))),o=i.tryStrategy(n[r],t,{timeout:s,failFast:i.failFast},a)):e(!0))};return o=this.tryStrategy(n[r],t,{timeout:s,failFast:this.failFast},a),{abort:function(){o.abort()},forceMinPriority:function(e){t=e,o&&o.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,i,n){var r=null,s=null;return i.timeout>0&&(r=new S(i.timeout,(function(){s.abort(),n(!0)}))),s=t.connect(e,(function(t,e){t&&r&&r.isRunning()&&!i.failFast||(r&&r.ensureAborted(),n(t,e))})),{abort:function(){r&&r.ensureAborted(),s.abort()},forceMinPriority:function(t){s.forceMinPriority(t)}}},t}(),Kt=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return L(this.strategies,k.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,i){var n=A(t,(function(t,n,r,s){return t.connect(e,i(n,s))}));return{abort:function(){M(n,Zt)},forceMinPriority:function(t){M(n,(function(e){e.forceMinPriority(t)}))}}}(this.strategies,t,(function(t,i){return function(n,r){i[t].error=n,n?function(t){return function(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i,t))return!1;return!0}(t,(function(t){return Boolean(t.error)}))}(i)&&e(!0):(M(i,(function(t){t.forceMinPriority(r.transport.priority)})),e(null,r))}}))},t}();function Zt(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var Jt=function(){function t(t,e,i){this.strategy=t,this.transports=e,this.ttl=i.ttl||18e5,this.usingTLS=i.useTLS,this.timeline=i.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var i=this.usingTLS,n=function(t){var e=be.getLocalStorage();if(e)try{var i=e[Qt(t)];if(i)return JSON.parse(i)}catch(e){te(t)}return null}(i),r=[this.strategy];if(n&&n.timestamp+this.ttl>=k.now()){var s=this.transports[n.transport];s&&(this.timeline.info({cached:!0,transport:n.transport,latency:n.latency}),r.push(new $t([s],{timeout:2*n.latency+1e3,failFast:!0})))}var o=k.now(),a=r.pop().connect(t,(function n(s,h){s?(te(i),r.length>0?(o=k.now(),a=r.pop().connect(t,n)):e(s)):(function(t,e,i){var n=be.getLocalStorage();if(n)try{n[Qt(t)]=B({timestamp:k.now(),transport:e,latency:i})}catch(t){}}(i,h.transport.name,k.now()-o),e(null,h))}));return{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t}();function Qt(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function te(t){var e=be.getLocalStorage();if(e)try{delete e[Qt(t)]}catch(t){}}var ee=function(){function t(t,e){var i=e.delay;this.strategy=t,this.options={delay:i}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var i,n=this.strategy,r=new S(this.options.delay,(function(){i=n.connect(t,e)}));return{abort:function(){r.ensureAborted(),i&&i.abort()},forceMinPriority:function(e){t=e,i&&i.forceMinPriority(e)}}},t}(),ie=function(){function t(t,e,i){this.test=t,this.trueBranch=e,this.falseBranch=i}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}(),ne=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var i=this.strategy.connect(t,(function(t,n){n&&i.abort(),e(t,n)}));return i},t}();function re(t){return function(){return t.isSupported()}}var se,oe=function(t,e){var i={};function n(n,r,s,o,a){var h=e(t,n,r,s,o,a);return i[n]=h,h}var r,s={hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath},o=C({},s,{useTLS:!0}),a={hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath},h={loop:!0,timeout:15e3,timeoutLimit:6e4},u=new Gt({lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}),l=new Gt({lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}),c=n("ws","ws",3,s,u),d=n("wss","ws",3,o,u),p=n("sockjs","sockjs",1,a),f=n("xhr_streaming","xhr_streaming",1,a,l),g=n("xdr_streaming","xdr_streaming",1,a,l),m=n("xhr_polling","xhr_polling",1,a),v=n("xdr_polling","xdr_polling",1,a),y=new $t([c],h),_=new $t([d],h),b=new $t([p],h),x=new $t([new ie(re(f),f,g)],h),w=new $t([new ie(re(m),m,v)],h),S=new $t([new ie(re(x),new Kt([x,new ee(w,{delay:4e3})]),w)],h),T=new ie(re(S),S,b);return r=t.useTLS?new Kt([y,new ee(T,{delay:2e3})]):new Kt([y,new ee(_,{delay:2e3}),new ee(T,{delay:5e3})]),new Jt(new ne(new ie(re(c),r,T)),i,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},ae={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new Et),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},he=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ue=function(t){function e(e,i,n){var r=t.call(this)||this;return r.hooks=e,r.method=i,r.url=n,r}return he(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},be.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(be.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var i=this.advanceBuffer(e);if(!i)break;this.emit("chunk",{status:t,data:i})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),i=e.indexOf("\n");return-1!==i?(this.position+=i+1,e.slice(0,i)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(tt);!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(se||(se={}));var le=se,ce=1;function de(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+ce++}function pe(t){return Math.floor(Math.random()*t)}var fe,ge=function(){function t(t,e){this.hooks=t,this.session=pe(1e3)+"/"+function(t){for(var e=[],i=0;i<t;i++)e.push(pe(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=le.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==le.OPEN)return!1;try{return be.createSocketRequest("POST",de((e=this.location,i=this.session,e.base+"/"+i+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,i},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,i){this.closeStream(),this.readyState=le.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:i})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===le.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var i=0;i<e.length;i++)this.onEvent(e[i]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,i,n;this.readyState===le.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,i=t.hostname,(n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+i+n[3])),this.readyState=le.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===le.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=be.createSocketRequest("POST",de(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(function(e){t.onChunk(e)})),this.stream.bind("finished",(function(e){t.hooks.onFinished(t,e)})),this.stream.bind("buffer_too_long",(function(){t.reconnect()}));try{this.stream.start()}catch(e){k.defer((function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)}))}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}(),me={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},ve={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},ye={getRequest:function(t){var e=new(be.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},_e={createStreamingSocket:function(t){return this.createSocket(me,t)},createPollingSocket:function(t){return this.createSocket(ve,t)},createSocket:function(t,e){return new ge(t,e)},createXHR:function(t,e){return this.createRequest(ye,t,e)},createRequest:function(t,e,i){return new ue(t,e,i)},createXDR:function(t,e){return this.createRequest(ae,t,e)}},be={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:r,DependenciesReceivers:a,getDefaultStrategy:oe,Transports:ft,transportConnectionInitializer:function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),h.load(t.hooks.file,{useTLS:t.options.useTLS},(function(e,i){t.hooks.isInitialized()?(t.changeState("initialized"),i(!0)):(e&&t.onError(e),t.onClose(),i(!1))}))):t.onClose()},HTTPFactory:_e,TimelineTransport:W,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var i=function(){e.onDocumentBody(t.ready)};window.JSON?i():h.load("json2",{},i)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:X,jsonp:H}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout((function(){e.onDocumentBody(t)}),0)},createJSONPRequest:function(t,e){return new q(t,e)},createScriptRequest:function(t){return new Y(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return mt},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",i=this.getProtocol();return Boolean(window.XDomainRequest)&&i===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(fe||(fe={}));var xe=fe,we=function(){function t(t,e,i){this.key=t,this.session=e,this.events=[],this.options=i||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(C({},e,{timestamp:k.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(xe.ERROR,t)},t.prototype.info=function(t){this.log(xe.INFO,t)},t.prototype.debug=function(t){this.log(xe.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var i=this,n=C({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(n,(function(t,n){t||i.sent++,e&&e(t,n)})),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),Se=function(){function t(t,e,i,n){this.name=t,this.priority=e,this.transport=i,this.options=n||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(t,e){var i=this;if(!this.isSupported())return Te(new At,e);if(this.priority<t)return Te(new Ot,e);var n=!1,r=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),s=null,o=function(){r.unbind("initialized",o),r.connect()},a=function(){s=Vt.createHandshake(r,(function(t){n=!0,l(),e(null,t)}))},h=function(t){l(),e(t)},u=function(){var t;l(),t=B(r),e(new It(t))},l=function(){r.unbind("initialized",o),r.unbind("open",a),r.unbind("error",h),r.unbind("closed",u)};return r.bind("initialized",o),r.bind("open",a),r.bind("error",h),r.bind("closed",u),r.initialize(),{abort:function(){n||(l(),s?s.close():r.close())},forceMinPriority:function(t){n||i.priority<t&&(s?s.close():r.close())}}},t}();function Te(t,e){return k.defer((function(){e(t)})),{abort:function(){},forceMinPriority:function(){}}}var ke=be.Transports,Ce=function(t,e,i,n,r,s){var o=ke[i];if(!o)throw new Mt(i);return t.enabledTransports&&-1===O(t.enabledTransports,e)||t.disabledTransports&&-1!==O(t.disabledTransports,e)?Ee:new Se(e,n,s?s.getAssistant(o):o,C({key:t.key,useTLS:t.useTLS,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},r))},Ee={isSupported:function(){return!1},connect:function(t,e){var i=k.defer((function(){e(new At)}));return{abort:function(){i.ensureAborted()},forceMinPriority:function(){}}}},Oe=function(){function t(e,i){var n,r=this;if(function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(e),!(i=i||{}).cluster&&!i.wsHost&&!i.httpHost){var o=z("javascriptQuickStart");U.warn("You should always specify a cluster when connecting. "+o)}"disableStats"in i&&(U.warn("The disableStats option is deprecated in favor of enableStats"),"enableStats"in i||(i.enableStats=!i.disableStats)),this.key=e,this.config=C({wsHost:s.host,wsPort:s.ws_port,wssPort:s.wss_port,wsPath:s.ws_path,httpHost:s.sockjs_host,httpPort:s.sockjs_http_port,httpsPort:s.sockjs_https_port,httpPath:s.sockjs_path,statsHost:s.stats_host,authEndpoint:s.channel_auth_endpoint,authTransport:s.channel_auth_transport,activity_timeout:s.activity_timeout,pong_timeout:s.pong_timeout,unavailable_timeout:s.unavailable_timeout},i.cluster?{wsHost:"ws-"+(n=i.cluster)+".pusher.com",httpHost:"sockjs-"+n+".pusher.com"}:{},i),this.channels=Vt.createChannels(),this.global_emitter=new tt,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new we(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:xe.INFO,version:s.VERSION}),this.config.enableStats&&(this.timelineSender=Vt.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+be.TimelineTransport.name})),this.connection=Vt.createConnectionManager(this.key,C({getStrategy:function(t){var e=C({},r.config,t);return be.getDefaultStrategy(e,Ce)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{useTLS:this.shouldUseTLS()})),this.connection.bind("connected",(function(){r.subscribeAll(),r.timelineSender&&r.timelineSender.send(r.connection.isUsingTLS())})),this.connection.bind("message",(function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var i=r.channel(t.channel);i&&i.handleEvent(t)}e||r.global_emitter.emit(t.event,t.data)})),this.connection.bind("connecting",(function(){r.channels.disconnect()})),this.connection.bind("disconnected",(function(){r.channels.disconnect()})),this.connection.bind("error",(function(t){U.warn(t)})),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,i=t.instances.length;e<i;e++)t.instances[e].connect()},t.getClientFeatures=function(){return P(D({ws:be.Transports.ws},(function(t){return t.isSupported({})})))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new T(6e4,(function(){e.send(t)}))}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,i){return this.global_emitter.bind(t,e,i),this},t.prototype.unbind=function(t,e,i){return this.global_emitter.unbind(t,e,i),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,i){return this.connection.send_event(t,e,i)},t.prototype.shouldUseTLS=function(){return"https:"===be.getProtocol()||!0===this.config.forceTLS||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=be,t.ScriptReceivers=be.ScriptReceivers,t.DependenciesReceivers=be.DependenciesReceivers,t.auth_callbacks=be.auth_callbacks,t}(),Ie=e.default=Oe;be.setup(Oe)}])},t.exports=i()}).call(this,i("tjlA").Buffer)},eQ3s:function(t,e,i){"use strict";var n=i("msCR");n.c.prototype.name=null,n.b.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},endd:function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},eqyj:function(t,e,i){"use strict";var n=i("xTJ+");t.exports=n.isStandardBrowserEnv()?{write:function(t,e,i,r,s,o){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),n.isString(r)&&a.push("path="+r),n.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},fWtX:function(t,e,i){"use strict";var n=i("5OK5");i.n(n).a},fZkZ:function(t,e,i){"use strict";var n=i("WHtL");i.n(n).a},fm59:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".overlay-controls[data-v-148a1c13] {\n  opacity: 0.6;\n  z-index: 999;\n  position: absolute;\n  bottom: 0;\n}\n.overlay-controls.are-directional[data-v-148a1c13] {\n  left: 0;\n}\n.overlay-controls.are-functional[data-v-148a1c13] {\n  right: 0;\n}",""])},fqrp:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("0/xZ"),r=i("qoEl"),s=i("wp0G"),o=i("SrKC"),a=i("msCR"),h=i("sKAn"),u=new n.g,l=new Uint16Array([0,1,2,0,2,3]),c=function(t){function e(e){t.call(this),this._anchor=new n.e(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=o.b.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||s.E.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=l,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=h.b.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Object(r.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Object(r.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,n=e.b,r=e.c,s=e.d,o=e.tx,a=e.ty,u=this.vertexData,l=t.trim,c=t.orig,d=this._anchor,p=0,f=0,g=0,m=0;if(l?(p=(f=l.x-d._x*c.width)+l.width,g=(m=l.y-d._y*c.height)+l.height):(p=(f=-d._x*c.width)+c.width,g=(m=-d._y*c.height)+c.height),u[0]=i*f+r*m+o,u[1]=s*m+n*f+a,u[2]=i*p+r*m+o,u[3]=s*m+n*p+a,u[4]=i*p+r*g+o,u[5]=s*g+n*p+a,u[6]=i*f+r*g+o,u[7]=s*g+n*f+a,this._roundPixels)for(var v=h.b.RESOLUTION,y=0;y<u.length;++y)u[y]=Math.round((u[y]*v|0)/v)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,n=this._anchor,r=this.transform.worldTransform,s=r.a,o=r.b,a=r.c,h=r.d,u=r.tx,l=r.ty,c=-n._x*i.width,d=c+i.width,p=-n._y*i.height,f=p+i.height;e[0]=s*c+a*p+u,e[1]=h*p+o*c+l,e[2]=s*d+a*p+u,e[3]=h*p+o*d+l,e[4]=s*d+a*f+u,e[5]=h*f+o*d+l,e[6]=s*c+a*f+u,e[7]=h*f+o*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new n.j),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._texture.orig.width,i=this._texture.orig.height,n=-e*this.anchor.x,r=0;return u.x>=n&&u.x<n+e&&(r=-i*this.anchor.y,u.y>=r&&u.y<r+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function(t,i){return new e(t instanceof s.E?t:s.E.from(t,i))},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){var e=Object(r.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){var e=Object(r.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){this._anchor.copyFrom(t)},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},i.texture.get=function(){return this._texture},i.texture.set=function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||s.E.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,i),e}(a.b)},g7np:function(t,e,i){"use strict";var n=i("2SVd"),r=i("5oMp");t.exports=function(t,e){return t&&!n(e)?r(t,e):e}},gXc8:function(t,e,i){var n=i("mWmK");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},"h+G0":function(t,e,i){"use strict";var n=i("t/YF");i.n(n).a},hqlY:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".notification.is-drop[data-v-31050494] {\n  opacity: 0.8;\n  -webkit-animation: deep-bounce-data-v-31050494 0.4s;\n          animation: deep-bounce-data-v-31050494 0.4s;\n}\n.notification.is-transparent[data-v-31050494] {\n  background-color: transparent;\n}\n.image.is-100x100[data-v-31050494] {\n  height: 100px;\n  width: 100px;\n}\n.material-enter-active[data-v-31050494] {\n  -webkit-animation: fade-in-data-v-31050494 0.4s;\n          animation: fade-in-data-v-31050494 0.4s;\n}\n.material-leave-active[data-v-31050494] {\n  -webkit-animation: fade-out-data-v-31050494 0.5s;\n          animation: fade-out-data-v-31050494 0.5s;\n}\n@-webkit-keyframes fade-in-data-v-31050494 {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 0.8;\n}\n}\n@keyframes fade-in-data-v-31050494 {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 0.8;\n}\n}\n@-webkit-keyframes fade-out-data-v-31050494 {\nfrom {\n    opacity: 0.8;\n}\nto {\n    opacity: 0;\n}\n}\n@keyframes fade-out-data-v-31050494 {\nfrom {\n    opacity: 0.8;\n}\nto {\n    opacity: 0;\n}\n}\n@-webkit-keyframes deep-bounce-data-v-31050494 {\n0% {\n    transform: translateY(50px) scale(0);\n}\n80% {\n    transform: translateY(-10px) scale(1.2);\n}\n100% {\n    transform: translateY(0) scale(1);\n}\n}\n@keyframes deep-bounce-data-v-31050494 {\n0% {\n    transform: translateY(50px) scale(0);\n}\n80% {\n    transform: translateY(-10px) scale(1.2);\n}\n100% {\n    transform: translateY(0) scale(1);\n}\n}",""])},hrEP:function(t,e,i){var n=i("qLuR");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},iE1N:function(t,e,i){"use strict";var n=i("nT+G");i.n(n).a},ix2h:function(t,e,i){var n=i("VZIi");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},jFaK:function(t,e,i){"use strict";var n=i("IG6n");i.n(n).a},jOCq:function(t,e,i){var n=i("2/SP");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},"jfS+":function(t,e,i){"use strict";var n=i("endd");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new n(t),e(i.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},jxzM:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return y})),i.d(e,"d",(function(){return w}));var n=i("sKAn"),r=i("wp0G"),s=i("Z6+S"),o=i("4+n8"),a=i("msCR"),h=i("G12T");n.b.UPLOADS_PER_FRAME=4;var u=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};u.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},u.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var l=function(t){var e=this;this.limiter=new u(n.b.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(m),this.registerFindHook(v),this.registerFindHook(c),this.registerFindHook(d),this.registerFindHook(p),this.registerUploadHook(f),this.registerUploadHook(g)};function c(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof r.E){var s=t._textures[n].baseTexture;-1===e.indexOf(s)&&(e.push(s),i=!0)}return i}function d(t,e){if(t.baseTexture instanceof r.e){var i=t.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function p(t,e){if(t._texture&&t._texture instanceof r.E){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function f(t,e){return e instanceof h.b&&(e.updateText(!0),!0)}function g(t,e){if(e instanceof h.d){var i=e.toFontString();return h.c.measureFont(i),!0}return!1}function m(t,e){if(t instanceof h.b){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function v(t,e){return t instanceof h.d&&(-1===e.indexOf(t)&&e.push(t),!0)}l.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,o.a.system.addOnce(this.tick,this,o.c.UTILITY))):e&&e()},l.prototype.tick=function(){setTimeout(this.delayedTick,0)},l.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)o.a.system.addOnce(this.tick,this,o.c.UTILITY);else{this.ticking=!1;var r=this.completes.slice(0);this.completes.length=0;for(var s=0,a=r.length;s<a;s++)r[s]()}},l.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},l.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},l.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof a.b)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},l.prototype.destroy=function(){this.ticking&&o.a.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var y=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(x),this.registerUploadHook(_),this.registerUploadHook(b)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l);function _(t,e){return e instanceof r.e&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function b(t,e){if(!(e instanceof s.c))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var n=i.batches,r=0;r<n.length;r++){var o=n[r].style.texture;o&&_(t,o.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader()),!0}function x(t,e){return t instanceof s.c&&(e.push(t),!0)}var w=function(t){this.maxMilliseconds=t,this.frameStart=0};w.prototype.beginFrame=function(){this.frameStart=Date.now()},w.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}},"kAQ+":function(t,e,i){var n=i("hqlY");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},"kVK+":function(t,e){e.read=function(t,e,i,n,r){var s,o,a=8*r-n-1,h=(1<<a)-1,u=h>>1,l=-7,c=i?r-1:0,d=i?-1:1,p=t[e+c];for(c+=d,s=p&(1<<-l)-1,p>>=-l,l+=a;l>0;s=256*s+t[e+c],c+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+c],c+=d,l-=8);if(0===s)s=1-u;else{if(s===h)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=u}return(p?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,i,n,r,s){var o,a,h,u=8*s-r-1,l=(1<<u)-1,c=l>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+c>=1?d/h:d*Math.pow(2,1-c))*h>=2&&(o++,h/=2),o+c>=l?(a=0,o=l):o+c>=1?(a=(e*h-1)*Math.pow(2,r),o+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;t[i+p]=255&a,p+=f,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;t[i+p]=255&o,p+=f,o/=256,u-=8);t[i+p-f]|=128*g}},kd2E:function(t,e,i){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,s){e=e||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var h=1e3;s&&"number"==typeof s.maxKeys&&(h=s.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var c,d,p,f,g=t[l].replace(a,"%20"),m=g.indexOf(i);m>=0?(c=g.substr(0,m),d=g.substr(m+1)):(c=g,d=""),p=decodeURIComponent(c),f=decodeURIComponent(d),n(o,p)?r(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},lq1m:function(t,e,i){var n=i("oRXf");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},ls82:function(t,e,i){var n=function(t){"use strict";var e=Object.prototype,i=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function a(t,e,i,n){var r=e&&e.prototype instanceof l?e:l,s=Object.create(r.prototype),o=new w(n||[]);return s._invoke=function(t,e,i){var n="suspendedStart";return function(r,s){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw s;return T()}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var a=_(o,i);if(a){if(a===u)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=h(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(t,i,o),s}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var u={};function l(){}function c(){}function d(){}var p={};p[r]=function(){return this};var f=Object.getPrototypeOf,g=f&&f(f(S([])));g&&g!==e&&i.call(g,r)&&(p=g);var m=d.prototype=l.prototype=Object.create(p);function v(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var n;this._invoke=function(r,s){function o(){return new e((function(n,o){!function n(r,s,o,a){var u=h(t[r],t,s);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,a)}))}a(u.arg)}(r,s,n,o)}))}return n=n?n.then(o,o):o()}}function _(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=h(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function S(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,s=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return s.next=s}}return{next:T}}function T(){return{value:void 0,done:!0}}return c.prototype=m.constructor=d,d.constructor=c,d[o]=c.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===c||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[s]=function(){return this},t.AsyncIterator=y,t.async=function(e,i,n,r,s){void 0===s&&(s=Promise);var o=new y(a(e,i,n,r),s);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},v(m),m[o]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=S,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(i,n){return o.type="throw",o.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var a=i.call(s,"catchLoc"),h=i.call(s,"finallyLoc");if(a&&h){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),x(i),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;x(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:S(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},"m/0z":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("wp0G"),r=i("qoEl"),s=new(i("0/xZ").j),o=function(t){this.renderer=t,t.extract=this};o.prototype.image=function(t,e,i){var n=new Image;return n.src=this.base64(t,e,i),n},o.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},o.prototype.canvas=function(t){var e,i,a,h=this.renderer,u=!1,l=!1;t&&(t instanceof n.x?a=t:(a=this.renderer.generateTexture(t),l=!0)),a?(e=a.baseTexture.resolution,i=a.frame,u=!1,h.renderTexture.bind(a)):(e=this.renderer.resolution,u=!0,(i=s).width=this.renderer.width,i.height=this.renderer.height,h.renderTexture.bind(null));var c=Math.floor(i.width*e+1e-4),d=Math.floor(i.height*e+1e-4),p=new r.CanvasRenderTarget(c,d,1),f=new Uint8Array(4*c*d),g=h.gl;g.readPixels(i.x*e,i.y*e,c,d,g.RGBA,g.UNSIGNED_BYTE,f);var m=p.context.getImageData(0,0,c,d);return o.arrayPostDivide(f,m.data),p.context.putImageData(m,0,0),u&&(p.context.scale(1,-1),p.context.drawImage(p.canvas,0,-d)),l&&a.destroy(!0),p.canvas},o.prototype.pixels=function(t){var e,i,r,a=this.renderer,h=!1;t&&(t instanceof n.x?r=t:(r=this.renderer.generateTexture(t),h=!0)),r?(e=r.baseTexture.resolution,i=r.frame,a.renderTexture.bind(r)):(e=a.resolution,(i=s).width=a.width,i.height=a.height,a.renderTexture.bind(null));var u=i.width*e,l=i.height*e,c=new Uint8Array(4*u*l),d=a.gl;return d.readPixels(i.x*e,i.y*e,u,l,d.RGBA,d.UNSIGNED_BYTE,c),h&&r.destroy(!0),o.arrayPostDivide(c,c),c},o.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},o.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var n=e[i+3]=t[i+3];0!==n?(e[i]=Math.round(Math.min(255*t[i]/n,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/n,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/n,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}}},m8Kg:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".is-spritesheet-preview[data-v-5163d419] {\n  background-position: 0 0;\n  background-size: auto;\n  background-color: transparent;\n}\n.is-modifier-stat[data-v-5163d419] {\n  padding: 0 !important;\n  margin: 0 !important;\n  position: relative;\n}\n.is-modifier-img[data-v-5163d419] {\n  width: 100%;\n  position: relative;\n}\n.is-modifier-text[data-v-5163d419] {\n  position: absolute;\n  top: 1.25vmin;\n  right: 1rem;\n  color: #FFFFFF;\n  font-weight: bold;\n  font-size: 2.75vmin;\n  mix-blend-mode: difference;\n  line-height: 1.5;\n}\n.is-health[data-v-5163d419], .is-stress[data-v-5163d419] {\n  right: 0.5rem;\n}\n.is-health.is-smaller[data-v-5163d419], .is-stress.is-smaller[data-v-5163d419] {\n  font-size: 2vmin;\n  top: 1.75vmin;\n}\n.is-health[data-v-5163d419]:after {\n  color: #FBEE00;\n  content: attr(data-content);\n}\n.is-stress[data-v-5163d419]:after {\n  color: #5dfa00;\n  content: attr(data-content);\n}\n.is-modifier-progress[data-v-5163d419] {\n  position: absolute;\n  height: 90%;\n  margin-left: 25%;\n}\n.tile.is-vertical > .tile.is-child.is-modifier-stat[data-v-5163d419]:not(:last-child) {\n  padding: 0 !important;\n  margin: 0 !important;\n}\n#equipment-overview-head[data-v-5163d419] {\n  line-height: 0;\n}",""])},mWmK:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".is-spinner[data-v-4c81f49a] {\n  z-index: 9999;\n  position: absolute;\n  width: 25vmin;\n  height: 25vmin;\n  border: none;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.is-storage-banner[data-v-4c81f49a] {\n  width: 50vmin;\n  height: 3.75vmin;\n}\n.storage-modal[data-v-4c81f49a] {\n  position: absolute;\n  height: 100vmin;\n  width: 50vmin;\n  top: 0;\n  left: 50%;\n  background-color: #000000;\n}\n.storage-container[data-v-4c81f49a] {\n  width: 50vmin;\n  height: 46.25vmin;\n  max-height: 46.25vmin;\n  overflow-y: scroll;\n  display: flex;\n  flex-wrap: wrap;\n  place-content: flex-start;\n}\n.storage-cell[data-v-4c81f49a] {\n  width: 8vmin;\n  height: 8vmin;\n  position: relative;\n}\n.is-spritesheet[data-v-4c81f49a] {\n  -webkit-clip-path: polygon(0 0, 200px 0, 200px 200px, 0 200px);\n          clip-path: polygon(0 0, 200px 0, 200px 200px, 0 200px);\n  -o-object-fit: none;\n     object-fit: none;\n  -o-object-position: left top;\n     object-position: left top;\n  width: 8vmin;\n  height: 8vmin;\n}\n.is-single-image[data-v-4c81f49a] {\n  width: 8vmin;\n  height: 8vmin;\n  position: absolute;\n}\n.is-amount-counter[data-v-4c81f49a] {\n  position: absolute;\n  bottom: 0.5vmin;\n  right: 0.5vmin;\n  border: 3px #000000 solid;\n  font-weight: bold;\n  padding-left: 0.35rem;\n  padding-right: 0.35rem;\n  z-index: 99998;\n}\n.is-cursor-image[data-v-4c81f49a] {\n  height: 9vmin;\n  margin-top: -1vmin;\n}\n.is-flipped[data-v-4c81f49a] {\n  transform: scaleY(-1);\n  margin-top: 0;\n}",""])},msCR:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return a}));var n=i("sKAn"),r=i("0/xZ"),s=i("qoEl");n.b.SORTABLE_CHILDREN=!1;var o=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};o.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},o.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},o.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.j.EMPTY:((t=t||new r.j(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},o.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},o.prototype.addQuad=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,s=t[0],o=t[1];e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[6])<e?s:e,i=(o=t[7])<i?o:i,n=s>n?s:n,r=o>r?o:r,this.minX=e,this.minY=i,this.maxX=n,this.maxY=r},o.prototype.addFrame=function(t,e,i,n,r){this.addFrameMatrix(t.worldTransform,e,i,n,r)},o.prototype.addFrameMatrix=function(t,e,i,n,r){var s=t.a,o=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,g=s*e+a*i+u,m=o*e+h*i+l;c=g<c?g:c,d=m<d?m:d,p=g>p?g:p,f=m>f?m:f,c=(g=s*n+a*i+u)<c?g:c,d=(m=o*n+h*i+l)<d?m:d,p=g>p?g:p,f=m>f?m:f,c=(g=s*e+a*r+u)<c?g:c,d=(m=o*e+h*r+l)<d?m:d,p=g>p?g:p,f=m>f?m:f,c=(g=s*n+a*r+u)<c?g:c,d=(m=o*n+h*r+l)<d?m:d,p=g>p?g:p,f=m>f?m:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},o.prototype.addVertexData=function(t,e,i){for(var n=this.minX,r=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2){var h=t[a],u=t[a+1];n=h<n?h:n,r=u<r?u:r,s=h>s?h:s,o=u>o?u:o}this.minX=n,this.minY=r,this.maxX=s,this.maxY=o},o.prototype.addVertices=function(t,e,i,n){this.addVerticesMatrix(t.worldTransform,e,i,n)},o.prototype.addVerticesMatrix=function(t,e,i,n,r,s){var o=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty;r=r||0,s=s||0;for(var d=this.minX,p=this.minY,f=this.maxX,g=this.maxY,m=i;m<n;m+=2){var v=e[m],y=e[m+1],_=o*v+h*y+l,b=u*y+a*v+c;d=Math.min(d,_-r),f=Math.max(f,_+r),p=Math.min(p,b-s),g=Math.max(g,b+s)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=g},o.prototype.addBounds=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r},o.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=r&&n<=s){var o=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>h?r:h,this.maxY=s>u?s:u}},o.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},o.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=r&&n<=s){var o=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>h?r:h,this.maxY=s>u?s:u}},o.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},o.prototype.addFramePad=function(t,e,i,n,r,s){t-=r,e-=s,i+=r,n+=s,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n};var a=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new r.m,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new o,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var i=Object.keys(t),n=0;n<i.length;++n){var r=i[n];Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},i._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.calculateBounds=function(){},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new r.j),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new r.j),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=i,this.transform=e,n},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,n,r,s,o,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i.x.get=function(){return this.position.x},i.x.set=function(t){this.transform.position.x=t},i.y.get=function(){return this.position.y},i.y.set=function(t){this.transform.position.y=t},i.worldTransform.get=function(){return this.transform.worldTransform},i.localTransform.get=function(){return this.transform.localTransform},i.position.get=function(){return this.transform.position},i.position.set=function(t){this.transform.position.copyFrom(t)},i.scale.get=function(){return this.transform.scale},i.scale.set=function(t){this.transform.scale.copyFrom(t)},i.pivot.get=function(){return this.transform.pivot},i.pivot.set=function(t){this.transform.pivot.copyFrom(t)},i.skew.get=function(){return this.transform.skew},i.skew.set=function(t){this.transform.skew.copyFrom(t)},i.rotation.get=function(){return this.transform.rotation},i.rotation.set=function(t){this.transform.rotation=t},i.angle.get=function(){return this.transform.rotation*r.i},i.angle.set=function(t){this.transform.rotation=t*r.b},i.zIndex.get=function(){return this._zIndex},i.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},i.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},i.mask.get=function(){return this._mask},i.mask.set=function(t){if(this._mask){var e=this._mask.maskObject||this._mask;e.renderable=!0,e.isMask=!1}if(this._mask=t,this._mask){var i=this._mask.maskObject||this._mask;i.renderable=!1,i.isMask=!0}},Object.defineProperties(e.prototype,i),e}(s.EventEmitter);function h(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}a.prototype.displayObjectUpdateTransform=a.prototype.updateTransform;var u=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=n.b.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var n=0;n<i;n++)this.addChild(e[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);Object(s.removeItems)(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var n=0;n<i;n++)this.removeChild(e[n]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,Object(s.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Object(s.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var i,n=t,r="number"==typeof e?e:this.children.length,s=r-n;if(s>0&&s<=r){i=this.children.splice(n,s);for(var o=0;o<i.length;++o)i[o].parent=null,i[o].transform&&(i[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<i.length;++a)i[a].emit("removed",this),this.emit("childRemoved",i[a],this,a);return i}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(h),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var i=e._mask.maskObject||e._mask;i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);for(var r=0,s=this.children.length;r<s;r++)this.children[r].render(t);t.batch.flush(),i&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(i)for(var r=0;r<n.length;++r)n[r].destroy(e)},i.width.get=function(){return this.scale.x*this.getLocalBounds().width},i.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},i.height.get=function(){return this.scale.y*this.getLocalBounds().height},i.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,i),e}(a);u.prototype.containerUpdateTransform=u.prototype.updateTransform},nKqK:function(t,e,i){var n=i("m8Kg");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},"nT+G":function(t,e,i){var n=i("sPOJ");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},o0o1:function(t,e,i){t.exports=i("ls82")},oRXf:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".is-spritesheet-preview[data-v-461aa763] {\n  background-position: 0 0;\n  background-size: auto;\n  background-color: transparent;\n  background-size: 700%;\n}\n.is-amount-counter[data-v-461aa763] {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  border: 3px #000000 solid;\n  font-weight: bold;\n  padding-left: 0.35rem;\n  padding-right: 0.35rem;\n}",""])},onlc:function(t,e,i){var n=i("t1N5");function r(t){var e=function(){for(var t={},e=Object.keys(n),i=e.length,r=0;r<i;r++)t[e[r]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;)for(var r=i.pop(),s=Object.keys(n[r]),o=s.length,a=0;a<o;a++){var h=s[a],u=e[h];-1===u.distance&&(u.distance=e[r].distance+1,u.parent=r,i.unshift(h))}return e}function s(t,e){return function(i){return e(t(i))}}function o(t,e){for(var i=[e[t].parent,t],r=n[e[t].parent][t],o=e[t].parent;e[o].parent;)i.unshift(e[o].parent),r=s(n[e[o].parent][o],r),o=e[o].parent;return r.conversion=i,r}t.exports=function(t){for(var e=r(t),i={},n=Object.keys(e),s=n.length,a=0;a<s;a++){var h=n[a];null!==e[h].parent&&(i[h]=o(h,e))}return i}},pvEC:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return l}));var n=i("wp0G"),r=i("msCR"),s=i("0/xZ"),o=i("sKAn"),a=i("fqrp"),h=i("qoEl"),u=i("ZE2f"),l=function(t){function e(e,i){var n=this;void 0===i&&(i={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},this.font=i.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new s.e((function(){n.dirty=!0}),this,0,0),this.dirty=!1,this.roundPixels=o.b.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],i=this._font.size/t.size,n=new s.g,r=[],o=[],u=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",l=u.length,c=this._maxWidth*t.size/this._font.size,d=null,p=0,f=0,g=0,m=-1,v=0,y=0,_=0,b=0;b<l;b++){var x=u.charCodeAt(b),w=u.charAt(b);if(/(?:\s)/.test(w)&&(m=b,v=p),"\r"!==w&&"\n"!==w){var S=t.chars[x];S&&(d&&S.kerning[d]&&(n.x+=S.kerning[d]),r.push({texture:S.texture,line:g,charCode:x,position:new s.g(n.x+S.xOffset+this._letterSpacing/2,n.y+S.yOffset)}),n.x+=S.xAdvance+this._letterSpacing,p=n.x,_=Math.max(_,S.yOffset+S.texture.height),d=x,-1!==m&&c>0&&n.x>c&&(++y,Object(h.removeItems)(r,1+m-y,1+b-m),b=m,m=-1,o.push(v),f=Math.max(f,v),g++,n.x=0,n.y+=t.lineHeight,d=null))}else o.push(p),f=Math.max(f,p),++g,++y,n.x=0,n.y+=t.lineHeight,d=null}var T=u.charAt(u.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(p=v),o.push(p),f=Math.max(f,p));for(var k=[],C=0;C<=g;C++){var E=0;"right"===this._font.align?E=f-o[C]:"center"===this._font.align&&(E=(f-o[C])/2),k.push(E)}for(var O=r.length,I=this.tint,P=0;P<O;P++){var M=this._glyphs[P];M?M.texture=r[P].texture:((M=new a.a(r[P].texture)).roundPixels=this.roundPixels,this._glyphs.push(M)),M.position.x=(r[P].position.x+k[r[P].line])*i,M.position.y=r[P].position.y*i,M.scale.x=M.scale.y=i,M.tint=I,M.parent||this.addChild(M)}for(var A=O;A<this._glyphs.length;++A)this.removeChild(this._glyphs[A]);if(this._textWidth=f*i,this._textHeight=(n.y+t.lineHeight)*i,0!==this.anchor.x||0!==this.anchor.y)for(var R=0;R<O;R++)this._glyphs[R].x-=this._textWidth*this.anchor.x,this._glyphs[R].y-=this._textHeight*this.anchor.y;this._maxLineHeight=_*i},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.tint.get=function(){return this._font.tint},i.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},i.align.get=function(){return this._font.align},i.align.set=function(t){this._font.align=t||"left",this.dirty=!0},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},i.font.get=function(){return this._font},i.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.maxWidth.get=function(){return this._maxWidth},i.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},i.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},i.textWidth.get=function(){return this.validate(),this._textWidth},i.letterSpacing.get=function(){return this._letterSpacing},i.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},i.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,i){var r={},a=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],l=t.getElementsByTagName("page"),c=Object(h.getResolutionOfUrl)(l[0].getAttribute("file"),o.b.RESOLUTION),d={};r.font=a.getAttribute("face"),r.size=parseInt(a.getAttribute("size"),10),r.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/c,r.chars={},i instanceof n.E&&(i=[i]);for(var p=0;p<l.length;p++){var f=l[p].getAttribute("id"),g=l[p].getAttribute("file");d[f]=i instanceof Array?i[p]:i[g]}for(var m=t.getElementsByTagName("char"),v=0;v<m.length;v++){var y=m[v],_=parseInt(y.getAttribute("id"),10),b=y.getAttribute("page")||0,x=new s.j(parseInt(y.getAttribute("x"),10)/c+d[b].frame.x/c,parseInt(y.getAttribute("y"),10)/c+d[b].frame.y/c,parseInt(y.getAttribute("width"),10)/c,parseInt(y.getAttribute("height"),10)/c);r.chars[_]={xOffset:parseInt(y.getAttribute("xoffset"),10)/c,yOffset:parseInt(y.getAttribute("yoffset"),10)/c,xAdvance:parseInt(y.getAttribute("xadvance"),10)/c,kerning:{},texture:new n.E(d[b].baseTexture,x),page:b}}for(var w=t.getElementsByTagName("kerning"),S=0;S<w.length;S++){var T=w[S],k=parseInt(T.getAttribute("first"),10)/c,C=parseInt(T.getAttribute("second"),10)/c,E=parseInt(T.getAttribute("amount"),10)/c;r.chars[C]&&(r.chars[C].kerning[k]=E)}return e.fonts[r.font]=r,r},Object.defineProperties(e.prototype,i),e}(r.b);l.fonts={};var c=function(){};c.parse=function(t,e){t.bitmapFont=l.registerFont(t.data,e)},c.add=function(){u.c.setExtensionXhrType("fnt",u.c.XHR_RESPONSE_TYPE.DOCUMENT)},c.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},c.use=function(t,e){if(t.data&&t.type===u.c.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var i=t.isDataUrl?"":c.dirname(t.url);t.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/")),(i=i.replace(this.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/");for(var n=t.data.getElementsByTagName("page"),r={},s=function(i){r[i.metadata.pageFile]=i.texture,Object.keys(r).length===n.length&&(c.parse(t,r),e())},o=0;o<n.length;++o){var a=n[o].getAttribute("file"),h=i+a,l=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===h){p.metadata.pageFile=a,p.texture?s(p):p.onAfterMiddleware.add(s),l=!0;break}}if(!l){var f={crossOrigin:t.crossOrigin,loadType:u.c.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(h,f,s)}}}else e();else e()}},pyCd:function(t,e){},qBtf:function(t,e,i){var n=i("KvE0");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},qLuR:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".side-text[data-v-38e1815a] {\n  height: 5.5vmin;\n  padding-top: 1vmin;\n  font-size: 3vmin;\n}\n.side-text.is-small[data-v-38e1815a] {\n  font-size: 2vmin;\n}\n.birth-button[data-v-38e1815a] {\n  font-size: 3vmin;\n  margin-top: 2vh;\n  margin-left: calc(50vw - 5.5vmin);\n  background: url(/img/game/starter/born_fixed.png) center no-repeat;\n  background-size: contain;\n  height: 5.5vmin;\n  width: 11vmin;\n  border: none;\n  -webkit-filter: brightness(0.3);\n          filter: brightness(0.3);\n}\n.birth-button[data-v-38e1815a]:hover {\n  -webkit-filter: none;\n          filter: none;\n}\n.reroll-button[data-v-38e1815a] {\n  margin-top: -5px;\n  width: 100%;\n  -webkit-filter: brightness(0.3);\n          filter: brightness(0.3);\n  -webkit-animation: wobble-hor-bottom-data-v-38e1815a 0.8s both;\n          animation: wobble-hor-bottom-data-v-38e1815a 0.8s both;\n}\n.reroll-button[data-v-38e1815a]:active {\n  -webkit-animation: wobble-hor-bottom-alt-data-v-38e1815a 0s both;\n          animation: wobble-hor-bottom-alt-data-v-38e1815a 0s both;\n}\n.reroll-button[data-v-38e1815a]:hover {\n  -webkit-filter: none;\n          filter: none;\n}\n.reroll-button.is-top[data-v-38e1815a] {\n  martin-top: 0;\n}\n.reroll-button.is-disabled[data-v-38e1815a] {\n  -webkit-filter: brightness(0.3) grayscale(0.8);\n          filter: brightness(0.3) grayscale(0.8);\n}\n.portrait[data-v-38e1815a] {\n  max-width: 44.5%;\n  width: 44.5%;\n  height: 44.5%;\n}\n.creator-container[data-v-38e1815a] {\n  margin-top: calc(50vh - 25vmin);\n  margin-left: calc(50vw - 25vmin);\n  width: 50vmin;\n  display: flex;\n}\n.reroll-section[data-v-38e1815a] {\n  display: inline-block;\n  width: 11%;\n  overflow: visible;\n}\n.text-section[data-v-38e1815a] {\n  display: inline-block;\n  width: 44.5%;\n}\n@-webkit-keyframes wobble-hor-bottom-data-v-38e1815a {\n0%, 100% {\n    transform: translateX(0%);\n    transform-origin: 50% 50%;\n}\n15% {\n    transform: translateX(-15px) rotate(-6deg);\n}\n30% {\n    transform: translateX(7.5px) rotate(6deg);\n}\n45% {\n    transform: translateX(-7.5px) rotate(-3.6deg);\n}\n60% {\n    transform: translateX(4.5px) rotate(2.4deg);\n}\n75% {\n    transform: translateX(-3px) rotate(-1.2deg);\n}\n}\n@keyframes wobble-hor-bottom-data-v-38e1815a {\n0%, 100% {\n    transform: translateX(0%);\n    transform-origin: 50% 50%;\n}\n15% {\n    transform: translateX(-15px) rotate(-6deg);\n}\n30% {\n    transform: translateX(7.5px) rotate(6deg);\n}\n45% {\n    transform: translateX(-7.5px) rotate(-3.6deg);\n}\n60% {\n    transform: translateX(4.5px) rotate(2.4deg);\n}\n75% {\n    transform: translateX(-3px) rotate(-1.2deg);\n}\n}\n@-webkit-keyframes wobble-hor-bottom-alt-data-v-38e1815a {\n0%, 100% {\n    transform: translateX(0%);\n    transform-origin: 50% 50%;\n}\n}\n@keyframes wobble-hor-bottom-alt-data-v-38e1815a {\n0%, 100% {\n    transform: translateX(0%);\n    transform-origin: 50% 50%;\n}\n}",""])},qoEl:function(t,e,i){"use strict";i.r(e),i.d(e,"BaseTextureCache",(function(){return j})),i.d(e,"CanvasRenderTarget",(function(){return H})),i.d(e,"DATA_URI",(function(){return W})),i.d(e,"ProgramCache",(function(){return B})),i.d(e,"TextureCache",(function(){return U})),i.d(e,"clearTextureCache",(function(){return X})),i.d(e,"correctBlendMode",(function(){return x})),i.d(e,"createIndicesForQuads",(function(){return k})),i.d(e,"decomposeDataUri",(function(){return V})),i.d(e,"deprecation",(function(){return N})),i.d(e,"destroyTextureCache",(function(){return z})),i.d(e,"determineCrossOrigin",(function(){return G})),i.d(e,"getBufferType",(function(){return C})),i.d(e,"getResolutionOfUrl",(function(){return $})),i.d(e,"hex2rgb",(function(){return m})),i.d(e,"hex2string",(function(){return v})),i.d(e,"interleaveTypedArrays",(function(){return O})),i.d(e,"isPow2",(function(){return P})),i.d(e,"isWebGLSupported",(function(){return g})),i.d(e,"log2",(function(){return M})),i.d(e,"nextPow2",(function(){return I})),i.d(e,"premultiplyBlendMode",(function(){return b})),i.d(e,"premultiplyRgba",(function(){return w})),i.d(e,"premultiplyTint",(function(){return S})),i.d(e,"premultiplyTintToRgba",(function(){return T})),i.d(e,"removeItems",(function(){return A})),i.d(e,"rgb2hex",(function(){return _})),i.d(e,"sayHello",(function(){return f})),i.d(e,"sign",(function(){return R})),i.d(e,"skipHello",(function(){return p})),i.d(e,"string2hex",(function(){return y})),i.d(e,"trimCanvas",(function(){return Y})),i.d(e,"uid",(function(){return L}));var n=i("sKAn");i.d(e,"isMobile",(function(){return n.a}));var r=i("8UI6"),s=i.n(r);i.d(e,"EventEmitter",(function(){return s.a}));var o=i("VmRL"),a=i.n(o);i.d(e,"earcut",(function(){return a.a}));var h=i("CxY0"),u=i.n(h);i.d(e,"url",(function(){return u.a}));var l=i("SrKC");n.b.RETINA_PREFIX=/@([0-9\.]+)x/,n.b.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var c,d=!1;function p(){d=!0}function f(t){var e;if(!d){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=["\n %c %c %c PixiJS 5.2.1 -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,i)}else window.console&&window.console.log("PixiJS 5.2.1 - "+t+" - http://www.pixijs.com/");d=!0}}function g(){return void 0===c&&(c=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:n.b.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,r}catch(t){return!1}}()),c}function m(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function v(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function y(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function _(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var b=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[l.b.NORMAL_NPM]=l.b.NORMAL,t[l.b.ADD_NPM]=l.b.ADD,t[l.b.SCREEN_NPM]=l.b.SCREEN,e[l.b.NORMAL]=l.b.NORMAL_NPM,e[l.b.ADD]=l.b.ADD_NPM,e[l.b.SCREEN]=l.b.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function x(t,e){return b[e?1:0][t]}function w(t,e,i,n){return i=i||new Float32Array(4),n||void 0===n?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function S(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,n=t>>8&255,r=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(r=r*e+.5|0)}function T(t,e,i,n){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(n||void 0===n)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function k(t,e){void 0===e&&(e=null);var i=6*t;if((e=e||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var n=0,r=0;n<i;n+=6,r+=4)e[n+0]=r+0,e[n+1]=r+1,e[n+2]=r+2,e[n+3]=r+0,e[n+4]=r+2,e[n+5]=r+3;return e}function C(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var E={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function O(t,e){for(var i=0,n=0,r={},s=0;s<t.length;s++)n+=e[s],i+=t[s].length;var o=new ArrayBuffer(4*i),a=null,h=0;for(s=0;s<t.length;s++){var u=e[s],l=t[s],c=C(l);r[c]||(r[c]=new E[c](o)),a=r[c];for(var d=0;d<l.length;d++){a[(d/u|0)*n+h+d%u]=l[d]}h+=u}return new Float32Array(o)}function I(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function P(t){return!(t&t-1||!t)}function M(t){var e=(t>65535?1:0)<<4,i=((t>>>=e)>255?1:0)<<3;return e|=i,e|=i=((t>>>=i)>15?1:0)<<2,(e|=i=((t>>>=i)>3?1:0)<<1)|(t>>>=i)>>1}function A(t,e,i){var n,r=t.length;if(!(e>=r||0===i)){var s=r-(i=e+i>r?r-e:i);for(n=e;n<s;++n)t[n]=t[n+i];t.length=s}}function R(t){return 0===t?0:t<0?-1:1}var D=0;function L(){return++D}var F={};function N(t,e,i){if(void 0===i&&(i=3),!F[e]){var n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(n=n.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(n))),F[e]=!0}}var B={},U=Object.create(null),j=Object.create(null);function z(){var t;for(t in U)U[t].destroy();for(t in j)j[t].destroy()}function X(){var t;for(t in U)delete U[t];for(t in j)delete j[t]}var H=function(){function t(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||n.b.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!0,configurable:!0}),t}();function Y(t){var e,i,n,r=t.width,s=t.height,o=t.getContext("2d"),a=o.getImageData(0,0,r,s).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(i=e/4%r,n=~~(e/4/r),null===u.top&&(u.top=n),(null===u.left||i<u.left)&&(u.left=i),(null===u.right||u.right<i)&&(u.right=i+1),(null===u.bottom||u.bottom<n)&&(u.bottom=n));return null!==u.top&&(r=u.right-u.left,s=u.bottom-u.top+1,l=o.getImageData(u.left,u.top,r,s)),{height:s,width:r,data:l}}var q,W=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function V(t){var e=W.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function G(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,q||(q=document.createElement("a")),q.href=t;var i=Object(h.parse)(q.href),n=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&n&&i.protocol===e.protocol?"":"anonymous"}function $(t,e){var i=n.b.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}},qrtZ:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("wp0G"),r=function(t){function e(){t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.n)},rPFv:function(t,e,i){var n=i("W7XG");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},rxh4:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".spritesheet-preview[data-v-89d79ec2] {\n  position: absolute;\n  width: 8vmin;\n  height: 8vmin;\n}",""])},s2zC:function(t,e,i){var n=i("rxh4");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},s4NR:function(t,e,i){"use strict";e.decode=e.parse=i("kd2E"),e.encode=e.stringify=i("4JlD")},sKAn:function(t,e,i){"use strict";i.d(e,"a",(function(){return y})),i.d(e,"b",(function(){return _}));const n=/iPhone/i,r=/iPod/i,s=/iPad/i,o=/\bAndroid(?:.+)Mobile\b/i,a=/Android/i,h=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,u=/Silk/i,l=/Windows Phone/i,c=/\bWindows(?:.+)ARM\b/i,d=/BlackBerry/i,p=/BB10/i,f=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,m=/Mobile(?:.+)Firefox\b/i;function v(t,e){return t.test(e)}var y=function(t){let e=(t=t||("undefined"!=typeof navigator?navigator.userAgent:"")).split("[FBAN");void 0!==e[1]&&(t=e[0]),e=t.split("Twitter"),void 0!==e[1]&&(t=e[0]);const i={apple:{phone:v(n,t)&&!v(l,t),ipod:v(r,t),tablet:!v(n,t)&&v(s,t)&&!v(l,t),device:(v(n,t)||v(r,t)||v(s,t))&&!v(l,t)},amazon:{phone:v(h,t),tablet:!v(h,t)&&v(u,t),device:v(h,t)||v(u,t)},android:{phone:!v(l,t)&&v(h,t)||!v(l,t)&&v(o,t),tablet:!v(l,t)&&!v(h,t)&&!v(o,t)&&(v(u,t)||v(a,t)),device:!v(l,t)&&(v(h,t)||v(u,t)||v(o,t)||v(a,t))||v(/\bokhttp\b/i,t)},windows:{phone:v(l,t),tablet:v(c,t),device:v(l,t)||v(c,t)},other:{blackberry:v(d,t),blackberry10:v(p,t),opera:v(f,t),firefox:v(m,t),chrome:v(g,t),device:v(d,t)||v(p,t)||v(f,t)||v(m,t)||v(g,t)},any:!1,phone:!1,tablet:!1};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}();var _={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(y.tablet||y.phone){if(e=!1,y.apple.device){var i=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(i)parseInt(i[1],10)>=11&&(e=!0)}if(y.android.device){var n=navigator.userAgent.match(/Android\s([0-9.]*)/);if(n)parseInt(n[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:y.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!y.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},sPOJ:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".roll-img[data-v-0dbb4130] {\n  position: absolute;\n  top: -0.6vmin;\n  left: -0.6vmin;\n  height: 3.5vmin;\n  width: 3.5vmin;\n  z-index: 99997;\n}\n.is-amount-counter[data-v-0dbb4130] {\n  position: absolute;\n  bottom: 2.5vmin;\n  right: 0;\n  border: 3px #000000 solid;\n  font-weight: bold;\n  padding-left: 0.35rem;\n  padding-right: 0.35rem;\n  z-index: 99998;\n}\n.is-roll-counter[data-v-0dbb4130] {\n  position: absolute;\n  top: 1vmin;\n  left: 1.5vmin;\n  border: 3px #000000 solid;\n  font-weight: bold;\n  padding-left: 0.35rem;\n  padding-right: 0.35rem;\n  font-size: 0.8vmin;\n  z-index: 99998;\n}\n.is-equipped[data-v-0dbb4130] {\n  -webkit-animation: pulsate-fwd-data-v-0dbb4130 0.5s ease-in-out both;\n          animation: pulsate-fwd-data-v-0dbb4130 0.5s ease-in-out both;\n}\n.roll-failed[data-v-0dbb4130] {\n  -webkit-animation: jello-horizontal-data-v-0dbb4130 0.9s both;\n          animation: jello-horizontal-data-v-0dbb4130 0.9s both;\n}\n.roll-success[data-v-0dbb4130] {\n  -webkit-animation: rotate-vert-center-data-v-0dbb4130 0.5s cubic-bezier(0.455, 0.03, 0.515, 0.955) both;\n          animation: rotate-vert-center-data-v-0dbb4130 0.5s cubic-bezier(0.455, 0.03, 0.515, 0.955) both;\n}\n@-webkit-keyframes rotate-vert-center-data-v-0dbb4130 {\n0% {\n    transform: rotateY(0);\n}\n100% {\n    transform: rotateY(360deg);\n}\n}\n@keyframes rotate-vert-center-data-v-0dbb4130 {\n0% {\n    transform: rotateY(0);\n}\n100% {\n    transform: rotateY(360deg);\n}\n}\n@-webkit-keyframes jello-horizontal-data-v-0dbb4130 {\n0% {\n    transform: scale3d(1, 1, 1);\n}\n30% {\n    transform: scale3d(1.25, 0.75, 1);\n}\n40% {\n    transform: scale3d(0.75, 1.25, 1);\n}\n50% {\n    transform: scale3d(1.15, 0.85, 1);\n}\n65% {\n    transform: scale3d(0.95, 1.05, 1);\n}\n75% {\n    transform: scale3d(1.05, 0.95, 1);\n}\n100% {\n    transform: scale3d(1, 1, 1);\n}\n}\n@keyframes jello-horizontal-data-v-0dbb4130 {\n0% {\n    transform: scale3d(1, 1, 1);\n}\n30% {\n    transform: scale3d(1.25, 0.75, 1);\n}\n40% {\n    transform: scale3d(0.75, 1.25, 1);\n}\n50% {\n    transform: scale3d(1.15, 0.85, 1);\n}\n65% {\n    transform: scale3d(0.95, 1.05, 1);\n}\n75% {\n    transform: scale3d(1.05, 0.95, 1);\n}\n100% {\n    transform: scale3d(1, 1, 1);\n}\n}\n@-webkit-keyframes pulsate-fwd-data-v-0dbb4130 {\n0% {\n    transform: scale(1);\n}\n50% {\n    transform: scale(1.1);\n}\n100% {\n    transform: scale(1);\n}\n}\n@keyframes pulsate-fwd-data-v-0dbb4130 {\n0% {\n    transform: scale(1);\n}\n50% {\n    transform: scale(1.1);\n}\n100% {\n    transform: scale(1);\n}\n}",""])},sjW3:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("wp0G"),r=i("fqrp"),s=i("4+n8"),o=function(t){function e(e,i){t.call(this,e[0]instanceof n.E?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==i,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&s.a.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&s.a.shared.add(this.update,this,s.c.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this._currentTime=0,this.stop(),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this._currentTime=this._textures.length-1,this.stop(),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var i=[],r=0;r<t.length;++r)i.push(n.E.from(t[r]));return new e(i)},e.fromImages=function(t){for(var i=[],r=0;r<t.length;++r)i.push(n.E.from(t[r]));return new e(i)},i.totalFrames.get=function(){return this._textures.length},i.textures.get=function(){return this._textures},i.textures.set=function(t){if(t[0]instanceof n.E)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},i.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,i),e}(r.a)},"t/YF":function(t,e,i){var n=i("5k4z");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},t1N5:function(t,e,i){var n=i("T016"),r={};for(var s in n)n.hasOwnProperty(s)&&(r[n[s]]=s);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in o)if(o.hasOwnProperty(a)){if(!("channels"in o[a]))throw new Error("missing channels property: "+a);if(!("labels"in o[a]))throw new Error("missing channel labels property: "+a);if(o[a].labels.length!==o[a].channels)throw new Error("channel and label counts mismatch: "+a);var h=o[a].channels,u=o[a].labels;delete o[a].channels,delete o[a].labels,Object.defineProperty(o[a],"channels",{value:h}),Object.defineProperty(o[a],"labels",{value:u})}o.rgb.hsl=function(t){var e,i,n=t[0]/255,r=t[1]/255,s=t[2]/255,o=Math.min(n,r,s),a=Math.max(n,r,s),h=a-o;return a===o?e=0:n===a?e=(r-s)/h:r===a?e=2+(s-n)/h:s===a&&(e=4+(n-r)/h),(e=Math.min(60*e,360))<0&&(e+=360),i=(o+a)/2,[e,100*(a===o?0:i<=.5?h/(a+o):h/(2-a-o)),100*i]},o.rgb.hsv=function(t){var e,i,n,r,s,o=t[0]/255,a=t[1]/255,h=t[2]/255,u=Math.max(o,a,h),l=u-Math.min(o,a,h),c=function(t){return(u-t)/6/l+.5};return 0===l?r=s=0:(s=l/u,e=c(o),i=c(a),n=c(h),o===u?r=n-i:a===u?r=1/3+e-n:h===u&&(r=2/3+i-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*s,100*u]},o.rgb.hwb=function(t){var e=t[0],i=t[1],n=t[2];return[o.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(i,n))),100*(n=1-1/255*Math.max(e,Math.max(i,n)))]},o.rgb.cmyk=function(t){var e,i=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*((1-i-(e=Math.min(1-i,1-n,1-r)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},o.rgb.keyword=function(t){var e=r[t];if(e)return e;var i,s,o,a=1/0;for(var h in n)if(n.hasOwnProperty(h)){var u=n[h],l=(s=t,o=u,Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)+Math.pow(s[2]-o[2],2));l<a&&(a=l,i=h)}return i},o.keyword.rgb=function(t){return n[t]},o.rgb.xyz=function(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]},o.rgb.lab=function(t){var e=o.rgb.xyz(t),i=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(i-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},o.hsl.rgb=function(t){var e,i,n,r,s,o=t[0]/360,a=t[1]/100,h=t[2]/100;if(0===a)return[s=255*h,s,s];e=2*h-(i=h<.5?h*(1+a):h+a-h*a),r=[0,0,0];for(var u=0;u<3;u++)(n=o+1/3*-(u-1))<0&&n++,n>1&&n--,s=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,r[u]=255*s;return r},o.hsl.hsv=function(t){var e=t[0],i=t[1]/100,n=t[2]/100,r=i,s=Math.max(n,.01);return i*=(n*=2)<=1?n:2-n,r*=s<=1?s:2-s,[e,100*(0===n?2*r/(s+r):2*i/(n+i)),100*((n+i)/2)]},o.hsv.rgb=function(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,r=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-i),a=255*n*(1-i*s),h=255*n*(1-i*(1-s));switch(n*=255,r){case 0:return[n,h,o];case 1:return[a,n,o];case 2:return[o,n,h];case 3:return[o,a,n];case 4:return[h,o,n];case 5:return[n,o,a]}},o.hsv.hsl=function(t){var e,i,n,r=t[0],s=t[1]/100,o=t[2]/100,a=Math.max(o,.01);return n=(2-s)*o,i=s*a,[r,100*(i=(i/=(e=(2-s)*a)<=1?e:2-e)||0),100*(n/=2)]},o.hwb.rgb=function(t){var e,i,n,r,s,o,a,h=t[0]/360,u=t[1]/100,l=t[2]/100,c=u+l;switch(c>1&&(u/=c,l/=c),n=6*h-(e=Math.floor(6*h)),0!=(1&e)&&(n=1-n),r=u+n*((i=1-l)-u),e){default:case 6:case 0:s=i,o=r,a=u;break;case 1:s=r,o=i,a=u;break;case 2:s=u,o=i,a=r;break;case 3:s=u,o=r,a=i;break;case 4:s=r,o=u,a=i;break;case 5:s=i,o=u,a=r}return[255*s,255*o,255*a]},o.cmyk.rgb=function(t){var e=t[0]/100,i=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},o.xyz.rgb=function(t){var e,i,n,r=t[0]/100,s=t[1]/100,o=t[2]/100;return i=-.9689*r+1.8758*s+.0415*o,n=.0557*r+-.204*s+1.057*o,e=(e=3.2406*r+-1.5372*s+-.4986*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1))]},o.xyz.lab=function(t){var e=t[0],i=t[1],n=t[2];return i/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.lab.xyz=function(t){var e,i,n,r=t[0];e=t[1]/500+(i=(r+16)/116),n=i-t[2]/200;var s=Math.pow(i,3),o=Math.pow(e,3),a=Math.pow(n,3);return i=s>.008856?s:(i-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[e*=95.047,i*=100,n*=108.883]},o.lab.lch=function(t){var e,i=t[0],n=t[1],r=t[2];return(e=360*Math.atan2(r,n)/2/Math.PI)<0&&(e+=360),[i,Math.sqrt(n*n+r*r),e]},o.lch.lab=function(t){var e,i=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[i,n*Math.cos(e),n*Math.sin(e)]},o.rgb.ansi16=function(t){var e=t[0],i=t[1],n=t[2],r=1 in arguments?arguments[1]:o.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var s=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return 2===r&&(s+=60),s},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){var e=t[0],i=t[1],n=t[2];return e===i&&i===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var i=.5*(1+~~(t>50));return[(1&e)*i*255,(e>>1&1)*i*255,(e>>2&1)*i*255]},o.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var i;return t-=16,[Math.floor(t/36)/5*255,Math.floor((i=t%36)/6)/5*255,i%6/5*255]},o.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var i=e[0];3===e[0].length&&(i=i.split("").map((function(t){return t+t})).join(""));var n=parseInt(i,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(t){var e,i=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(Math.max(i,n),r),o=Math.min(Math.min(i,n),r),a=s-o;return e=a<=0?0:s===i?(n-r)/a%6:s===n?2+(r-i)/a:4+(i-n)/a+4,e/=6,[360*(e%=1),100*a,100*(a<1?o/(1-a):0)]},o.hsl.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=1,r=0;return(n=i<.5?2*e*i:2*e*(1-i))<1&&(r=(i-.5*n)/(1-n)),[t[0],100*n,100*r]},o.hsv.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=e*i,r=0;return n<1&&(r=(i-n)/(1-n)),[t[0],100*n,100*r]},o.hcg.rgb=function(t){var e=t[0]/360,i=t[1]/100,n=t[2]/100;if(0===i)return[255*n,255*n,255*n];var r,s=[0,0,0],o=e%1*6,a=o%1,h=1-a;switch(Math.floor(o)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=h,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=h,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=h}return r=(1-i)*n,[255*(i*s[0]+r),255*(i*s[1]+r),255*(i*s[2]+r)]},o.hcg.hsv=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e),n=0;return i>0&&(n=e/i),[t[0],100*n,100*i]},o.hcg.hsl=function(t){var e=t[1]/100,i=t[2]/100*(1-e)+.5*e,n=0;return i>0&&i<.5?n=e/(2*i):i>=.5&&i<1&&(n=e/(2*(1-i))),[t[0],100*n,100*i]},o.hcg.hwb=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)]},o.hwb.hcg=function(t){var e=t[1]/100,i=1-t[2]/100,n=i-e,r=0;return n<1&&(r=(i-n)/(1-n)),[t[0],100*n,100*r]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=o.gray.hsv=function(t){return[0,0,t[0]]},o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},tQ2B:function(t,e,i){"use strict";var n=i("xTJ+"),r=i("Rn+g"),s=i("MLWZ"),o=i("g7np"),a=i("w0Vi"),h=i("OTTw"),u=i("LYNF");t.exports=function(t){return new Promise((function(e,l){var c=t.data,d=t.headers;n.isFormData(c)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",g=t.auth.password||"";d.Authorization="Basic "+btoa(f+":"+g)}var m=o(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),s(m,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:t,request:p};r(e,l,n),p=null}},p.onabort=function(){p&&(l(u("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(u(e,t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var v=i("eqyj"),y=(t.withCredentials||h(m))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(d[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&n.forEach(d,(function(t,e){void 0===c&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),l(t),p=null)})),void 0===c&&(c=null),p.send(c)}))}},tjlA:function(t,e,i){"use strict";(function(t){var n=i("H7XF"),r=i("kVK+"),s=i("49sm");function o(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,i){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return u(this,t,e,i)}function u(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=d(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!h.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(e,i),r=(t=a(t,n)).write(e,i);r!==n&&(t=t.slice(0,r));return t}(t,e,i):function(t,e){if(h.isBuffer(e)){var i=0|p(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):d(t,e);if("Buffer"===e.type&&s(e.data))return d(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(l(e),t=a(t,e<0?0:0|p(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|p(e.length);t=a(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function f(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return z(t).length;default:if(n)return j(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,i);case"utf8":case"utf-8":return C(this,e,i);case"ascii":return E(this,e,i);case"latin1":case"binary":return O(this,e,i);case"base64":return k(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function v(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:y(t,e,i,n,r);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):y(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,i,n,r){var s,o=1,a=t.length,h=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var l=-1;for(s=i;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===h)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(i+h>a&&(i=a-h),s=i;s>=0;s--){for(var c=!0,d=0;d<h;d++)if(u(t,s+d)!==u(e,d)){c=!1;break}if(c)return s}return-1}function _(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function b(t,e,i,n){return X(j(e,t.length-i),t,i,n)}function x(t,e,i,n){return X(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function w(t,e,i,n){return x(t,e,i,n)}function S(t,e,i,n){return X(z(e),t,i,n)}function T(t,e,i,n){return X(function(t,e){for(var i,n,r,s=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),n=i>>8,r=i%256,s.push(r),s.push(n);return s}(e,t.length-i),t,i,n)}function k(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function C(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s,o,a,h,u=t[r],l=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c<=i)switch(c){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[r+1]))&&(h=(31&u)<<6|63&s)>127&&(l=h);break;case 3:s=t[r+1],o=t[r+2],128==(192&s)&&128==(192&o)&&(h=(15&u)<<12|(63&s)<<6|63&o)>2047&&(h<55296||h>57343)&&(l=h);break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(h=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&h<1114112&&(l=h)}null===l?(l=65533,c=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),r+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return i}(n)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,i){return u(null,t,e,i)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,i){return function(t,e,i,n){return l(e),e<=0?a(t,e):void 0!==i?"string"==typeof n?a(t,e).fill(i,n):a(t,e).fill(i):a(t,e)}(null,t,e,i)},h.allocUnsafe=function(t){return c(null,t)},h.allocUnsafeSlow=function(t){return c(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=h.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},h.byteLength=f,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,i,n,r){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(e>>>=0),a=Math.min(s,o),u=this.slice(n,r),l=t.slice(e,i),c=0;c<a;++c)if(u[c]!==l[c]){s=u[c],o=l[c];break}return s<o?-1:o<s?1:0},h.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},h.prototype.indexOf=function(t,e,i){return v(this,t,e,i,!0)},h.prototype.lastIndexOf=function(t,e,i){return v(this,t,e,i,!1)},h.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return _(this,t,e,i);case"utf8":case"utf-8":return b(this,t,e,i);case"ascii":return x(this,t,e,i);case"latin1":case"binary":return w(this,t,e,i);case"base64":return S(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function O(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function I(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=U(t[s]);return r}function P(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function M(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,i,n,r,s){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function R(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-i,2);r<s;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function D(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-i,4);r<s;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function L(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(t,e,i,n,s){return s||L(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function N(t,e,i,n,s){return s||L(t,0,i,8),r.write(t,e,i,n,52,8),i+8}h.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=h.prototype;else{var r=e-t;i=new h(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+t]}return i},h.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},h.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},h.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var n=e,r=1,s=this[t+--n];n>0&&(r*=256);)s+=this[t+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},h.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),r.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),r.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),r.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),r.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||A(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[e]=255&t;++s<i&&(r*=256);)this[e+s]=t/r&255;return e+i},h.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||A(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+i},h.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);A(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},h.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);A(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},h.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,i){return F(this,t,e,!0,i)},h.prototype.writeFloatBE=function(t,e,i){return F(this,t,e,!1,i)},h.prototype.writeDoubleLE=function(t,e,i){return N(this,t,e,!0,i)},h.prototype.writeDoubleBE=function(t,e,i){return N(this,t,e,!1,i)},h.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,s=n-i;if(this===t&&i<e&&e<n)for(r=s-1;r>=0;--r)t[r+e]=this[r+i];else if(s<1e3||!h.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},h.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=h.isBuffer(t)?t:j(new h(t,n).toString()),a=o.length;for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var i;e=e||1/0;for(var n=t.length,r=null,s=[],o=0;o<n;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function z(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function X(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}}).call(this,i("yLpj"))},u62O:function(t,e,i){"use strict";t.exports=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=i.parser[e.strictMode?"strict":"loose"].exec(t),r={},s=14;s--;)r[i.key[s]]=n[s]||"";return r[i.q.name]={},r[i.key[12]].replace(i.q.parser,(function(t,e,n){e&&(r[i.q.name][e]=n)})),r}},uaCV:function(t,e,i){"use strict";var n=i("qBtf");i.n(n).a},uxXc:function(t,e,i){var n=i("t1N5"),r=i("onlc"),s={};Object.keys(n).forEach((function(t){s[t]={},Object.defineProperty(s[t],"channels",{value:n[t].channels}),Object.defineProperty(s[t],"labels",{value:n[t].labels});var e=r(t);Object.keys(e).forEach((function(i){var n=e[i];s[t][i]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var i=t(e);if("object"==typeof i)for(var n=i.length,r=0;r<n;r++)i[r]=Math.round(i[r]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}(n),s[t][i].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)}))})),t.exports=s},vDqi:function(t,e,i){t.exports=i("zuR4")},w0Vi:function(t,e,i){"use strict";var n=i("xTJ+"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,s,o={};return t?(n.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=n.trim(t.substr(0,s)).toLowerCase(),i=n.trim(t.substr(s+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}})),o):o}},wg2Q:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return l})),i.d(e,"e",(function(){return u})),i.d(e,"f",(function(){return h}));var n=i("VmXM"),r=i("SrKC"),s=i("wp0G"),o=function(t){function e(e,i,n,r){void 0===e&&(e=100),void 0===i&&(i=100),void 0===n&&(n=10),void 0===r&&(r=10),t.call(this),this.segWidth=n,this.segHeight=r,this.width=e,this.height=i,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],n=[],r=this.segWidth-1,s=this.segHeight-1,o=this.width/r,a=this.height/s,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*o,l*a),i.push(u/r,l/s)}for(var c=r*s,d=0;d<c;d++){var p=d%r,f=d/r|0,g=f*this.segWidth+p,m=f*this.segWidth+p+1,v=(f+1)*this.segWidth+p,y=(f+1)*this.segWidth+p+1;n.push(g,m,v,m,y,v)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(n.c),a=function(t){function e(e,i,n){void 0===e&&(e=200),void 0===n&&(n=0),t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1))),this.points=i,this.width=e,this.textureScale=n,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),n=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),n.data=new Uint16Array(6*(t.length-1)));var r=i.data,s=n.data;r[0]=0,r[1]=0,r[2]=0,r[3]=1;for(var o=0,a=t[0],h=this.width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,p=a.y-t[l].y,f=Math.sqrt(d*d+p*p);a=t[l],o+=f/h}else o=l/(u-1);r[c]=o,r[c+1]=0,r[c+2]=o,r[c+3]=1}for(var g=0,m=0;m<u-1;m++){var v=2*m;s[g++]=v,s[g++]=v+1,s[g++]=v+2,s[g++]=v+2,s[g++]=v+1,s[g++]=v+3}i.update(),n.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],n=0,r=0,s=this.buffers[0].data,o=t.length,a=0;a<o;a++){var h=t[a],u=4*a;r=-((e=a<t.length-1?t[a+1]:h).x-i.x),n=e.y-i.y;var l=Math.sqrt(n*n+r*r),c=this.textureScale>0?this.textureScale*this.width/2:this.width/2;n/=l,r/=l,n*=c,r*=c,s[u]=h.x+n,s[u+1]=h.y+r,s[u+2]=h.x-n,s[u+3]=h.y-r,i=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(n.c),h=function(t){function e(e,i,s){void 0===s&&(s=0);var o=new a(e.height,i,s),h=new n.d(e);s>0&&(e.baseTexture.wrapMode=r.n.REPEAT),t.call(this,o,h),this.autoUpdate=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(e){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),t.prototype._render.call(this,e)},e}(n.a),u=function(t){function e(e,i,r){var a=new o(e.width,e.height,i,r),h=new n.d(s.E.WHITE);t.call(this,a,h),this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={texture:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},i.texture.set=function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},i.texture.get=function(){return this.shader.texture},e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,i),e}(n.a),l=function(t){function e(e,i,r,o,a){void 0===e&&(e=s.E.EMPTY);var h=new n.c(i,r,o);h.getBuffer("aVertexPosition").static=!1;var u=new n.d(e);t.call(this,h,u,null,a),this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertices:{configurable:!0}};return i.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},i.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,i),e}(n.a),c=function(t){function e(e,i,n,r,o){t.call(this,s.E.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==i?i:10,this._rightWidth=void 0!==r?r:10,this._topHeight=void 0!==n?n:10,this._bottomHeight=void 0!==o?o:10,this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},i.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},i.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,n=this._height>i?1:this._height/i;return Math.min(e,n)},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t,this._refresh()},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t,this._refresh()},i.leftWidth.get=function(){return this._leftWidth},i.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},i.rightWidth.get=function(){return this._rightWidth},i.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},i.topHeight.get=function(){return this._topHeight},i.topHeight.set=function(t){this._topHeight=t,this._refresh()},i.bottomHeight.get=function(){return this._bottomHeight},i.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(e.prototype,i),e}(u)},wp0G:function(t,e,i){"use strict";i.d(e,"a",(function(){return pe})),i.d(e,"b",(function(){return ne})),i.d(e,"c",(function(){return N})),i.d(e,"d",(function(){return P})),i.d(e,"e",(function(){return y})),i.d(e,"f",(function(){return ue})),i.d(e,"g",(function(){return ge})),i.d(e,"h",(function(){return ye})),i.d(e,"i",(function(){return be})),i.d(e,"j",(function(){return fe})),i.d(e,"k",(function(){return le})),i.d(e,"l",(function(){return U})),i.d(e,"m",(function(){return he})),i.d(e,"n",(function(){return Lt})),i.d(e,"o",(function(){return O})),i.d(e,"p",(function(){return Vt})),i.d(e,"q",(function(){return Qt})),i.d(e,"r",(function(){return q})),i.d(e,"s",(function(){return ot})),i.d(e,"t",(function(){return J})),i.d(e,"u",(function(){return It})),i.d(e,"v",(function(){return W})),i.d(e,"w",(function(){return V})),i.d(e,"x",(function(){return L})),i.d(e,"y",(function(){return F})),i.d(e,"z",(function(){return re})),i.d(e,"A",(function(){return Mt})),i.d(e,"B",(function(){return Ut})),i.d(e,"C",(function(){return Rt})),i.d(e,"D",(function(){return C})),i.d(e,"E",(function(){return R})),i.d(e,"F",(function(){return Nt})),i.d(e,"G",(function(){return M})),i.d(e,"H",(function(){return $})),i.d(e,"I",(function(){return ce})),i.d(e,"J",(function(){return se})),i.d(e,"K",(function(){return kt})),i.d(e,"L",(function(){return ae})),i.d(e,"M",(function(){return oe})),i.d(e,"N",(function(){return k})),i.d(e,"O",(function(){return ee}));var n=i("YNZD"),r=i("qoEl"),s=i("SrKC"),o=i("sKAn"),a=i("4+n8"),h=i("0/xZ"),u=i("msCR"),l=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new n.a("setRealSize",2),this.onUpdate=new n.a("update"),this.onError=new n.a("onError",1)},c={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};l.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},l.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},l.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},c.valid.get=function(){return!!this._width&&!!this._height},l.prototype.update=function(){this.destroyed||this.onUpdate.run()},l.prototype.load=function(){return Promise.resolve()},c.width.get=function(){return this._width},c.height.get=function(){return this._height},l.prototype.upload=function(t,e,i){return!1},l.prototype.style=function(t,e,i){return!1},l.prototype.dispose=function(){},l.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(l.prototype,c);var d=function(t){function e(e){var i=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;t.call(this,i,n),this.source=e,this.noSubImage=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=Object(r.determineCrossOrigin)(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,n){var r=t.gl,o=e.realWidth,a=e.realHeight;return n=n||this.source,r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===s.a.UNPACK),this.noSubImage||e.target!==r.TEXTURE_2D||i.width!==o||i.height!==a?(i.width=o,i.height=a,r.texImage2D(e.target,0,e.format,e.format,e.type,n)):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,e.type,n),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,i=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(l),p=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLImageElement)){var n=new Image;t.crossOrigin(n,e,i.crossorigin),n.src=e,e=n}t.call(this,e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==i.createBitmap?i.createBitmap:o.b.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,void 0!==i.premultiplyAlpha&&(this.premultiplyAlpha=i.premultiplyAlpha),this.bitmap=null,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load||(this._load=new Promise((function(t){e.url=e.source.src;var i=e.source,n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){return e.onError.run(t)})}))),this._load},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha===s.a.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,n){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,i,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,n,this.bitmap),!this.preserveBitmap){var r=!0;for(var s in i._glTextures){var o=i._glTextures[s];if(o!==n&&o.dirtyId!==i.dirtyId){r=!1;break}}r&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(d),f=[];function g(t,e){if(!t)return null;var i="";if("string"==typeof t){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(i=n[1].toLowerCase())}for(var r=f.length-1;r>=0;--r){var s=f[r];if(s.test&&s.test(t,i))return new s(t,e)}return new p(t,e)}var m=function(t){function e(e,i){var n=i||{},r=n.width,s=n.height;if(!r||!s)throw new Error("BufferResource width or height invalid");t.call(this,r,s),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===s.a.UNPACK),i.width===e.width&&i.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,n.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(l),v={scaleMode:s.k.NEAREST,format:s.e.RGBA,alphaMode:s.a.NPM},y=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null),t.call(this);var n=(i=i||{}).alphaMode,a=i.mipmap,h=i.anisotropicLevel,u=i.scaleMode,c=i.width,d=i.height,p=i.wrapMode,f=i.format,m=i.type,v=i.target,y=i.resolution,_=i.resourceOptions;!e||e instanceof l||((e=g(e,_)).internal=!0),this.width=c||0,this.height=d||0,this.resolution=y||o.b.RESOLUTION,this.mipmap=void 0!==a?a:o.b.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==h?h:o.b.ANISOTROPIC_LEVEL,this.wrapMode=p||o.b.WRAP_MODE,this.scaleMode=void 0!==u?u:o.b.SCALE_MODE,this.format=f||s.e.RGBA,this.type=m||s.m.UNSIGNED_BYTE,this.target=v||s.l.TEXTURE_2D,this.alphaMode=void 0!==n?n:s.a.UNPACK,void 0!==i.premultiplyAlpha&&(this.premultiplyAlpha=i.premultiplyAlpha),this.uid=Object(r.uid)(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=c>0&&d>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={realWidth:{configurable:!0},realHeight:{configurable:!0}};return i.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},i.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Object(r.isPow2)(this.realWidth)&&Object(r.isPow2)(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete r.BaseTextureCache[this.cacheId],delete r.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,i,n){void 0===n&&(n=o.b.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;s?a=t:(t._pixiId||(t._pixiId="pixiid_"+Object(r.uid)()),a=t._pixiId);var h=r.BaseTextureCache[a];if(s&&n&&!h)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return h||((h=new e(t,i)).cacheId=a,e.addToCache(h,a)),h},e.fromBuffer=function(t,i,n,r){t=t||new Float32Array(i*n*4);var o=new m(t,{width:i,height:n}),a=t instanceof Float32Array?s.m.FLOAT:s.m.UNSIGNED_BYTE;return new e(o,Object.assign(v,r||{width:i,height:n,type:a}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),r.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),r.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=r.BaseTextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete r.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete r.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,i),e}(r.EventEmitter);y._globalBatch=0;var _=function(t){function e(e,i){var n;i=i||{};var r=e;Array.isArray(e)&&(n=e,r=e.length),t.call(this,i.width,i.height),this.items=[],this.itemDirtyIds=[];for(var s=0;s<r;s++){var o=new y;this.items.push(o),this.itemDirtyIds.push(-1)}if(this.length=r,this._load=null,n)for(var a=0;a<r;a++)this.addResourceAt(g(n[a],i),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=s.l.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})),i=e.map((function(t){return t.load()}));return this._load=Promise.all(i).then((function(){var i=e[0],n=i.width,r=i.height;return t.resize(n,r),Promise.resolve(t)})),this._load},e.prototype.upload=function(t,e,i){var n=this.length,r=this.itemDirtyIds,s=this.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var a=0;a<n;a++){var h=s[a];r[a]<h.dirtyId&&(r[a]=h.dirtyId,h.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(l),b=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(d),x=function(t){function e(i,n){if(n=n||{},t.call(this,i,n),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var r=0;r<e.SIDES;r++)this.items[r].target=s.l.TEXTURE_CUBE_MAP_POSITIVE_X+r;!1!==n.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=s.l.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,i,n){for(var r=this.itemDirtyIds,s=0;s<e.SIDES;s++){var o=this.items[s];r[s]<o.dirtyId&&(r[s]=o.dirtyId,o.valid&&o.resource.upload(t,o,n))}return!0},e}(_);x.SIDES=6;var w=function(t){function e(e,i){i=i||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=i.scale||1,this._overrideWidth=i.width,this._overrideHeight=i.height,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var e=this,i=new Image;t.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(t){i.onerror=null,e.onError.run(t)},i.onload=function(){var t=i.width,n=i.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=t*e.scale,o=n*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/n*t,o=e._overrideHeight||e._overrideWidth/t*n),s=Math.round(s),o=Math.round(o);var a=e.source;a.width=s,a.height=o,a._pixiId="canvas_"+Object(r.uid)(),a.getContext("2d").drawImage(i,0,0,t,n,0,0,s,o),e._resolve(),e._resolve=null}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),n={};return i&&(n[i[1]]=Math.round(parseFloat(i[3])),n[i[5]]=Math.round(parseFloat(i[7]))),n},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(d);w.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var S=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLVideoElement)){var n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(n,e[0].src||e[0],i.crossorigin);for(var r=0;r<e.length;++r){var s=document.createElement("source"),o=e[r],a=o.src,h=o.mime,u=(a=a||e[r]).split("?").shift().toLowerCase(),l=u.substr(u.lastIndexOf(".")+1);h=h||"video/"+l,s.src=a,s.type=h,n.appendChild(s)}e=n}t.call(this,e),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==i.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==i.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var i=a.a.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(i){t.valid?i(t):(t._resolve=i,e.load())})),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.a.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(a.a.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&a.a.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},i.autoUpdate.get=function(){return this._autoUpdate},i.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(a.a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.a.shared.add(this.update,this),this._isAutoUpdating=!0))},i.updateFPS.get=function(){return this._updateFPS},i.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},Object.defineProperties(e.prototype,i),e}(d);S.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var T=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(d);f.push(p,T,b,S,w,m,x,_);var k={INSTALLED:f,autoDetectResource:g,ArrayResource:_,BufferResource:m,CanvasResource:b,CubeResource:x,ImageResource:p,ImageBitmapResource:T,SVGResource:w,VideoResource:S,Resource:l,BaseImageResource:d},C=function(t){this.renderer=t};C.prototype.destroy=function(){this.renderer=null};var E=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===s.a.UNPACK),i.width===e.width&&i.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,n.texImage2D(e.target,0,n.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(m),O=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new n.a("disposeFramebuffer",2)},I={colorTexture:{configurable:!0}};I.colorTexture.get=function(){return this.colorTextures[0]},O.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new y(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},O.prototype.addDepthTexture=function(t){return this.depthTexture=t||new y(new E(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:s.e.DEPTH_COMPONENT,type:s.m.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},O.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},O.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},O.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var n=this.colorTextures[i],r=n.resolution;n.setSize(t/r,e/r)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(t/s,e/s)}}},O.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(O.prototype,I);var P=function(t){function e(e){if("number"==typeof e){var i=arguments[0],n=arguments[1],r=arguments[2],s=arguments[3];e={width:i,height:n,scaleMode:r,resolution:s}}t.call(this,null,e);var o=e||{},a=o.width,h=o.height;this.mipmap=!1,this.width=Math.ceil(a)||100,this.height=Math.ceil(h)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new O(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.maskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null},e}(y),M=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};M.prototype.set=function(t,e,i){var n=e.width,r=e.height;if(i){var s=t.width/2/n,o=t.height/2/r,a=t.x/n+s,u=t.y/r+o;i=h.n.add(i,h.n.NW),this.x0=a+s*h.n.uX(i),this.y0=u+o*h.n.uY(i),i=h.n.add(i,2),this.x1=a+s*h.n.uX(i),this.y1=u+o*h.n.uY(i),i=h.n.add(i,2),this.x2=a+s*h.n.uX(i),this.y2=u+o*h.n.uY(i),i=h.n.add(i,2),this.x3=a+s*h.n.uX(i),this.y3=u+o*h.n.uY(i)}else this.x0=t.x/n,this.y0=t.y/r,this.x1=(t.x+t.width)/n,this.y1=t.y/r,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/r,this.x3=t.x/n,this.y3=(t.y+t.height)/r;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var A=new M,R=function(t){function e(i,n,r,s,o,a){if(t.call(this),this.noFrame=!1,n||(this.noFrame=!0,n=new h.j(0,0,1,1)),i instanceof e&&(i=i.baseTexture),this.baseTexture=i,this._frame=n,this.trim=s,this.valid=!1,this.requiresUpdate=!1,this._uvs=A,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(o||0),!0===o)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new h.g(a.x,a.y):new h.g(0,0),this._updateID=0,this.textureCacheIds=[],i.valid?this.noFrame?i.valid&&this.onBaseTextureUpdated(i):this.frame=n:i.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&i.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture.resource;i&&r.TextureCache[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===A&&(this._uvs=new M),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i,n){void 0===i&&(i={}),void 0===n&&(n=o.b.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;s?a=t:(t._pixiId||(t._pixiId="pixiid_"+Object(r.uid)()),a=t._pixiId);var h=r.TextureCache[a];if(s&&n&&!h)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return h||(i.resolution||(i.resolution=Object(r.getResolutionOfUrl)(t)),(h=new e(new y(t,i))).baseTexture.cacheId=a,y.addToCache(h.baseTexture,a),e.addToCache(h,a)),h},e.fromBuffer=function(t,i,n,r){return new e(y.fromBuffer(t,i,n,r))},e.fromLoader=function(t,i,n){var s=new p(t);s.url=i;var a=new e(new y(s,{scaleMode:o.b.SCALE_MODE,resolution:Object(r.getResolutionOfUrl)(i)}));return n||(n=i),y.addToCache(a.baseTexture,n),e.addToCache(a,n),n!==i&&(y.addToCache(a.baseTexture,i),e.addToCache(a,i)),a},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),r.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),r.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=r.TextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete r.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)r.TextureCache[t.textureCacheIds[n]]===t&&delete r.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},i.resolution.get=function(){return this.baseTexture.resolution},i.frame.get=function(){return this._frame},i.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,n=t.width,r=t.height,s=e+n>this.baseTexture.width,o=i+r>this.baseTexture.height;if(s||o){var a=s&&o?"and":"or",h="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,u="Y: "+i+" + "+r+" = "+(i+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=n&&r&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},i.rotate.get=function(){return this._rotate},i.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},i.width.get=function(){return this.orig.width},i.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,i),e}(r.EventEmitter);function D(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}R.EMPTY=new R(new y),D(R.EMPTY),D(R.EMPTY.baseTexture),R.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new R(new y(new b(t)))}(),D(R.WHITE),D(R.WHITE.baseTexture);var L=function(t){function e(e,i){var n=null;if(!(e instanceof P)){var r=arguments[1],s=arguments[2],o=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+r+", "+s+") instead of the ctor directly."),n=arguments[0],i=null,e=new P({width:r,height:s,scaleMode:o,resolution:a})}t.call(this,e,i),this.legacyRenderer=n,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new P(t))},e}(R),F=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};F.prototype.createTexture=function(t,e){var i=new P(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new L(i)},F.prototype.getOptimalTexture=function(t,e,i){void 0===i&&(i=1);var n=F.SCREEN_KEY;t*=i,e*=i,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(n=(65535&(t=Object(r.nextPow2)(t)))<<16|65535&(e=Object(r.nextPow2)(e))),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return s||(s=this.createTexture(t,e)),s.filterPoolKey=n,s.setResolution(i),s},F.prototype.getFilterTexture=function(t,e){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},F.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},F.prototype.returnFilterTexture=function(t){this.returnTexture(t)},F.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}},F.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=F.SCREEN_KEY,i=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},F.SCREEN_KEY="screen";var N=function(t,e,i,n,r,s,o){void 0===i&&(i=!1),void 0===n&&(n=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=n,this.stride=r,this.start=s,this.instance=o};N.prototype.destroy=function(){this.buffer=null},N.from=function(t,e,i,n,r){return new N(t,e,i,n,r)};var B=0,U=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=B++,this.disposeRunner=new n.a("disposeBuffer",2)};function j(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}U.prototype.update=function(t){this.data=t||this.data,this._updateID++},U.prototype.dispose=function(){this.disposeRunner.run(this,!1)},U.prototype.destroy=function(){this.dispose(),this.data=null},U.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new U(t)};var z={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var X={5126:4,5123:2,5121:1},H=0,Y={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},q=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=H++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new n.a("disposeGeometry",2),this.refCount=0};q.prototype.addAttribute=function(t,e,i,n,r,s,o,a){if(void 0===n&&(n=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new U(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,n,r);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new N(l,i,n,r,s,o,a),this.instanced=this.instanced||a,this},q.prototype.getAttribute=function(t){return this.attributes[t]},q.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},q.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new U(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},q.prototype.getIndex=function(){return this.indexBuffer},q.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],n=new U;for(t in this.attributes){var r=this.attributes[t],s=this.buffers[r.buffer];e.push(s.data),i.push(r.size*X[r.type]/4),r.buffer=0}for(n.data=function(t,e){for(var i=0,n=0,r={},s=0;s<t.length;s++)n+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,h=0,u=0;u<t.length;u++){var l=e[u],c=t[u],d=j(c);r[d]||(r[d]=new z[d](o)),a=r[d];for(var p=0;p<c.length;p++){a[(p/l|0)*n+h+p%l]=c[p]}h+=l}return new Float32Array(o)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},q.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},q.prototype.dispose=function(){this.disposeRunner.run(this,!1)},q.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},q.prototype.clone=function(){for(var t=new q,e=0;e<this.buffers.length;e++)t.buffers[e]=new U(this.buffers[e].data.slice());for(var i in this.attributes){var n=this.attributes[i];t.attributes[i]=new N(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},q.merge=function(t){for(var e,i=new q,n=[],r=[],s=[],o=0;o<t.length;o++){e=t[o];for(var a=0;a<e.buffers.length;a++)r[a]=r[a]||0,r[a]+=e.buffers[a].data.length,s[a]=0}for(var h=0;h<e.buffers.length;h++)n[h]=new(Y[j(e.buffers[h].data)])(r[h]),i.buffers[h]=new U(n[h]);for(var u=0;u<t.length;u++){e=t[u];for(var l=0;l<e.buffers.length;l++)n[l].set(e.buffers[l].data,s[l]),s[l]+=e.buffers[l].data.length}if(i.attributes=e.attributes,e.indexBuffer){i.indexBuffer=i.buffers[e.buffers.indexOf(e.indexBuffer)],i.indexBuffer.index=!0;for(var c=0,d=0,p=0,f=0,g=0;g<e.buffers.length;g++)if(e.buffers[g]!==e.indexBuffer){f=g;break}for(var m in e.attributes){var v=e.attributes[m];(0|v.buffer)===f&&(d+=v.size*X[v.type]/4)}for(var y=0;y<t.length;y++){for(var _=t[y].indexBuffer.data,b=0;b<_.length;b++)i.indexBuffer.data[b+p]+=c;c+=e.buffers[f].data.length/d,p+=_.length}}return i};var W=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(q),V=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new U(this.vertices),this.uvBuffer=new U(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+e.width/t.width,this.uvs[3]=n,this.uvs[4]=i+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=i,this.uvs[7]=n+e.height/t.height,i=e.x,n=e.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+e.width,this.vertices[3]=n,this.vertices[4]=i+e.width,this.vertices[5]=n+e.height,this.vertices[6]=i,this.vertices[7]=n+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(q),G=0,$=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=G++,this.static=!!e};$.prototype.update=function(){this.dirtyId++},$.prototype.add=function(t,e,i){this.uniforms[t]=new $(e,i)},$.from=function(t,e){return new $(t,e)};var K=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new h.j,this.destinationFrame=new h.j,this.filters=[]};K.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Z=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool=new F,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new W,this.quadUv=new V,this.tempRect=new h.j,this.activeState={},this.globalUniforms=new $({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var i=this.renderer,n=this.defaultFilterStack,r=this.statePool.pop()||new K,s=e[0].resolution,o=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];s=Math.min(s,l.resolution),o=Math.max(o,l.padding),a=a||l.autoFit,h=h||l.legacy}1===n.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),n.push(r),r.resolution=s,r.legacy=h,r.target=t,r.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),r.sourceFrame.pad(o),a&&r.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),r.sourceFrame.ceil(s),r.renderTexture=this.getOptimalFilterTexture(r.sourceFrame.width,r.sourceFrame.height,s),r.filters=e,r.destinationFrame.width=r.renderTexture.width,r.destinationFrame.height=r.renderTexture.height,r.renderTexture.filterFrame=r.sourceFrame,i.renderTexture.bind(r.renderTexture,r.sourceFrame),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;var r=n.inputSize,s=n.inputPixel,o=n.inputClamp;if(r[0]=e.destinationFrame.width,r[1]=e.destinationFrame.height,r[2]=1/r[0],r[3]=1/r[1],s[0]=r[0]*e.resolution,s[1]=r[1]*e.resolution,s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*r[2]-.5*s[2],o[3]=e.sourceFrame.height*r[3]-.5*s[3],e.legacy){var a=n.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<i.length-1;++c){i[c].apply(this,u,l,!0,e);var d=u;u=l,l=d}i[c].apply(this,u,h.renderTexture,!1,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,i,n){var r=this.renderer;r.renderTexture.bind(i,i?i.filterFrame:null),n&&r.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,r.state.set(t.state),r.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),r.geometry.bind(this.quadUv),r.geometry.draw(s.c.TRIANGLES)):(r.geometry.bind(this.quad),r.geometry.draw(s.c.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,n=i.sourceFrame,r=i.destinationFrame,s=e._texture.orig,o=t.set(r.width,0,0,r.height,n.x,n.y),a=e.worldTransform.copyTo(h.d.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(e.anchor.x,e.anchor.y),o},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,i){return void 0===i&&(i=1),this.texturePool.getOptimalTexture(t,e,i)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return n.filterFrame=t.filterFrame,n},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(C),J=function(t){this.renderer=t};J.prototype.flush=function(){},J.prototype.destroy=function(){this.renderer=null},J.prototype.start=function(){},J.prototype.stop=function(){this.flush()},J.prototype.render=function(t){};var Q=function(t){function e(e){t.call(this,e),this.emptyRenderer=new J(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,n=e-1;n>=0;--n)t[n]=i[n]||null,t[n]&&(t[n]._batchLocation=n)},e.prototype.boundArray=function(t,e,i,n){for(var r=t.elements,s=t.ids,o=t.count,a=0,h=0;h<o;h++){var u=r[h],l=u._batchLocation;if(l>=0&&l<n&&e[l]===u)s[h]=l;else for(;a<n;){var c=e[a];if(!c||c._batchEnabled!==i||c._batchLocation!==a){s[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},e}(C);o.b.PREFER_ENV=r.isMobile.any?s.d.WEBGL:s.d.WEBGL2,o.b.STRICT_TEXTURE_CACHE=!1;var tt=0,et=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={isLost:{configurable:!0}};return i.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=tt++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=tt++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(o.b.PREFER_ENV>=s.d.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),i},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,i),e}(C),it=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new O(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new h.j,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;o.b.PREFER_ENV===s.d.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var i=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var r=0;r<t.colorTextures.length;r++)t.colorTextures[r].texturePart?this.renderer.texture.unbind(t.colorTextures[r].texture):this.renderer.texture.unbind(t.colorTextures[r]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,n){var r=this.viewport;r.width===i&&r.height===n&&r.x===t&&r.y===e||(r.x=t,r.y=e,r.width=i,r.height=n,this.gl.viewport(t,e,i,n))},i.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,i,n){var r=this.gl;r.clearColor(t,e,i,n),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var n=t.colorTextures,r=0;r<n.length;r++)this.renderer.texture.bind(n[r],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures.length;e.drawBuffers||(n=Math.min(n,1));for(var r=[],s=0;s<n;s++){var o=t.colorTextures[s];o.texturePart?(this.renderer.texture.bind(o.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+s,e.TEXTURE_CUBE_MAP_NEGATIVE_X+o.side,o.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(o,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+s,e.TEXTURE_2D,o._glTextures[this.CONTEXT_UID].texture,0)),r.push(e.COLOR_ATTACHMENT0+s)}if((r.length>1&&e.drawBuffers(r),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil))},e.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var r=this.managedFramebuffers.indexOf(t);r>=0&&this.managedFramebuffers.splice(r,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(i.framebuffer),i.stencil&&n.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var i=t.width,n=t.height,r=this.gl,s=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,s),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,i,n),e.stencil=s,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,s)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new h.j},Object.defineProperties(e.prototype,i),e}(C),nt=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},rt={5126:4,5123:2,5121:1},st=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var i=this.renderer.context.extensions.vertexArrayObject;o.b.PREFER_ENV===s.d.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=function(t,e){return n.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,r,s){return n.drawElementsInstancedANGLE(t,e,i,r,s)},t.drawArraysInstanced=function(t,e,i,r){return n.drawArraysInstancedANGLE(t,e,i,r)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID];n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={});var r=n[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==r&&(this._activeVao=r,this.hasVao?i.bindVertexArray(r):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var n=t.buffers[i],r=n._glBuffers[this.CONTEXT_UID];if(n._updateID!==r.updateID){r.updateID=n._updateID;var s=n.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(s,r.buffer),this._boundBuffer=r,r.byteLength>=n.data.byteLength)e.bufferSubData(s,0,n.data);else{var o=n.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;r.byteLength=n.data.byteLength,e.bufferData(s,n.data,o)}}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,n=e.attributeData;for(var r in n)if(!i[r])throw new Error('shader and geometry incompatible, geometry missing the "'+r+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,n=e.attributeData,r=["g",t.id];for(var s in i)n[s]&&r.push(s);return r.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var i=this.gl,n=this.CONTEXT_UID,r=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],o=s[r];if(o)return s[e.id]=o,o;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[d].buffer]+=h[d].size*rt[h[d].type];for(var p in h){var f=h[p],g=f.size;void 0===f.stride&&(u[f.buffer]===g*rt[f.type]?f.stride=0:f.stride=u[f.buffer]),void 0===f.start&&(f.start=l[f.buffer],l[f.buffer]+=g*rt[f.type])}o=i.createVertexArray(),i.bindVertexArray(o);for(var m=0;m<a.length;m++){var v=a[m];v._glBuffers[n]||(v._glBuffers[n]=new nt(i.createBuffer()),this.managedBuffers[v.id]=v,v.disposeRunner.add(this)),v._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=o,s[e.id]=o,s[r]=o,o},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),i&&(e||n.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,r=t.buffers;if(t.disposeRunner.remove(this),i){for(var s=0;s<r.length;s++){var o=r[s]._glBuffers[this.CONTEXT_UID];o.refCount--,0!==o.refCount||e||this.disposeBuffer(r[s],e)}if(!e)for(var a in i)if("g"===a[0]){var h=i[a];this._activeVao===h&&this.unbind(),n.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);e=Object.keys(this.managedBuffers);for(var n=0;n<e.length;n++)this.disposeBuffer(this.managedBuffers[e[n]],t)},e.prototype.activateVao=function(t,e){var i=this.gl,n=this.CONTEXT_UID,r=t.buffers,s=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[n].buffer);var o=null;for(var a in s){var h=s[a],u=r[h.buffer]._glBuffers[n];if(e.attributeData[a]){o!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),o=u);var l=e.attributeData[a].location;if(i.enableVertexAttribArray(l),i.vertexAttribPointer(l,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,i,n){var r=this.gl,s=this._activeGeometry;if(s.indexBuffer){var o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?r.UNSIGNED_SHORT:r.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?r.drawElementsInstanced(t,e||s.indexBuffer.data.length,a,(i||0)*o,n||1):r.drawElements(t,e||s.indexBuffer.data.length,a,(i||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?r.drawArraysInstanced(t,i,e||s.getSize(),n||1):r.drawArrays(t,i,e||s.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(C),ot=function(t){this.type=s.g.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null};function at(t,e,i,n){var r=ht(t,t.VERTEX_SHADER,e),s=ht(t,t.FRAGMENT_SHADER,i),o=t.createProgram();if(t.attachShader(o,r),t.attachShader(o,s),n)for(var a in n)t.bindAttribLocation(o,n[a],a);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(r))),t.getShaderParameter(s,t.COMPILE_STATUS)||(console.warn(i),console.error(t.getShaderInfoLog(s))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(o,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(o)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(o)),t.deleteProgram(o),o=null),t.deleteShader(r),t.deleteShader(s),o}function ht(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),n}function ut(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return lt(2*e);case"bvec3":return lt(3*e);case"bvec4":return lt(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function lt(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}ot.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=s.g.NONE,this.autoDetect=!0),this._target=null},ot.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)};var ct,dt={},pt=dt;function ft(){if(pt===dt||pt&&pt.isContextLost()){var t,e=document.createElement("canvas");o.b.PREFER_ENV>=s.d.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),pt=t}return pt}function gt(t,e,i){if("precision"!==t.substring(0,9)){var n=e;return e===s.i.HIGH&&i!==s.i.HIGH&&(n=s.i.MEDIUM),"precision "+n+" float;\n"+t}return i!==s.i.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var mt={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function vt(t){return mt[t]}var yt=null,_t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function bt(t,e){if(!yt){var i=Object.keys(_t);yt={};for(var n=0;n<i.length;++n){var r=i[n];yt[t[r]]=_t[r]}}return yt[e]}var xt={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},wt={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var St,Tt=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function kt(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var n=Tt.replace(/%forloop%/gi,Ct(t));if(e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}function Ct(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var Et=0,Ot={},It=function t(e,i,n){void 0===n&&(n="pixi-shader"),this.id=Et++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),Ot[n]?(Ot[n]++,n+="-"+Ot[n]):Ot[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=gt(this.vertexSrc,o.b.PRECISION_VERTEX,s.i.HIGH),this.fragmentSrc=gt(this.fragmentSrc,o.b.PRECISION_FRAGMENT,function(){if(!ct){ct=s.i.MEDIUM;var t=ft();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);ct=e.precision?s.i.HIGH:s.i.MEDIUM}}return ct}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},Pt={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};It.prototype.extractData=function(t,e){var i=ft();if(i){var n=at(i,t,e);this.attributeData=this.getAttributeData(n,i),this.uniformData=this.getUniformData(n,i),i.deleteProgram(n)}else this.uniformData={},this.attributeData={}},It.prototype.getAttributeData=function(t,e){for(var i={},n=[],r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<r;s++){var o=e.getActiveAttrib(t,s),a=bt(e,o.type),h={type:a,name:o.name,size:vt(a),location:0};i[o.name]=h,n.push(h)}n.sort((function(t,e){return t.name>e.name?1:-1}));for(var u=0;u<n.length;u++)n[u].location=u;return i},It.prototype.getUniformData=function(t,e){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;r++){var s=e.getActiveUniform(t,r),o=s.name.replace(/\[.*?\]/,""),a=s.name.match(/\[.*?\]/,""),h=bt(e,s.type);i[o]={type:h,size:s.size,isArray:a,value:ut(h,s.size)}}return i},Pt.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},Pt.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},It.from=function(t,e,i){var n=t+e,s=r.ProgramCache[n];return s||(r.ProgramCache[n]=s=new It(t,e,i)),s},Object.defineProperties(It,Pt);var Mt=function(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof $?e:new $(e):new $({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))},At={uniforms:{configurable:!0}};Mt.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var n=e.uniforms[i];if(n.group&&this.checkUniformExists(t,n))return!0}return!1},Mt.prototype.destroy=function(){this.uniformGroup=null},At.uniforms.get=function(){return this.uniformGroup.uniforms},Mt.from=function(t,e,i){var n=It.from(t,e);return new Mt(n,i)},Object.defineProperties(Mt.prototype,At);var Rt=function(){this.data=0,this.blendMode=s.b.NORMAL,this.polygonOffset=0,this.blend=!0},Dt={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};Dt.blend.get=function(){return!!(1&this.data)},Dt.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},Dt.offsets.get=function(){return!!(2&this.data)},Dt.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},Dt.culling.get=function(){return!!(4&this.data)},Dt.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},Dt.depthTest.get=function(){return!!(8&this.data)},Dt.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},Dt.clockwiseFrontFace.get=function(){return!!(16&this.data)},Dt.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},Dt.blendMode.get=function(){return this._blendMode},Dt.blendMode.set=function(t){this.blend=t!==s.b.NONE,this._blendMode=t},Dt.polygonOffset.get=function(){return this._polygonOffset},Dt.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},Rt.for2d=function(){var t=new Rt;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(Rt.prototype,Dt);var Lt=function(t){function e(i,n,r){var s=It.from(i||e.defaultVertexSrc,n||e.defaultFragmentSrc);t.call(this,s,r),this.padding=0,this.resolution=o.b.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new Rt}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0}},n={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,i,n,r){t.applyFilter(this,e,i,n,r)},i.blendMode.get=function(){return this.state.blendMode},i.blendMode.set=function(t){this.state.blendMode=t},n.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},n.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,i),Object.defineProperties(e,n),e}(Mt);Lt.SOURCE_KEY_MAP={};var Ft=new h.d,Nt=function(t,e){this._texture=t,this.mapCoord=new h.d,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},Bt={texture:{configurable:!0}};Bt.texture.get=function(){return this._texture},Bt.texture.set=function(t){this._texture=t,this._updateID=-1},Nt.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,n=0;n<t.length;n+=2){var r=t[n],s=t[n+1];e[n]=r*i.a+s*i.c+i.tx,e[n+1]=r*i.b+s*i.d+i.ty}return e},Nt.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var n=e.orig,r=e.trim;r&&(Ft.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(Ft));var s=e.baseTexture,o=this.uClampFrame,a=this.clampMargin/s.resolution,h=this.clampOffset;return o[0]=(e._frame.x+a+h)/s.width,o[1]=(e._frame.y+a+h)/s.height,o[2]=(e._frame.x+e._frame.width-a+h)/s.width,o[3]=(e._frame.y+e._frame.height-a+h)/s.height,this.uClampOffset[0]=h/s.realWidth,this.uClampOffset[1]=h/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},Object.defineProperties(Nt.prototype,Bt);var Ut=function(t){function e(e){var i=new h.d;t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"),e.renderable=!1,this.maskSprite=e,this.maskMatrix=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,i,n){var r=this.maskSprite,s=this.maskSprite.texture;s.valid&&(s.transform||(s.transform=new Nt(s,0)),s.transform.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(s.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=s.transform.uClampFrame,t.applyFilter(this,e,i,n))},e}(Lt),jt=function(t){function e(e){t.call(this,e),this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){if(!e.isMaskData){var i=this.maskDataPool.pop()||new ot;i.pooled=!0,i.maskObject=e,e=i}switch(e.autoDetect&&this.detect(e),e.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),e._target=t,e.type){case s.g.SCISSOR:this.maskStack.push(e),this.renderer.scissor.push(e);break;case s.g.STENCIL:this.maskStack.push(e),this.renderer.stencil.push(e);break;case s.g.SPRITE:e.copyCountersOrReset(null),this.pushSpriteMask(e),this.maskStack.push(e)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case s.g.SCISSOR:this.renderer.scissor.pop();break;case s.g.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case s.g.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=s.g.SPRITE;else if(t.type=s.g.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var i=e.worldTransform,n=Math.atan2(i.b,i.a),r=Math.atan2(i.d,i.c);n=Math.round(n*(180/Math.PI)*100),r=((r=Math.round(r*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0===(n=(n%9e3+9e3)%9e3)&&9e3===r&&(t.type=s.g.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,i=t._target,n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Ut(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e;var r=i.filterArea;i.filterArea=e.getBounds(!0),this.renderer.filter.push(i,n),i.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(C),zt=function(t){function e(e){t.call(this,e),this.maskStack=[],this.glConst=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var n=this.getStackLength();n!==i&&(0===n?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.maskStack=null},e}(C),Xt=function(t){function e(e){t.call(this,e),this.glConst=WebGLRenderingContext.SCISSOR_TEST}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var i=t._scissorRect,n=e.getBounds(!0),r=this.renderer.gl;e.renderable=!1,i?n.fit(i):r.enable(r.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=n,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,i=this.renderer.projection,n=i.transform,r=i.sourceFrame,s=i.destinationFrame,o=e?e.resolution:this.renderer.resolution,a=(t.x-r.x)*o+s.x,h=(t.y-r.y)*o+s.y,u=t.width*o,l=t.height*o;n&&(a+=n.tx*o,h+=n.ty*o),e||(h=this.renderer.height-l-h),this.renderer.gl.scissor(a,h,u,l)},e}(zt),Ht=function(t){function e(e){t.call(this,e),this.glConst=WebGLRenderingContext.STENCIL_TEST}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),t._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,n,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(zt),Yt=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new h.d,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,i,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);var r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,i,n){var r=this.projectionMatrix;n?(r.a=1/t.width*2*i,r.d=-1/t.height*2*i,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2*i,r.d=1/t.height*2*i,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},e.prototype.setTransform=function(){},e}(C),qt=new h.j,Wt=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new h.j,this.destinationFrame=new h.j}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,i){void 0===t&&(t=null),this.current=t;var n,r=this.renderer;if(t){var s=t.baseTexture;n=s.resolution,i||(qt.width=s.realWidth,qt.height=s.realHeight,i=qt),e||(e=i),this.renderer.framebuffer.bind(s.framebuffer,i),this.renderer.projection.update(i,e,n,!1),this.renderer.mask.setMaskStack(s.maskStack)}else n=this.renderer.resolution,i||(qt.width=r.width,qt.height=r.height,i=qt),e||(e=i),r.framebuffer.bind(null,i),this.renderer.projection.update(i,e,n,!0),this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=i.x/n,this.destinationFrame.y=i.y/n,this.destinationFrame.width=i.width/n,this.destinationFrame.height=i.height/n,e===i&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(C),Vt=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};Vt.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Gt=0,$t={textureCount:0},Kt=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Gt++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof St)return St;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");St=!0===t({a:"b"},"a","b")}catch(t){St=!1}return St}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),e||($t.textureCount=0,this.syncUniformGroup(t.uniformGroup,$t)),n},e.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var i=this.getglProgram();t.static&&t.dirtyId===i.uniformGroups[t.id]||(i.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},e.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i="var v = null;\n    var cv = null\n    var t = 0;\n    var gl = renderer.gl\n    ";for(var n in t.uniforms){var r=e[n];if(r)if("float"===r.type&&1===r.size)i+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n";else if("sampler2D"!==r.type&&"samplerCube"!==r.type&&"sampler2DArray"!==r.type||1!==r.size||r.isArray)if("mat3"===r.type&&1===r.size)void 0!==t.uniforms[n].a?i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n";else if("vec2"===r.type&&1===r.size)void 0!==t.uniforms[n].x?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n";else if("vec4"===r.type&&1===r.size)void 0!==t.uniforms[n].width?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n";else{i+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===r.size?xt:wt)[r.type].replace("location","ud."+n+".location")+";\n"}else i+="\n\n            t = syncData.textureCount++;\n\n            renderer.texture.bind(uv."+n+", t);\n            \n            if(ud."+n+".value !== t)\n            {\n                ud."+n+".value = t;\n                gl.uniform1i(ud."+n+".location, t);\n; // eslint-disable-line max-len\n            }\n";else t.uniforms[n].group&&(i+="\n                    renderer.shader.syncUniformGroup(uv."+n+", syncData);\n                ")}return new Function("ud","uv","renderer","syncData",i)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,n=[];for(var r in i)n.push(r),e[r]&&n.push(e[r].type);return n.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,n={};for(var r in i.attributeData)n[r]=i.attributeData[r].location;var s=at(e,i.vertexSrc,i.fragmentSrc,n),o={};for(var a in i.uniformData){var h=i.uniformData[a];o[a]={location:e.getUniformLocation(s,a),value:ut(h.type,h.size)}}var u=new Vt(s,o);return i.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(C);var Zt=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=s.b.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.checks=[],this.defaultState=new Rt,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[s.b.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.ADD]=[t.ONE,t.ONE],e[s.b.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.NONE]=[0,0],e[s.b.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[s.b.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[s.b.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[s.b.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[s.b.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[s.b.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[s.b.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[s.b.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[s.b.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[s.b.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[s.b.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(C),Jt=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=o.b.GC_MAX_IDLE,this.checkCountMax=o.b.GC_MAX_CHECK_COUNT,this.mode=o.b.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==s.f.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,n=0;n<e.length;n++){var r=e[n];!r.framebuffer&&this.count-r.touched>this.maxIdle&&(t.destroyTexture(r,!0),e[n]=null,i=!0)}if(i){for(var s=0,o=0;o<e.length;o++)null!==e[o]&&(e[s++]=e[o]);e.length=s}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(C),Qt=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},te=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new y}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var n=new Qt(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Qt(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var s=0;s<this.boundTextures.length;s++)this.bind(null,s)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,n.texture)),n.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(var r=0;r<i.length;r++)i[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),i[r]=null)},e.prototype.initTexture=function(t){var e=new Qt(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var i=this.renderer.gl;t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===s.m.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e));else{var n=t.realWidth,r=t.realHeight,s=i.gl;(e.width!==n||e.height!==r||e.dirtyId<0)&&(e.width=n,e.height=r,s.texImage2D(t.target,0,e.internalFormat,n,r,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var n=this.managedTextures.indexOf(t);-1!==n&&Object(r.removeItems)(this.managedTextures,n,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==s.h.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=0,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=s.n.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===s.k.LINEAR){var r=Math.min(t.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,r)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode?i.LINEAR:i.NEAREST)},e}(C),ee={FilterSystem:Z,BatchSystem:Q,ContextSystem:et,FramebufferSystem:it,GeometrySystem:st,MaskSystem:jt,ScissorSystem:Xt,StencilSystem:Ht,ProjectionSystem:Yt,RenderTextureSystem:Wt,ShaderSystem:Kt,StateSystem:Zt,TextureGCSystem:Jt,TextureSystem:te},ie=new h.d,ne=function(t){function e(e,i){t.call(this),(i=Object.assign({},o.b.RENDER_OPTIONS,i)).roundPixels&&(o.b.ROUND_PIXELS=i.roundPixels,Object(r.deprecation)("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=i,this.type=s.j.UNKNOWN,this.screen=new h.j(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||o.b.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new u.b,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},i.width.get=function(){return this.view.width},i.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,i,n){0===(n=n||t.getLocalBounds()).width&&(n.width=1),0===n.height&&(n.height=1);var r=L.create(0|n.width,0|n.height,e,i);return ie.tx=-n.x,ie.ty=-n.y,this.render(t,r,!1,ie,!!t.parent),r},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=s.j.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i.backgroundColor.get=function(){return this._backgroundColor},i.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=Object(r.hex2string)(t),Object(r.hex2rgb)(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,i),e}(r.EventEmitter),re=function(t){function e(i){void 0===i&&(i={}),t.call(this,"WebGL",i),i=this.options,this.type=s.j.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new n.a("destroy"),contextChange:new n.a("contextChange",1),reset:new n.a("reset"),update:new n.a("update"),postrender:new n.a("postrender"),prerender:new n.a("prerender"),resize:new n.a("resize",2)},this.globalUniforms=new $({projectionMatrix:new h.d},!0),this.addSystem(jt,"mask").addSystem(et,"context").addSystem(Zt,"state").addSystem(Kt,"shader").addSystem(te,"texture").addSystem(st,"geometry").addSystem(it,"framebuffer").addSystem(Xt,"scissor").addSystem(Ht,"stencil").addSystem(Yt,"projection").addSystem(Jt,"textureGC").addSystem(Z,"filter").addSystem(Wt,"renderTexture").addSystem(Q,"batch"),this.initPlugins(e.__plugins),i.context?this.context.initFromContext(i.context):this.context.initFromOptions({alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,Object(r.sayHello)(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(Object(r.isWebGLSupported)())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var n in this[e]=i,this.runners)this.runners[n].add(i);return this},e.prototype.render=function(t,e,i,n,r){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(e||(this._lastObjectRendered=t),!r){var s=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.run(e,i)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.run(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(ne);function se(t){return re.create(t)}var oe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ae="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",he=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,i){return new e(new x(t,i))},e}(y),ue=function(){this.texArray=null,this.blend=0,this.type=s.c.TRIANGLES,this.start=0,this.size=0,this.data=null},le=function(){this.elements=[],this.ids=[],this.count=0};le.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0};var ce=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},de={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};de.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},de.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},de.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},de.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},de.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},ce.prototype.view=function(t){return this[t+"View"]},ce.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},ce.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(ce.prototype,de);var pe=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=Rt.for2d(),this.size=4*o.b.SPRITE_BATCH_SIZE,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;o.b.PREFER_ENV===s.d.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),o.b.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=kt(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,i=e._textureArrayPool,n=this.size/4,r=Math.floor(n/this.MAX_TEXTURES)+1;t.length<n;)t.push(new ue);for(;i.length<r;)i.push(new le);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,i=this.MAX_TEXTURES,n=e._textureArrayPool,r=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count,a=++y._globalBatch,h=0,u=n[0],l=0;r.copyBoundTextures(s,i);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=i&&(r.boundArray(u,s,a,i),this.buildDrawCalls(u,l,c),l=c,u=n[++h],++a),d._batchEnabled=a,d.touched=o,u.elements[u.count++]=d)}u.count>0&&(r.boundArray(u,s,a,i),this.buildDrawCalls(u,l,this._bufferSize),++h,++a);for(var p=0;p<s.length;p++)s[p]=null;y._globalBatch=a},e.prototype.buildDrawCalls=function(t,i,n){var s=this._bufferedElements,o=this._attributeBuffer,a=this._indexBuffer,h=this.vertexSize,u=e._drawCallPool,l=this._dcIndex,c=this._aIndex,d=this._iIndex,p=u[l];p.start=this._iIndex,p.texArray=t;for(var f=i;f<n;++f){var g=s[f],m=g._texture.baseTexture,v=r.premultiplyBlendMode[m.alphaMode?1:0][g.blendMode];s[f]=null,i<f&&p.blend!==v&&(p.size=d-p.start,i=f,(p=u[++l]).texArray=t,p.start=d),this.packInterleavedGeometry(g,o,a,c,d),c+=g.vertexData.length/2*h,d+=g.indices.length,p.blend=v}i<n&&(p.size=d-p.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,i=this._indexBuffer;o.b.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,i=this.renderer,n=i.gl,r=i.state,s=e._drawCallPool,o=null,a=0;a<t;a++){var h=s[a],u=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;o!==u&&(o=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,r.set(this.state),n.drawElements(l,c,n.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),o.b.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Object(r.nextPow2)(Math.ceil(t/8)),i=Object(r.log2)(e),n=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._aBuffers[n];return s||(this._aBuffers[n]=s=new ce(n*this.vertexSize*4)),s},e.prototype.getIndexBuffer=function(t){var e=Object(r.nextPow2)(Math.ceil(t/12)),i=Object(r.log2)(e),n=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(n)),s},e.prototype.packInterleavedGeometry=function(t,e,i,n,s){for(var o=e.uint32View,a=e.float32View,h=n/this.vertexSize,u=t.uvs,l=t.indices,c=t.vertexData,d=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),f=p<1&&t._texture.baseTexture.alphaMode?Object(r.premultiplyTint)(t._tintRGB,p):t._tintRGB+(255*p<<24),g=0;g<c.length;g+=2)a[n++]=c[g],a[n++]=c[g+1],a[n++]=u[g],a[n++]=u[g+1],o[n++]=f,a[n++]=d;for(var m=0;m<l.length;m++)i[s++]=h+l[m]},e}(J);pe._drawCallPool=[],pe._textureArrayPool=[];var fe=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};fe.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=$.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new It(this.vertexSrc,n)}var r={tint:new Float32Array([1,1,1,1]),translationMatrix:new h.d,default:this.defaultGroupCache[t]};return new Mt(this.programCache[t],r)},fe.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"};var ge=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new U(null,e,!1),this._indexBuffer=new U(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,s.m.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,s.m.FLOAT).addAttribute("aColor",this._buffer,4,!0,s.m.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,s.m.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(q),me="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ve="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ye=function(){},_e={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};ye.create=function(t){var e=Object.assign({vertex:me,fragment:ve,geometryClass:ge,vertexSize:6},t),i=e.vertex,n=e.fragment,r=e.vertexSize,s=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new fe(i,n),this.geometryClass=s,this.vertexSize=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(pe)},_e.defaultVertexSrc.get=function(){return me},_e.defaultFragmentTemplate.get=function(){return ve},Object.defineProperties(ye,_e);var be=ye.create()},xAGQ:function(t,e,i){"use strict";var n=i("xTJ+");t.exports=function(t,e,i){return n.forEach(i,(function(i){t=i(t,e)})),t}},xO9n:function(t,e,i){var n=i("S05e");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(t.exports=n.locals)},xOCI:function(t,e,i){"use strict";var n=i("lq1m");i.n(n).a},"xTJ+":function(t,e,i){"use strict";var n=i("HSsa"),r=Object.prototype.toString;function s(t){return"[object Array]"===r.call(t)}function o(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function h(t){return"[object Function]"===r.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:o,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:h,isStream:function(t){return a(t)&&h(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]=i}for(var n=0,r=arguments.length;n<r;n++)u(arguments[n],i);return e},deepMerge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]="object"==typeof i?t({},i):i}for(var n=0,r=arguments.length;n<r;n++)u(arguments[n],i);return e},extend:function(t,e,i){return u(e,(function(e,r){t[r]=i&&"function"==typeof e?n(e,i):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},xmrU:function(t,e,i){"use strict";var n=i("wp0G"),r=i("fqrp"),s=i("msCR"),o=i("0/xZ"),a=i("qoEl"),h=i("sKAn"),u=new o.d;s.c.prototype._cacheAsBitmap=!1,s.c.prototype._cacheData=!1;var l=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(s.c.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),s.c.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},s.c.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds().clone();if(this.filters){var s=this.filters[0].padding;i.pad(s)}i.ceil(h.b.RESOLUTION);var o=t.renderTexture.current,l=t.renderTexture.sourceFrame,c=t.projection.transform,d=n.x.create(i.width,i.height),p="cacheAsBitmap_"+Object(a.uid)();this._cacheData.textureCacheId=p,n.e.addToCache(d.baseTexture,p),n.E.addToCache(d,p);var f=u;f.tx=-i.x,f.ty=-i.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,d,!0,f,!0),t.projection.transform=c,t.renderTexture.bind(o,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var g=new r.a(d);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-i.x/i.width,g.anchor.y=-i.y/i.height,g.alpha=e,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=g.containsPoint.bind(g)}},s.c.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},s.c.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var s=t.context;e.ceil(h.b.RESOLUTION);var o=n.x.create(e.width,e.height),l="cacheAsBitmap_"+Object(a.uid)();this._cacheData.textureCacheId=l,n.e.addToCache(o.baseTexture,l),n.E.addToCache(o,l);var c=u;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,c,!1),t.context=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var d=new r.a(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-e.x/e.width,d.anchor.y=-e.y/e.height,d.alpha=i,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}},s.c.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},s.c.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},s.c.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,n.e.removeFromCache(this._cacheData.textureCacheId),n.E.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},s.c.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},yK9s:function(t,e,i){"use strict";var n=i("xTJ+");t.exports=function(t,e){n.forEach(t,(function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])}))}},yLpj:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},yhKO:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".song-name[data-v-288c3f14] {\n  width: 75vmin;\n  bottom: 0;\n  left: 25vmin;\n  position: absolute;\n  padding: 0.5rem;\n  color: #FFFFFF;\n  background-color: #000000;\n  font-weight: bold;\n  text-align: center;\n  display: block;\n  transition: all 5s;\n  -webkit-filter: opacity(0);\n          filter: opacity(0);\n}\n.song-name.in-menu[data-v-288c3f14] {\n  width: 25vmin;\n  transition: all 0.25s;\n}\n.song-name.is-visible[data-v-288c3f14] {\n  -webkit-filter: opacity(1);\n          filter: opacity(1);\n}\n.board-filter[data-v-288c3f14] {\n  transition: all 3s;\n}\n.game-grid[data-v-288c3f14] {\n  transition: all 0.25s;\n}\n.board-filter.is-day-one[data-v-288c3f14] {\n  -webkit-filter: sepia(0%);\n          filter: sepia(0%);\n}\n.board-filter.is-day-two[data-v-288c3f14] {\n  -webkit-filter: sepia(10%);\n          filter: sepia(10%);\n}\n.board-filter.is-day-three[data-v-288c3f14] {\n  -webkit-filter: sepia(20%);\n          filter: sepia(20%);\n}\n.board-filter.is-day-four[data-v-288c3f14] {\n  -webkit-filter: sepia(30%);\n          filter: sepia(30%);\n}\n.board-filter.is-day-five[data-v-288c3f14] {\n  -webkit-filter: sepia(20%);\n          filter: sepia(20%);\n}\n.board-filter.is-day-six[data-v-288c3f14] {\n  -webkit-filter: sepia(10%);\n          filter: sepia(10%);\n}\n.board-filter.is-night-one[data-v-288c3f14] {\n  -webkit-filter: grayscale(20%);\n          filter: grayscale(20%);\n}\n.board-filter.is-night-two[data-v-288c3f14] {\n  -webkit-filter: grayscale(50%);\n          filter: grayscale(50%);\n}\n.board-filter.is-night-three[data-v-288c3f14] {\n  -webkit-filter: grayscale(70%);\n          filter: grayscale(70%);\n}\n.board-filter.is-night-four[data-v-288c3f14] {\n  -webkit-filter: grayscale(80%);\n          filter: grayscale(80%);\n}\n.board-filter.is-night-five[data-v-288c3f14] {\n  -webkit-filter: grayscale(50%);\n          filter: grayscale(50%);\n}\n.board-filter.is-night-six[data-v-288c3f14] {\n  -webkit-filter: grayscale(20%);\n          filter: grayscale(20%);\n}\n.board-filter.is-dead[data-v-288c3f14] {\n  -webkit-filter: grayscale(100%);\n          filter: grayscale(100%);\n}\n.game-grid.is-darkened[data-v-288c3f14] {\n  -webkit-filter: brightness(0);\n          filter: brightness(0);\n  transition: all 3s;\n}\n.game-grid.is-blurred[data-v-288c3f14] {\n  -webkit-filter: blur(3px);\n          filter: blur(3px);\n  transition: all 0.5s;\n}\n.game-grid.is-blurred.is-darkened[data-v-288c3f14] {\n  -webkit-filter: brightness(0) blur(3px);\n          filter: brightness(0) blur(3px);\n  transition: all 0.5s;\n}\n.game-grid.is-blacked-out[data-v-288c3f14] {\n  -webkit-filter: brightness(0);\n          filter: brightness(0);\n  transition: all 0.1s;\n}\n.game-grid.is-blacked-out.is-blurred[data-v-288c3f14] {\n  -webkit-filter: brightness(0) blur(3px);\n          filter: brightness(0) blur(3px);\n  transition: all 0.1s;\n}\n.flip-container.is-dead[data-v-288c3f14] {\n  -webkit-filter: grayscale(100%);\n          filter: grayscale(100%);\n}\n.drops-enter-active[data-v-288c3f14], .drops-leave-active[data-v-288c3f14] {\n  transition: all 0.5s;\n}\n.drops-enter[data-v-288c3f14], .drops-leave-to[data-v-288c3f14] {\n  opacity: 0;\n}\n.is-builder-mode[data-v-288c3f14] {\n  height: 100vmin;\n  width: 100vmin;\n  top: 0;\n  position: absolute;\n  margin: auto;\n  -webkit-animation: flicker-data-v-288c3f14 2s infinite;\n          animation: flicker-data-v-288c3f14 2s infinite;\n}\n@-webkit-keyframes flicker-data-v-288c3f14 {\n0% {\n    opacity: 1;\n}\n50% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n@keyframes flicker-data-v-288c3f14 {\n0% {\n    opacity: 1;\n}\n50% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n.version-display[data-v-288c3f14] {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}\n.chat-input[data-v-288c3f14] {\n  resize: none;\n  font-size: 1.6rem;\n  color: #FFFFFF;\n  background-color: #000000;\n  border: none;\n  overflow: auto;\n  outline: none;\n  height: 98%;\n  width: 100%;\n}\n\n/* entire container, keeps perspective */\n.flip-container[data-v-288c3f14] {\n  perspective: 1000px;\n  top: 75vmin;\n  left: 0vmin;\n  position: absolute;\n}\n\n/* flip the pane when hovered */\n/*.flip-container:hover .flipper, .flip-container.hover .flipper,*/\n.flip-container.is-flipped .flipper[data-v-288c3f14] {\n  transform: rotateY(180deg);\n}\n.flip-container[data-v-288c3f14], .front[data-v-288c3f14], .back[data-v-288c3f14] {\n  width: 25vmin;\n  height: 25vmin;\n}\n\n/* flip speed goes here */\n.flipper[data-v-288c3f14] {\n  transition: 0.5s;\n  transform-style: preserve-3d;\n  position: relative;\n}\n\n/* hide back of pane during swap */\n.front[data-v-288c3f14], .back[data-v-288c3f14] {\n  -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n/* front pane, placed above back */\n.front[data-v-288c3f14] {\n  z-index: 2;\n  /* for firefox 31 */\n  transform: rotateY(0deg);\n}\n\n/* back, initially hidden pane */\n.back[data-v-288c3f14] {\n  transform: rotateY(180deg);\n}\n.fade-enter-active[data-v-288c3f14] {\n  -webkit-animation: fade-in-data-v-288c3f14 0.3s;\n          animation: fade-in-data-v-288c3f14 0.3s;\n}\n.fade-leave-to[data-v-288c3f14] {\n  -webkit-animation: fade-out-data-v-288c3f14 0.3s;\n          animation: fade-out-data-v-288c3f14 0.3s;\n}\n.slow-fade-enter-active[data-v-288c3f14] {\n  -webkit-animation: fade-in-data-v-288c3f14 0.2s;\n          animation: fade-in-data-v-288c3f14 0.2s;\n}\n.slow-fade-leave-to[data-v-288c3f14] {\n  -webkit-animation: fade-out-data-v-288c3f14 0.3s;\n          animation: fade-out-data-v-288c3f14 0.3s;\n}\n@-webkit-keyframes fade-in-data-v-288c3f14 {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n@keyframes fade-in-data-v-288c3f14 {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n@-webkit-keyframes fade-out-data-v-288c3f14 {\nfrom {\n    opacity: 1;\n}\nto {\n    opacity: 0;\n}\n}\n@keyframes fade-out-data-v-288c3f14 {\nfrom {\n    opacity: 1;\n}\nto {\n    opacity: 0;\n}\n}\n.connecting[data-v-288c3f14] {\n  -webkit-animation: fade-shrink-data-v-288c3f14 0.3s;\n          animation: fade-shrink-data-v-288c3f14 0.3s;\n  transition: all 0.3s ease;\n}\n.connecting-fade-leave-to[data-v-288c3f14] {\n  opacity: 0;\n  transform: scale(0, 0) translate(0, 20vh);\n}\n@-webkit-keyframes fade-shrink-data-v-288c3f14 {\nfrom {\n    opacity: 0;\n    transform: scale(0, 0) translate(0, 20vh);\n}\nto {\n    opacity: 1;\n    transform: scale(1, 1);\n}\n}\n@keyframes fade-shrink-data-v-288c3f14 {\nfrom {\n    opacity: 0;\n    transform: scale(0, 0) translate(0, 20vh);\n}\nto {\n    opacity: 1;\n    transform: scale(1, 1);\n}\n}",""])},zHpw:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("wp0G"),r=function(t){function e(e){void 0===e&&(e=1),t.call(this,n.M,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={alpha:{configurable:!0}};return i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(n.n)},zuR4:function(t,e,i){"use strict";var n=i("xTJ+"),r=i("HSsa"),s=i("CgaS"),o=i("SntB");function a(t){var e=new s(t),i=r(s.prototype.request,e);return n.extend(i,s.prototype,e),n.extend(i,e),i}var h=a(i("JEQr"));h.Axios=s,h.create=function(t){return a(o(h.defaults,t))},h.Cancel=i("endd"),h.CancelToken=i("jfS+"),h.isCancel=i("Lmem"),h.all=function(t){return Promise.all(t)},h.spread=i("DfZB"),t.exports=h,t.exports.default=h}},[[0,1,2]]]);